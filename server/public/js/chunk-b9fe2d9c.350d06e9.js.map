{"version":3,"sources":["webpack:///./src/service/blog/blogs.ts","webpack:///./src/service/upload/upload.ts","webpack:///./src/views/cms/blog.vue?0d54","webpack:///./src/components/service/upload/BlogUpload.vue?c815","webpack:///./src/views/cms/blog.vue","webpack:///./src/assets/vditor/vditor.ts","webpack:///./src/service/category/category.ts","webpack:///./src/components/service/upload/BlogUpload.vue?c66b","webpack:///./src/components/service/upload/BlogUpload.vue","webpack:///./src/components/service/upload/BlogUpload.vue?ac06","webpack:///./src/views/cms/blog.vue?eadb","webpack:///./node_modules/vditor/dist/index.min.js"],"names":["getAllBlogs","get","url","getBlogs","createBlog","data","post","getBlogById","id","updateBlogById","put","deleteBlogById","delete","upload","class","title","round","placeholder","value","blog","imgUpdated","cover","cols","label","password","disabled","isPublish","options","categorys","handleSelect","category","show-count","maxlength","header-extra","submit","type","toolbar","name","emoji","a","ab","abc","abcd","Accept","aerial_tramway","afghanistan","airplane","aland_islands","alarm_clock","albania","alembic","algeria","alien","ambulance","american_samoa","amphora","anchor","andorra","angel","anger","angola","angry","anguilla","anguished","ant","antarctica","antigua_barbuda","apple","aquarius","argentina","aries","armenia","arrow_backward","arrow_double_down","arrow_double_up","arrow_down","arrow_down_small","arrow_forward","arrow_heading_down","arrow_heading_up","arrow_left","arrow_lower_left","arrow_lower_right","arrow_right","arrow_right_hook","arrow_up","arrow_up_down","arrow_up_small","arrow_upper_left","arrow_upper_right","arrows_clockwise","arrows_counterclockwise","art","articulated_lorry","artificial_satellite","aruba","asterisk","astonished","athletic_shoe","atm","atom_symbol","australia","austria","avocado","azerbaijan","b","baby","baby_bottle","baby_chick","baby_symbol","back","bacon","badminton","baggage_claim","baguette_bread","bahamas","bahrain","balance_scale","balloon","ballot_box","ballot_box_with_check","bamboo","banana","bangbang","bangladesh","bank","bar_chart","barbados","barber","baseball","basketball","basketball_man","basketball_woman","bat","bath","bathtub","battery","beach_umbrella","bear","bed","bee","beer","beers","beetle","beginner","belarus","belgium","belize","bell","bellhop_bell","benin","bento","bermuda","bhutan","bicyclist","bike","biking_man","biking_woman","bikini","biohazard","bird","birthday","black_circle","black_flag","black_heart","black_joker","black_large_square","black_medium_small_square","black_medium_square","black_nib","black_small_square","black_square_button","blonde_man","blonde_woman","blossom","blowfish","blue_book","blue_car","blue_heart","blush","boar","boat","bolivia","bomb","book","bookmark","bookmark_tabs","books","boom","boot","bosnia_herzegovina","botswana","bouquet","bow","bow_and_arrow","bowing_man","bowing_woman","bowling","boxing_glove","boy","brazil","bread","bride_with_veil","bridge_at_night","briefcase","british_indian_ocean_territory","british_virgin_islands","broken_heart","brunei","bug","building_construction","bulb","bulgaria","bullettrain_front","bullettrain_side","burkina_faso","burrito","burundi","bus","business_suit_levitating","busstop","bust_in_silhouette","busts_in_silhouette","butterfly","cactus","cake","calendar","call_me_hand","calling","cambodia","camel","camera","camera_flash","cameroon","camping","canada","canary_islands","cancer","candle","candy","canoe","cape_verde","capital_abcd","capricorn","car","card_file_box","card_index","card_index_dividers","caribbean_netherlands","carousel_horse","carrot","cat","cat2","cayman_islands","cd","central_african_republic","chad","chains","champagne","chart","chart_with_downwards_trend","chart_with_upwards_trend","checkered_flag","cheese","cherries","cherry_blossom","chestnut","chicken","children_crossing","chile","chipmunk","chocolate_bar","christmas_island","christmas_tree","church","cinema","circus_tent","city_sunrise","city_sunset","cityscape","cl","clamp","clap","clapper","classical_building","clinking_glasses","clipboard","clock1","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock130","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","closed_book","closed_lock_with_key","closed_umbrella","cloud","cloud_with_lightning","cloud_with_lightning_and_rain","cloud_with_rain","cloud_with_snow","clown_face","clubs","cn","cocktail","cocos_islands","coffee","coffin","cold_sweat","collision","colombia","comet","comoros","computer","computer_mouse","confetti_ball","confounded","confused","congo_brazzaville","congo_kinshasa","congratulations","construction","construction_worker","construction_worker_man","construction_worker_woman","control_knobs","convenience_store","cook_islands","cookie","cool","cop","copyright","corn","costa_rica","cote_divoire","couch_and_lamp","couple","couple_with_heart","couple_with_heart_man_man","couple_with_heart_woman_man","couple_with_heart_woman_woman","couplekiss_man_man","couplekiss_man_woman","couplekiss_woman_woman","cow","cow2","cowboy_hat_face","crab","crayon","credit_card","crescent_moon","cricket","croatia","crocodile","croissant","crossed_fingers","crossed_flags","crossed_swords","crown","cry","crying_cat_face","crystal_ball","cuba","cucumber","cupid","curacao","curly_loop","currency_exchange","curry","custard","customs","cyclone","cyprus","czech_republic","dagger","dancer","dancers","dancing_men","dancing_women","dango","dark_sunglasses","dart","dash","date","de","deciduous_tree","deer","denmark","department_store","derelict_house","desert","desert_island","desktop_computer","detective","diamond_shape_with_a_dot_inside","diamonds","disappointed","disappointed_relieved","dizzy","dizzy_face","djibouti","do_not_litter","dog","dog2","dollar","dolls","dolphin","dominica","dominican_republic","door","doughnut","dove","dragon","dragon_face","dress","dromedary_camel","drooling_face","droplet","drum","duck","dvd","eagle","ear","ear_of_rice","earth_africa","earth_americas","earth_asia","ecuador","egg","eggplant","egypt","eight","eight_pointed_black_star","eight_spoked_asterisk","el_salvador","electric_plug","elephant","email","end","envelope","envelope_with_arrow","equatorial_guinea","eritrea","es","estonia","ethiopia","eu","euro","european_castle","european_post_office","european_union","evergreen_tree","exclamation","expressionless","eye","eye_speech_bubble","eyeglasses","eyes","face_with_head_bandage","face_with_thermometer","facepunch","factory","falkland_islands","fallen_leaf","family","family_man_boy","family_man_boy_boy","family_man_girl","family_man_girl_boy","family_man_girl_girl","family_man_man_boy","family_man_man_boy_boy","family_man_man_girl","family_man_man_girl_boy","family_man_man_girl_girl","family_man_woman_boy","family_man_woman_boy_boy","family_man_woman_girl","family_man_woman_girl_boy","family_man_woman_girl_girl","family_woman_boy","family_woman_boy_boy","family_woman_girl","family_woman_girl_boy","family_woman_girl_girl","family_woman_woman_boy","family_woman_woman_boy_boy","family_woman_woman_girl","family_woman_woman_girl_boy","family_woman_woman_girl_girl","faroe_islands","fast_forward","fax","fearful","feet","female_detective","ferris_wheel","ferry","field_hockey","fiji","file_cabinet","file_folder","film_projector","film_strip","finland","fire","fire_engine","fireworks","first_quarter_moon","first_quarter_moon_with_face","fish","fish_cake","fishing_pole_and_fish","fist","fist_left","fist_oncoming","fist_raised","fist_right","five","flags","flashlight","fleur_de_lis","flight_arrival","flight_departure","flipper","floppy_disk","flower_playing_cards","flushed","fog","foggy","football","footprints","fork_and_knife","fountain","fountain_pen","four","four_leaf_clover","fox_face","fr","framed_picture","free","french_guiana","french_polynesia","french_southern_territories","fried_egg","fried_shrimp","fries","frog","frowning","frowning_face","frowning_man","frowning_woman","fu","fuelpump","full_moon","full_moon_with_face","funeral_urn","gabon","gambia","game_die","gb","gear","gem","gemini","georgia","ghana","ghost","gibraltar","gift","gift_heart","girl","globe_with_meridians","goal_net","goat","golf","golfing_man","golfing_woman","gorilla","grapes","greece","green_apple","green_book","green_heart","green_salad","greenland","grenada","grey_exclamation","grey_question","grimacing","grin","grinning","guadeloupe","guam","guardsman","guardswoman","guatemala","guernsey","guinea","guinea_bissau","guitar","gun","guyana","haircut","haircut_man","haircut_woman","haiti","hamburger","hammer","hammer_and_pick","hammer_and_wrench","hamster","hand","handbag","handshake","hankey","hash","hatched_chick","hatching_chick","headphones","hear_no_evil","heart","heart_decoration","heart_eyes","heart_eyes_cat","heartbeat","heartpulse","hearts","heavy_check_mark","heavy_division_sign","heavy_dollar_sign","heavy_exclamation_mark","heavy_heart_exclamation","heavy_minus_sign","heavy_multiplication_x","heavy_plus_sign","helicopter","herb","hibiscus","high_brightness","high_heel","hocho","hole","honduras","honey_pot","honeybee","hong_kong","horse","horse_racing","hospital","hot_pepper","hotdog","hotel","hotsprings","hourglass","hourglass_flowing_sand","house","house_with_garden","houses","hugs","hungary","hushed","ice_cream","ice_hockey","ice_skate","icecream","iceland","ideograph_advantage","imp","inbox_tray","incoming_envelope","india","indonesia","information_desk_person","information_source","innocent","interrobang","iphone","iran","iraq","ireland","isle_of_man","israel","it","izakaya_lantern","jack_o_lantern","jamaica","japan","japanese_castle","japanese_goblin","japanese_ogre","jeans","jersey","jordan","joy","joy_cat","joystick","jp","kaaba","kazakhstan","kenya","key","keyboard","keycap_ten","kick_scooter","kimono","kiribati","kiss","kissing","kissing_cat","kissing_closed_eyes","kissing_heart","kissing_smiling_eyes","kiwi_fruit","knife","koala","koko","kosovo","kr","kuwait","kyrgyzstan","lantern","laos","large_blue_circle","large_blue_diamond","large_orange_diamond","last_quarter_moon","last_quarter_moon_with_face","latin_cross","latvia","laughing","leaves","lebanon","ledger","left_luggage","left_right_arrow","leftwards_arrow_with_hook","lemon","leo","leopard","lesotho","level_slider","liberia","libra","libya","liechtenstein","light_rail","link","lion","lips","lipstick","lithuania","lizard","lock","lock_with_ink_pen","lollipop","loop","loud_sound","loudspeaker","love_hotel","love_letter","low_brightness","luxembourg","lying_face","m","macau","macedonia","madagascar","mag","mag_right","mahjong","mailbox","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","malawi","malaysia","maldives","male_detective","mali","malta","man","man_artist","man_astronaut","man_cartwheeling","man_cook","man_dancing","man_facepalming","man_factory_worker","man_farmer","man_firefighter","man_health_worker","man_in_tuxedo","man_judge","man_juggling","man_mechanic","man_office_worker","man_pilot","man_playing_handball","man_playing_water_polo","man_scientist","man_shrugging","man_singer","man_student","man_teacher","man_technologist","man_with_gua_pi_mao","man_with_turban","mandarin","mans_shoe","mantelpiece_clock","maple_leaf","marshall_islands","martial_arts_uniform","martinique","mask","massage","massage_man","massage_woman","mauritania","mauritius","mayotte","meat_on_bone","medal_military","medal_sports","mega","melon","memo","men_wrestling","menorah","mens","metal","metro","mexico","micronesia","microphone","microscope","middle_finger","milk_glass","milky_way","minibus","minidisc","mobile_phone_off","moldova","monaco","money_mouth_face","money_with_wings","moneybag","mongolia","monkey","monkey_face","monorail","montenegro","montserrat","moon","morocco","mortar_board","mosque","motor_boat","motor_scooter","motorcycle","motorway","mount_fuji","mountain","mountain_bicyclist","mountain_biking_man","mountain_biking_woman","mountain_cableway","mountain_railway","mountain_snow","mouse","mouse2","movie_camera","moyai","mozambique","mrs_claus","muscle","mushroom","musical_keyboard","musical_note","musical_score","mute","myanmar","nail_care","name_badge","namibia","national_park","nauru","nauseated_face","necktie","negative_squared_cross_mark","nepal","nerd_face","netherlands","neutral_face","new","new_caledonia","new_moon","new_moon_with_face","new_zealand","newspaper","newspaper_roll","next_track_button","ng","ng_man","ng_woman","nicaragua","niger","nigeria","night_with_stars","nine","niue","no_bell","no_bicycles","no_entry","no_entry_sign","no_good","no_good_man","no_good_woman","no_mobile_phones","no_mouth","no_pedestrians","no_smoking","norfolk_island","north_korea","northern_mariana_islands","norway","nose","notebook","notebook_with_decorative_cover","notes","nut_and_bolt","o","o2","ocean","octopus","oden","office","oil_drum","ok","ok_hand","ok_man","ok_woman","old_key","older_man","older_woman","om","oman","on","oncoming_automobile","oncoming_bus","oncoming_police_car","oncoming_taxi","one","open_book","open_file_folder","open_hands","open_mouth","open_umbrella","ophiuchus","orange","orange_book","orthodox_cross","outbox_tray","owl","ox","package","page_facing_up","page_with_curl","pager","paintbrush","pakistan","palau","palestinian_territories","palm_tree","panama","pancakes","panda_face","paperclip","paperclips","papua_new_guinea","paraguay","parasol_on_ground","parking","part_alternation_mark","partly_sunny","passenger_ship","passport_control","pause_button","paw_prints","peace_symbol","peach","peanuts","pear","pen","pencil","pencil2","penguin","pensive","performing_arts","persevere","person_fencing","person_frowning","person_with_blond_hair","person_with_pouting_face","peru","philippines","phone","pick","pig","pig2","pig_nose","pill","pineapple","ping_pong","pisces","pitcairn_islands","pizza","place_of_worship","plate_with_cutlery","play_or_pause_button","point_down","point_left","point_right","point_up","point_up_2","poland","police_car","policeman","policewoman","poodle","poop","popcorn","portugal","post_office","postal_horn","postbox","potable_water","potato","pouch","poultry_leg","pound","pout","pouting_cat","pouting_man","pouting_woman","pray","prayer_beads","pregnant_woman","previous_track_button","prince","princess","printer","puerto_rico","punch","purple_heart","purse","pushpin","put_litter_in_its_place","qatar","question","rabbit","rabbit2","racehorse","racing_car","radio","radio_button","radioactive","rage","railway_car","railway_track","rainbow","rainbow_flag","raised_back_of_hand","raised_hand","raised_hand_with_fingers_splayed","raised_hands","raising_hand","raising_hand_man","raising_hand_woman","ram","ramen","rat","record_button","recycle","red_car","red_circle","registered","relaxed","relieved","reminder_ribbon","repeat","repeat_one","rescue_worker_helmet","restroom","reunion","revolving_hearts","rewind","rhinoceros","ribbon","rice","rice_ball","rice_cracker","rice_scene","right_anger_bubble","ring","robot","rocket","rofl","roll_eyes","roller_coaster","romania","rooster","rose","rosette","rotating_light","round_pushpin","rowboat","rowing_man","rowing_woman","ru","rugby_football","runner","running","running_man","running_shirt_with_sash","running_woman","rwanda","sa","sagittarius","sailboat","sake","samoa","san_marino","sandal","santa","sao_tome_principe","sassy_man","sassy_woman","satellite","satisfied","saudi_arabia","saxophone","school","school_satchel","scissors","scorpion","scorpius","scream","scream_cat","scroll","seat","secret","see_no_evil","seedling","selfie","senegal","serbia","seven","seychelles","shallow_pan_of_food","shamrock","shark","shaved_ice","sheep","shell","shield","shinto_shrine","ship","shirt","shit","shoe","shopping","shopping_cart","shower","shrimp","sierra_leone","signal_strength","singapore","sint_maarten","six","six_pointed_star","ski","skier","skull","skull_and_crossbones","sleeping","sleeping_bed","sleepy","slightly_frowning_face","slightly_smiling_face","slot_machine","slovakia","slovenia","small_airplane","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","smile","smile_cat","smiley","smiley_cat","smiling_imp","smirk","smirk_cat","smoking","snail","snake","sneezing_face","snowboarder","snowflake","snowman","snowman_with_snow","sob","soccer","solomon_islands","somalia","soon","sos","sound","south_africa","south_georgia_south_sandwich_islands","south_sudan","space_invader","spades","spaghetti","sparkle","sparkler","sparkles","sparkling_heart","speak_no_evil","speaker","speaking_head","speech_balloon","speedboat","spider","spider_web","spiral_calendar","spiral_notepad","spoon","squid","sri_lanka","st_barthelemy","st_helena","st_kitts_nevis","st_lucia","st_pierre_miquelon","st_vincent_grenadines","stadium","star","star2","star_and_crescent","star_of_david","stars","station","statue_of_liberty","steam_locomotive","stew","stop_button","stop_sign","stopwatch","straight_ruler","strawberry","stuck_out_tongue","stuck_out_tongue_closed_eyes","stuck_out_tongue_winking_eye","studio_microphone","stuffed_flatbread","sudan","sun_behind_large_cloud","sun_behind_rain_cloud","sun_behind_small_cloud","sun_with_face","sunflower","sunglasses","sunny","sunrise","sunrise_over_mountains","surfer","surfing_man","surfing_woman","suriname","sushi","suspension_railway","swaziland","sweat","sweat_drops","sweat_smile","sweden","sweet_potato","swimmer","swimming_man","swimming_woman","switzerland","symbols","synagogue","syria","syringe","taco","tada","taiwan","tajikistan","tanabata_tree","tangerine","tanzania","taurus","taxi","tea","telephone","telephone_receiver","telescope","tennis","tent","thailand","thermometer","thinking","thought_balloon","three","thumbsdown","thumbsup","ticket","tickets","tiger","tiger2","timer_clock","timor_leste","tipping_hand_man","tipping_hand_woman","tired_face","tm","togo","toilet","tokelau","tokyo_tower","tomato","tonga","tongue","top","tophat","tornado","tr","trackball","tractor","traffic_light","train","train2","tram","triangular_flag_on_post","triangular_ruler","trident","trinidad_tobago","triumph","trolleybus","trophy","tropical_drink","tropical_fish","truck","trumpet","tshirt","tulip","tumbler_glass","tunisia","turkey","turkmenistan","turks_caicos_islands","turtle","tuvalu","tv","twisted_rightwards_arrows","two","two_hearts","two_men_holding_hands","two_women_holding_hands","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7981","u7a7a","uganda","uk","ukraine","umbrella","unamused","underage","unicorn","united_arab_emirates","unlock","up","upside_down_face","uruguay","us","us_virgin_islands","uzbekistan","v","vanuatu","vatican_city","venezuela","vertical_traffic_light","vhs","vibration_mode","video_camera","video_game","vietnam","violin","virgo","volcano","volleyball","vs","vulcan_salute","walking","walking_man","walking_woman","wallis_futuna","waning_crescent_moon","waning_gibbous_moon","warning","wastebasket","watch","water_buffalo","watermelon","wave","wavy_dash","waxing_crescent_moon","waxing_gibbous_moon","wc","weary","wedding","weight_lifting_man","weight_lifting_woman","western_sahara","whale","whale2","wheel_of_dharma","wheelchair","white_check_mark","white_circle","white_flag","white_flower","white_large_square","white_medium_small_square","white_medium_square","white_small_square","white_square_button","wilted_flower","wind_chime","wind_face","wine_glass","wink","wolf","woman","woman_artist","woman_astronaut","woman_cartwheeling","woman_cook","woman_facepalming","woman_factory_worker","woman_farmer","woman_firefighter","woman_health_worker","woman_judge","woman_juggling","woman_mechanic","woman_office_worker","woman_pilot","woman_playing_handball","woman_playing_water_polo","woman_scientist","woman_shrugging","woman_singer","woman_student","woman_teacher","woman_technologist","woman_with_turban","womans_clothes","womans_hat","women_wrestling","womens","world_map","worried","wrench","writing_hand","x","yellow_heart","yemen","yen","yin_yang","yum","zambia","zap","zero","zimbabwe","zipper_mouth_face","zzz","getAllCategorys","n","_ctx","_cache","$props","$setup","$data","$options","_component_n_image","_component_n_popover","trigger","onDragend","uploadClick","args","height","src","ref","onChange","FileToUpload","default","_","props","String","emits","setup","emit","img","click","files","file_","formdata","FormData","append","then","res","file","__exports__","components","BlogUpload","contentEditor","route","item","array","Array","content","thumbnail","toolbarConfig","pin","hint","cache","enable","after","Object","render","root","module","exports","this","__webpack_modules__","694","diff_match_patch","Diff_Timeout","Diff_EditCost","Match_Threshold","Match_Distance","Patch_DeleteThreshold","Patch_Margin","Match_MaxBits","DIFF_DELETE","DIFF_INSERT","DIFF_EQUAL","Diff","op","text","prototype","diff_main","text1","text2","opt_checklines","opt_deadline","Number","MAX_VALUE","Date","getTime","deadline","Error","checklines","commonlength","diff_commonPrefix","commonprefix","substring","diff_commonSuffix","commonsuffix","length","diffs","diff_compute_","unshift","push","diff_cleanupMerge","longtext","shorttext","i","indexOf","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","concat","diff_lineMode_","diff_bisect_","diff_linesToChars_","chars1","chars2","linearray","lineArray","diff_charsToLines_","diff_cleanupSemantic","pointer","count_delete","count_insert","text_delete","text_insert","splice","subDiff","j","pop","text1_length","text2_length","max_d","Math","ceil","v_offset","v_length","v1","v2","delta","front","k1start","k1end","k2start","k2end","d","k1","k1_offset","x1","y1","charAt","k2_offset","x2","diff_bisectSplit_","k2","y2","y","text1a","text2a","text1b","text2b","diffsb","lineHash","diff_linesToCharsMunge_","chars","lineStart","lineEnd","lineArrayLength","line","hasOwnProperty","undefined","fromCharCode","maxLines","charCodeAt","join","pointermin","pointermax","min","pointermid","pointerstart","floor","pointerend","diff_commonOverlap_","text_length","best","pattern","found","dmp","diff_halfMatchI_","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","seed","best_common","prefixLength","suffixLength","hm1","hm2","changes","equalities","equalitiesLength","lastEquality","length_insertions1","length_deletions1","length_insertions2","length_deletions2","max","diff_cleanupSemanticLossless","deletion","insertion","overlap_length1","overlap_length2","diff_cleanupSemanticScore_","char1","char2","nonAlphaNumeric1","match","nonAlphaNumericRegex_","nonAlphaNumeric2","whitespace1","whitespaceRegex_","whitespace2","lineBreak1","linebreakRegex_","lineBreak2","blankLine1","blanklineEndRegex_","blankLine2","blanklineStartRegex_","equality1","edit","equality2","commonOffset","commonString","bestEquality1","bestEdit","bestEquality2","bestScore","score","diff_cleanupEfficiency","pre_ins","pre_del","post_ins","post_del","diff_xIndex","loc","last_chars1","last_chars2","diff_prettyHtml","html","pattern_amp","pattern_lt","pattern_gt","pattern_para","replace","diff_text1","diff_text2","diff_levenshtein","levenshtein","insertions","deletions","diff_toDelta","encodeURI","diff_fromDelta","diffsLength","tokens","split","param","decodeURI","ex","parseInt","isNaN","match_main","match_bitap_","s","match_alphabet_","match_bitapScore_","e","accuracy","proximity","abs","score_threshold","best_loc","lastIndexOf","bin_min","bin_mid","matchmask","last_rd","bin_max","start","finish","rd","charMatch","patch_addContext_","patch","start2","length1","padding","prefix","suffix","start1","length2","patch_make","opt_b","opt_c","patches","patch_obj","patchDiffLength","char_count1","char_count2","prepatch_text","postpatch_text","diff_type","diff_text","patch_deepCopy","patchesCopy","patchCopy","patch_apply","nullPadding","patch_addPadding","patch_splitMax","results","start_loc","expected_loc","end_loc","index2","index1","mod","paddingLength","extraLength","patch_size","bigpatch","precontext","empty","shift","postcontext","patch_toText","patch_fromText","textline","textPointer","patchHeader","sign","toString","coords1","coords2","157","857","__unused_webpack_module","__webpack_exports__","__webpack_require__","abcRender","adapterRender","chartRender","codeRender","flowchartRender","graphvizRender","highlightRender","lazyLoadImageRender","element","document","loadImg","testImage","createElement","getAttribute","addEventListener","naturalHeight","naturalWidth","querySelector","clientWidth","window","innerHeight","style","removeAttribute","querySelectorAll","forEach","imgElement","vditorImageIntersectionObserver","disconnect","observe","IntersectionObserver","entries","entrie","isIntersecting","intersectionRatio","target","mathRender","mediaRender","mermaidRender","mindmapRender","outlineRender","plantumlRender","constants","setContentTheme","addScript","hasClosest","merge","anchorRender","classList","add","onclick","substr","getElementById","offsetTop","scrollTop","onhashchange","decodeURIComponent","location","setLute","selection","speechRender","lang","speechSynthesis","SpeechSynthesisUtterance","playSVG","pauseSVG","speechDom","className","body","insertAdjacentElement","getVoice","currentVoice","defaultVoice","voices","getVoices","onvoiceschanged","voice_1","utterThis","voice","onend","cancel","innerHTML","speak","speaking","paused","resume","pause","Hc","vditorSpeechRange","getSelection","trim","display","event","getRangeAt","cloneRange","rect","getBoundingClientRect","left","screenX","setAttribute","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","rejected","result","done","apply","__generator","f","t","g","sent","trys","ops","verb","Symbol","iterator","TypeError","call","mergeOptions","defaultOption","cdn","CDN","customEmoji","emojiPath","hljs","HLJS_OPTIONS","icon","markdown","MARKDOWN_OPTIONS","math","MATH_OPTIONS","mode","speech","theme","THEME_OPTIONS","T","md2html","mdText","mergedOptions","G","lute","X","autoSpace","codeBlockPreview","emojiSite","emojis","fixTermTypo","footnotes","headingAnchor","inlineMathDigit","inlineDigit","lazyLoadImage","linkBase","linkPrefix","listStyle","mark","mathBlockPreview","paragraphBeginningSpace","sanitize","toc","renderers","SetJSRenderers","Md2HTML","SetHeadingID","previewRender","previewElement","_a","transform","i18n","VditorI18n","includes","J","Z","current","path","O","H","p","B","Q","Y","spanElement","lG","fb","headingElement","scrollTo","scrollX","preview_image","setCodeTheme","Vditor","previewImage","E","k","preview","method","260","_VDITOR_VERSION","Constants","ZWSP","DROP_EDITOR","MOBILE_WIDTH","CLASS_MENU_DISABLED","EDIT_TOOLBARS","CODE_THEME","CODE_LANGUAGES","lineNumber","engine","macros","list","369","_constants__WEBPACK_IMPORTED_MODULE_0__","_util_addScript__WEBPACK_IMPORTED_MODULE_2__","_adapterRender__WEBPACK_IMPORTED_MODULE_1__","abcElements","abcRenderAdapter","getElements","parentElement","contains","ABCJS","renderAbc","getCode","overflowX","46","r","mathRenderAdapter","mathElement","textContent","mermaidRenderAdapter","el","mindmapRenderAdapter","chartRenderAdapter","innerText","graphvizRenderAdapter","flowchartRenderAdapter","plantumlRenderAdapter","726","echartsElements","option","JSON","parse","echarts","init","setOption","error","23","_util_code160to32__WEBPACK_IMPORTED_MODULE_0__","index","maxHeight","codeText","codeElement","remove","divElement","copy","copied","textarea","before","outerHeight","383","flowchartElements","flowchartObj","flowchart","drawSVG","890","graphvizElements","code","blob","Blob","URL","webkitURL","blobUrl","createObjectURL","worker","Worker","Viz","renderSVGElement","outerHTML","catch","console","93","_util_addStyle__WEBPACK_IMPORTED_MODULE_1__","hljsOption","vditorHljsStyle","href","c","codes","block","highlightElement","linenNumberTemp","whiteSpace","getComputedStyle","isSoftWrap","lineNumberHTML","lineList","map","lineHeight","insertAdjacentHTML","323","_util_addScript__WEBPACK_IMPORTED_MODULE_3__","_util_addStyle__WEBPACK_IMPORTED_MODULE_2__","_util_code160to32__WEBPACK_IMPORTED_MODULE_4__","mathElements","defaultOptions","assign","katex","renderToString","displayMode","tagName","output","message","stopPropagation","preventDefault","vditorMathElement","currentTarget","closest","clipboardData","setData","chainAsync_1","fns","curr","last","fn","MathJax","loader","paths","mathjax","startup","typeset","tex","renderMath_1","mathOptions","getMetricsFor","tex2svgPromise","node","clear","updateDocument","errorTextElement","promise","_loop_1","207","videoRender","audioRender","iframeRender","youtubeMatch","youkuMatch","qqMatch","coubMatch","facebookMatch","dailymotionMatch","bilibiliMatch","tedMatch","encodeURIComponent","aElement","765","mermaidElements","config","altFontFamily","htmlLabels","useMaxWidth","fontFamily","gantt","leftPadding","rightPadding","securityLevel","sequence","boxMargin","diagramMarginX","diagramMarginY","startOnLoad","themeVariables","activationBkgColor","activationBorderColor","activeTaskBkgColor","activeTaskBorderColor","actorBkg","actorBorder","actorLineColor","actorTextColor","altBackground","altSectionBkgColor","arrowheadColor","background","border1","border2","classText","clusterBkg","clusterBorder","critBkgColor","critBorderColor","darkTextColor","defaultLinkColor","doneTaskBkgColor","doneTaskBorderColor","edgeLabelBackground","errorBkgColor","errorTextColor","fillType0","fillType1","fillType2","fillType3","fillType4","fillType5","fillType6","fillType7","fontSize","gridColor","labelBackground","labelBoxBkgColor","labelBoxBorderColor","labelColor","labelTextColor","lineColor","loopTextColor","mainBkg","mainContrastColor","nodeBkg","nodeBorder","noteBkgColor","noteBorderColor","noteTextColor","primaryBorderColor","primaryColor","primaryTextColor","secondBkg","secondaryBorderColor","secondaryColor","secondaryTextColor","sectionBkgColor","sectionBkgColor2","sequenceNumberColor","signalColor","signalTextColor","taskBkgColor","taskBorderColor","taskTextClickableColor","taskTextColor","taskTextDarkColor","taskTextLightColor","taskTextOutsideColor","tertiaryBorderColor","tertiaryColor","tertiaryTextColor","textColor","titleColor","todayLineColor","mermaid","initialize","894","mindmapElements","series","initialTreeDepth","itemStyle","borderWidth","color","backgroundColor","borderColor","borderRadius","offset","position","lineStyle","width","roam","symbol","params","children","tooltip","triggerOn","198","_util_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_1__","_mathRender__WEBPACK_IMPORTED_MODULE_0__","contentElement","targetElement","vditor","tocHTML","ids","from","W","lastIndex","tempElement","SetToC","currentMode","HTML2VditorDOM","SpinVditorIRDOM","SpinVditorDOM","Lute","New","headingsElement","firstElementChild","nextElementSibling","isEqualNode","idElement","windowScrollY","offsetHeight","scrollY","583","plantumlElements","plantumlEncoder","encode","792","PutEmojis","SetEmojiSite","SetHeadingAnchor","SetInlineMathAllowDigitAfterOpenMarker","SetAutoSpace","SetFootnotes","SetFixTermTypo","SetVditorCodeBlockPreview","SetVditorMathBlockPreview","SetSanitize","SetChineseParagraphBeginningSpace","SetRenderListStyle","SetLinkBase","SetLinkPrefix","SetMark","SetImageLazyLoading","264","oldImgElement","oldImgRect","spin","close","overflow","translate3d","innerWidth","setTimeout","scrollWidth","scrollHeight","clientHeight","btnElement","deg","968","codeTheme","958","_util_addStyle__WEBPACK_IMPORTED_MODULE_0__","contentTheme","vditorContentTheme","cssPath","228","addScriptSync","xhrObj","XMLHttpRequest","open","setRequestHeader","send","scriptElement","responseText","head","appendChild","async","onload","946","addStyle","styleElement","rel","getElementsByTagName","769","code160to32","931","isSafari","navigator","userAgent","isFirefox","toLowerCase","accessLocalStorage","localStorage","getEventName","isCtrl","platform","toUpperCase","metaKey","ctrlKey","updateHotkeyTip","hotkey","test","startsWith","isChrome","vendor","713","_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__","hasTopClosestByClassName","hasClosestByClassName","parentClosest","findTop","hasTopClosestByTag","nodeName","S","getTopList","topUlElement","topOlElement","topListElement","hasClosestByAttribute","attr","nodeType","isClosest","hasClosestBlock","blockElement","hasClosestByMatchTag","getLastNode","lastChild","615","hasClosestByTag","hasClosestByHeadings","224","_i","arguments","merger","obj","prop","187","_compatibility__WEBPACK_IMPORTED_MODULE_2__","_hasClosest__WEBPACK_IMPORTED_MODULE_1__","getEditorRange","range","rangeCount","startContainer","focus","ownerDocument","createRange","setStart","collapse","getCursorPosition","editor","cursorRect","parentRect","getClientRects","parent_1","startOffset","childNodes","selectNode","setEnd","endContainer","endOffset","selectIsEditor","container","commonAncestorContainer","setSelectionFocus","removeAllRanges","addRange","getSelectPosition","selectElement","editorElement","preSelectionRange","selectNodeContents","setSelectionByPosition","charIndex","pNode","foundStart","stop","nextCharIndex","nextSibling","setStartBefore","setStartAfter","setEndBefore","setEndAfter","setRangeByWbr","wbrElement","previousElementSibling","isSameNode","previousSibling","i7","insertNode","createTextNode","insertHTML","tempBlockElement","pasteElement","preventInput","execCommand","lastElementChild","F9","pasteTemplate","cloneNode","__webpack_module_cache__","moduleId","cachedModule","definition","defineProperty","enumerable","toStringTag","templateObject_1","getMarkdown","sv","VditorDOM2Md","wysiwyg","VditorIRDOM2Md","ir","DevTools","renderEchart","_this","devtools","ASTChart","RenderEChartsJSON","align","verticalAlign","orient","toolbox","bottom","emphasis","iconStyle","feature","restore","show","saveAsImage","right","resize","compatibility","removeCurrentToolbar","names","itemElement","setCurrentToolbar","enableToolbar","disableToolbar","hideToolbar","showToolbar","hidePanel","panels","exceptElement","elements","popover","toggleSubMenu","panelElement","actionBtn","level","Le","log","print","processPasteCode","isCode","childElementCount","pres","processCodeRender","previewPanel","language","renderToc","outline","clickToc","keydownToc","im","execAfterRender","insertBeforeBlock","trimRight","insertAfterBlock","tocElement","input","ignoreSpace","isHrMD","isHeadingMD","startSpace","endSpace","markerElement","previousNode","previewRenderElement","firstLinkRefDefElement","isIRElement","footnoteElement","a1","blockquoteElement","O9","listPrevElement","listNextElement","inputType","debugger","footnoteItemElement","footnoteItemText","marker","footnoteRefElement","firstFootnoteElement","allLinkRefDefsElement","allFootnoteElement","ib","process_processAfterRender","enableAddUndoStack","enableHint","enableInput","matchHotKey","hotKey","yl","altKey","shiftKey","hotKeys","keyCode","hasShift","vU","nextIsNode","nodeValue","nextNode","parentNextNode","previousIsNode","expandMarker","nodeElement","JQ","nodeElementEnd","collapsed","processKeydown","composingLock","isComposing","undo","recordFirstPosition","zh","fixGSKeyBackspace","fixCJKPosition","fixHR","newlineElement","beforeMarkerElement","afterMarkerElement","pElement","fixMarkdown","fixList","fixBlockquote","preRenderElement","codeRenderElement","firstChild","fixCodeBlock","preBeforeElement","recentLanguage","cellElement","tableElement","isFirstCell","table2Element","isLastCell","fixTable","fixTask","fixTab","headingMarkerElement","process_processHeading","fixDelete","rangeStart","headingLength","fixFirefoxArrowUpTable","fixCursorDownInlineMath","inputEvent","processAfterRender","codeBlockMarkerElement","openMarkerElement","getSideByType","mathBlockMarkerElement","mathBlockCloseElement","Caret","isSVElement","processSpinVditorSVDOM","scrollCenter","processKeydown_processKeydown","_b","_c","_d","_e","textElement","blockquoteMarkerElement","listMarkerElement","taskMarkerElement","listLastMarkerElement","startIndex","isTask","listFirstMarkerElement","isFirst","newLineMatch","newLineText","processPreviousMarkers","extractContents","previousLastElement","setTheme","initUI","minHeight","tip","export","setEditMode","afterRender","visualViewport","pendingUpdate_1","viewportHandler","requestAnimationFrame","layoutViewport","setPadding","minPadding","maxWidth","paddingLeft","offsetWidth","setTypewriterPosition","typewriterMode","setProperty","initValue","pK","getItem","originalInnerHTML","HTML2Md","highlightToolbarIR","clearTimeout","hlToolbarTimeoutId","Gb","typeElement","quoteElement","strongElement","emElement","sElement","liElement","codeBlockElement","afterRenderEvent","afterRenderTimeoutId","counter","setItem","addToUndoStack","undoDelay","previoueIsEmptyA","nextIsCode","getNextHTML","getPreviousHTML","getRenderElementNextNode","blockCodeElement","splitElement","previousHTML","nextHTML","beforeHTML","afterHTML","modifyPre","find","cloneRangeOffset","parentNode","insertBefore","setHeading","removeHeading","showCode","first","previousElement","wysiwyg_processKeydown_processKeydown","blur","inputElemment","select","topBQElement","E2","pTempElement","linRefElement","inputElement","removeBlockElement","rangeStartOffset","nextElement","highlightToolbarWYSIWYG","footnotesElement","genClose","setPopoverPosition","commentElement","ids_1","nextIds_1","genUp","genDown","updateTable_1","oldRow","rows","oldColumn","cells","row","input_1","column","input2_1","columnDiff","rowDiff","rowHTML","l","setAlign_1","setTableAlign","left_1","center_1","right_1","td","th","alignType","alignLeft","ns","alignCenter","alignRight","insertRowElement","insertRowBelow","insertRow","insertRowBElement","insertRowAbove","insertColumnElement","insertColumnRight","insertColumn","insertColumnBElement","insertColumnLeft","deleteRowElement","deleteRow","deleteColumnElement","deleteColumn","inputWrap","textAlign","oninput","onkeydown","input2Wrap","linkRefElement","genLinkRefPopover","footnotesRefElement","footnoteRef","input_2","blockRenderElement","languageWrap","language_1","codeElement_1","onkeyup","matchLangData","selectionStart","keyName","genHTML","input_3","genAPopover","backslashElement","offsetLeft","updateLinkRef","input1","textIsNotEmpty","linkHotkey","input1Wrap","linkRef","upElement","downElement","down","nextInputElement","updateA","input2","tooltipText","genImagePopover","updateImg","alt","imageURL","elementEvent","altWrap","alternateText","titleWrap","highlightToolbar","renderDomByMd","md","Md2VditorDOM","cancelBES","commandName","jump","lastTagName","lastEndTagName","splitHTML","lastBeforeHTML","lastAfterHTML","toolbarEvent","CustomEvent","useHighlight","useRender","inlineCodeElement","listToggle","surroundContents","deleteContents","textInputElement","textInputElements","tableHTML_1","tableText","delimiter_1","header","subIndex","cell","hrHTML","MenuItem","menuItem","iconElement","tipPosition","process_processToolbar","processToolbar","__extends","extendStatics","setPrototypeOf","__proto__","__","constructor","create","markdownText","SetVditorIR","SetVditorWYSIWYG","SetVditorSV","Md2VditorIRDOM","svHTML","resetIcon","toggle","EditMode","_super","instantRendering","splitView","_bindEvent","getSelectText","focusEvent","dblclickEvent","blurEvent","expandElement","selectPopover","relatedTarget","hideComment","dropEvent","dataTransfer","getData","types","paste","pasteCode","copyEvent","cutEvent","comment","getComments","adjustTop","cursorTop","Ny","hotkeyEvent","extend","ctrlEnter","redo","esc","processHeading","sub","subMenuItem","dispatchEvent","selectEvent","onmouseup","selectText","showComment","processPaste","Md2VditorSVDOM","spanNode","isPrevious","sideElement","SpinVditorSVDOM","spanType","markerText","hasNL","previousType","previousText","openMarker","processTimeoutId","newLine","insertAdjacentText","getElement","setHeaders","xhr","headers","keys","Upload","isUploading","validateFile","hide","uploadFileList","errorTip","uploadingStr","iMax","validate","nameEmpty","size","over","fileExt","filename","accept","isAccept","some","fileTypeError","uploading","genUploadedLabel","response","msg","errFiles","uploadError","succFileText","succMap","uploadFiles","fileList","filesMax","fileItem","isValidate","validateResult","formData","extraData","multiple","DataTransferItem","getAsFile","handler","fieldName","token","withCredentials","onreadystatechange","readyState","DONE","status","success","format","onprogress","lengthComputable","progress","loaded","total","progressBar","input_input","previousAEmptyElement","wbr","html_1","firstLinkRefDefElement_1","isWYSIWYGElement","firstFootnoteElement_1","triggerRemoveComment","__makeTemplateObject","cooked","raw","fixBrowserBehavior_awaiter","fixBrowserBehavior_generator","pLiElement","zwspNode","inlineElement","insertEmptyBlock","goPreviousCell","isSelected","pHTML","trimLeft","replaceChild","listIndent","liElements_1","cloneContents","liParentElement","liHTML_1","slice","tempTopListElement","listOutdent","liParentLiElement","liParentAfterElement","liElements_2","isMatch_1","afterHTML_1","reverse","columnCnt","rowCnt","currentColumn","textArray","endsWith","tab","pText","pTextList","tableHeaderMD","pInnerHTML","innerHTMLList","lastElement","DX","theadHTML","tbodyElement","brElement","trElement","previousCellElement","codePosition","isEmpty","taskItemElement","checked","lastNode","afterHTML_2","beforeHTML_1","isAfter_1","taskItem","parentTagName","dataMarker","startAttribute","rangeElement","lastCellElement","callback","textHTML","textPlain","renderLinkDest","doc","items","entering","WalkContinue","TokensStr","__internal_object__","Parent","Type","linkToImgUrl","xhr_1","linkToImgFormat","responseJSON_1","original_1","originalURL","linkToImgCallback","stringify","DOMParser","parseFromString","Sanitize","$j","HTML2VditorIRDOM","oC","processHint","matchLangData_1","key_1","removeInline","aTextElement","Hint","hintExtends","splitChar","fillEmoji","preElement","timeId","focusNode","currentLineValue","getKey","emojiHint_1","GetEmojis","matchEmojiData_1","delay","textareaPosition","hintsHTML","hintData","replaceHtml","replaceIndex","defaultView","getPropertyValue","currentHintElement","length_1","currentLastIndex","lastItem","maxLength","preChar","IR","bindEvent","linkElement","lastRect","getHTML","VditorDOM2HTML","VditorIRDOM2HTML","Outline","outlineLabel","Preview","classes","copyToX","actions","actionElement","actionHtml","action","btn","actionCustom","w","mdTimeoutId","renderStartTime","responseJSON","startTime","time","performanceTip","cmtFocusElement","copyElement","backgroundImage","Resize","documentSelf","clientY","ondragstart","captureEvents","onmousemove","moveEvent","paddingBottom","onselectstart","onselect","Editor","textScrollTop","textHeight","textScrollHeight","parseFloat","Tip","setPreviewMode","Both_extends","Both","Br","CodeTheme_extends","CodeTheme","ContentTheme_extends","ContentTheme","Counter","Custom_extends","Custom","Devtools_extends","Devtools","Divider","Emoji_extends","Emoji","commonEmojiHTML","emojiValue","tailHTML","emojiTail","download","downloadTip","exportMarkdown","exportPDF","generate","iframe","contentDocument","write","contentWindow","postMessage","exportHTML","Export_extends","Export","Fullscreen_extends","Fullscreen","zIndex","svgElement","fullscreen","Headings_extends","Headings","heading1","heading2","heading3","heading4","heading5","heading6","Help_extends","Help","Indent_extends","Indent","Info_extends","Info","Version","InsertAfter_extends","InsertAfter","InsertBefore_extends","InsertBefore","Outdent_extends","Outdent","Outline_extends","Outline_Outline","Preview_extends","Preview_Preview","toolbars","RecordMedia","context","SAMPLE_RATE","isRecording","readyFlag","leftChannel","rightChannel","recordingLength","AudioContext","webkitAudioContext","DEFAULT_SAMPLE_RATE","sampleRate","volume","createGain","audioInput","createMediaStreamSource","connect","recorder","createScriptProcessor","onaudioprocess","destination","cloneChannelData","leftChannelData","rightChannelData","Float32Array","startRecordingNewWavFile","stopRecording","buildWavFileBlob","leftBuffer","mergeBuffers","rightBuffer","interleaved","downSampleBuffer","totalByteCount","buffer","ArrayBuffer","view","DataView","writeUTFBytes","setUint32","setUint16","subChunk2ByteCount","lng","setInt16","rate","sampleRateRatio","newLength","offsetResult","offsetBuffer","nextOffsetBuffer","accum","count","desiredChannelBuffer","set","setUint8","Record_extends","Record","mediaRecorder","File","recording","mediaDevices","getUserMedia","audio","mediaStream","inputBuffer","getChannelData","Redo_extends","Redo","Undo_extends","Undo","Upload_extends","Upload_Upload","inputHTML","Toolbar","genItem","panelElement_1","subI","menuItemObj","undo_Undo","stackSize","resetStack","clearStack","undoStack","redoStack","state","renderDiff","hasUndo","G6","addCaret","lastText","diff","patchList","isRedo","redoPatchList","setFocus","cloneElement","Options","mergeToolbar","toolbarItem","toolbarResult","currentMenuItem","defaultMenuItem","WYSIWYG","commentIds","blockStartElement","blockEndElement","NewNodeID","rangeClone","contents","removeStart","removeEnd","wrap","startElement","endElement","Set","comments_1","difference","filter","has","oldIds","removedIds","codeEndElement","aEndElement","aTitle","popoverTop1","popoverTop","topPx","checkElement","nextRenderElement","src_extends","version","getOptions","contentThemePath","getValue","getCurrentMode","renderPreview","clearCache","removeItem","disabledCache","enableCache","html2md","exportJSON","RenderJSON","deleteValue","isCollapsed","updateValue","insertValue","tmpElement","setValue","destroy","getCommentIds","hlCommentIds","hlItem","unHlCommentIds","unHlItem","removeCommentIds","removeIds","removeId","_lutePath"],"mappings":"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","file":"js/chunk-b9fe2d9c.350d06e9.js","sourcesContent":["import { sRequest } from '../index';\n\nexport function getAllBlogs(): Promise<any> {\n  return sRequest.get({\n    url: '/api/blogs',\n  });\n}\n\nexport function getBlogs(): Promise<any> {\n  return sRequest.get({\n    url: '/api/pblogs',\n  });\n}\n\nexport function createBlog(data: number): Promise<any> {\n  return sRequest.post({\n    url: '/api/blog',\n    data,\n  });\n}\n\nexport function getBlogById(id: number): Promise<any> {\n  return sRequest.get({\n    url: '/api/blog/' + id,\n  });\n}\n\nexport function updateBlogById(id: number, data: any): Promise<any> {\n  return sRequest.put({\n    url: '/api/blog/' + id,\n    data,\n  });\n}\n\nexport function deleteBlogById(id: number): Promise<any> {\n  return sRequest.delete({\n    url: '/api/blog/' + id,\n  });\n}\n\nexport function verifyPassById(id: number, data: any): Promise<any> {\n  return sRequest.post({\n    url: '/api/blog/' + id,\n    data,\n  });\n}\n","import { sRequest } from '../index';\n\nexport function upload(data: any): Promise<any> {\n  return sRequest.post({\n    url: '/api/upload',\n    data,\n  });\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./blog.vue?vue&type=style&index=0&id=16afe57e&lang=less&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BlogUpload.vue?vue&type=style&index=0&id=27716a55&lang=less&scoped=true\"","<template>\n  <div class=\"blog\">\n    <!--  -->\n    <n-card title=\"\">\n      <n-input\n        round\n        placeholder=\"\"\n        v-model:value=\"blog.title\"\n      />\n    </n-card>\n    <!--  -->\n    <n-card title=\"\">\n      <blog-upload @img-updated=\"imgUpdated\" :cover=\"blog.cover\" />\n    </n-card>\n    <!--  -->\n    <n-card title=\"\">\n      <n-grid :cols=\"5\">\n        <n-gi>\n          <!-- x -->\n          <n-statistic label=\"\">\n            <n-switch v-model:value=\"blog.password\" disabled />\n          </n-statistic>\n        </n-gi>\n        <n-gi>\n          <n-statistic label=\"\">\n            <n-switch v-model:value=\"blog.isPublish\" />\n          </n-statistic>\n        </n-gi>\n        <n-gi>\n          <n-statistic label=\"\">\n            <n-dropdown :options=\"categorys\" @select=\"handleSelect\">\n              <n-input\n                v-model:value=\"blog.category\"\n                :show-count=\"true\"\n                :maxlength=\"10\"\n                placeholder=\"\"\n              />\n            </n-dropdown>\n          </n-statistic>\n        </n-gi>\n      </n-grid>\n    </n-card>\n    <!-- vditor -->\n    <n-card title=\"\">\n      <template #header-extra>\n        <n-button @click=\"submit\" type=\"info\"></n-button>\n      </template>\n      <div id=\"vditor\"></div>\n    </n-card>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, ref, onMounted, reactive, computed } from 'vue';\nimport Vditor from 'vditor';\nimport 'vditor/dist/index.css';\nimport { emoji, toolbar } from '@/assets/vditor/vditor';\nimport { useRoute } from 'vue-router';\n\nimport { getBlogById, createBlog, updateBlogById } from '@/service/blog/blogs';\nimport { getAllCategorys } from '@/service/category/category';\nimport BlogUpload from 'components/service/upload/BlogUpload.vue';\n\nexport default defineComponent({\n  components: {\n    BlogUpload,\n  },\n  setup() {\n    const contentEditor = ref(null);\n    const route = useRoute();\n    let category = ref([]);\n    const categorys = computed(() => {\n      if (\n        blog.category &&\n        !category.value.some((item) => item.key === blog.category)\n      ) {\n        const array = Array.from(category.value);\n        array.push({ label: blog.category, key: blog.category });\n        return array;\n      }\n      return category.value;\n    });\n    const submit = () => {\n      blog.content = contentEditor.value.getValue();\n      blog.thumbnail = contentEditor.value\n        .getHTML()\n        .replace(/(<.*?>)|(\\t|\\r|\\n)/g, '')\n        .slice(0, 100);\n      if (route.params.id === 'newblog') createBlog(blog);\n      else updateBlogById(route.params.id, blog);\n    };\n    const handleSelect = (key) => {\n      blog.category = key;\n    };\n    const blog = reactive({\n      title: '',\n      cover: 'uploads/2021/10/26/b9204125-8ee9-4ef5-b8f9-492f9003189e.png',\n      content: '',\n      thumbnail: '',\n      isPublish: true,\n      password: false,\n      category: '',\n    });\n    // img upload emits\n    const imgUpdated = (src) => {\n      blog.cover = src;\n    };\n\n    onMounted(() => {\n      contentEditor.value = new Vditor('vditor', {\n        height: 540,\n        placeholder: '',\n        toolbarConfig: {\n          pin: true,\n        },\n        hint: {\n          emoji,\n        },\n        cache: {\n          enable: false,\n        },\n        after: () => {\n          contentEditor.value.setValue(blog.content);\n        },\n        toolbar: toolbar,\n      });\n      if (route.params.id !== 'newblog') {\n        getBlogById(route.params.id).then((res) => {\n          res.data.data[0].isPublish = res.data.data[0].isPublish === 1;\n          res.data.data[0].password = res.data.data[0].password ? true : false;\n          Object.assign(blog, res.data.data[0]);\n        });\n      }\n      getAllCategorys().then((res) => {\n        category.value = res.data.data.map((item) => {\n          return {\n            label: item,\n            key: item,\n          };\n        });\n      });\n    });\n    return {\n      blog,\n      contentEditor,\n      categorys,\n      imgUpdated,\n      handleSelect,\n      submit,\n    };\n  },\n});\n</script>\n\n<style lang=\"less\" scoped>\n.blog {\n  margin-left: 30px;\n  margin-right: 40px;\n}\n</style>\n","// Lute -  Markdown  Go  JavaScript\n// Copyright (c) 2019-present, b3log.org\n//\n// Lute is licensed under Mulan PSL v2.\n// You can use this software according to the terms and conditions of the Mulan PSL v2.\n// You may obtain a copy of Mulan PSL v2 at:\n//         http://license.coscl.org.cn/MulanPSL2\n// THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.\n// See the Mulan PSL v2 for more details.\nexport const toolbar = [\n  'emoji',\n  'headings',\n  'bold',\n  'italic',\n  'strike',\n  'link',\n  '|',\n  'list',\n  'ordered-list',\n  'check',\n  'outdent',\n  'indent',\n  '|',\n  'quote',\n  'line',\n  'code',\n  'inline-code',\n  'insert-before',\n  'insert-after',\n  '|',\n  'table',\n  '|',\n  'undo',\n  'redo',\n  '|',\n  'fullscreen',\n  'edit-mode',\n  {\n    name: 'more',\n    toolbar: [\n      'both',\n      'code-theme',\n      'content-theme',\n      'export',\n      'outline',\n      'preview',\n      'devtools',\n      'info',\n      'help',\n    ],\n  },\n];\n\nexport const emoji = {\n  '+1': '',\n  '-1': '',\n  '100': '',\n  '1234': '',\n  '1st_place_medal': '',\n  '2nd_place_medal': '',\n  '3rd_place_medal': '',\n  '8ball': '',\n  a: '',\n  ab: '',\n  abc: '',\n  abcd: '',\n  Accept: '',\n  aerial_tramway: '',\n  afghanistan: '',\n  airplane: '',\n  aland_islands: '',\n  alarm_clock: '',\n  albania: '',\n  alembic: '',\n  algeria: '',\n  alien: '',\n  ambulance: '',\n  american_samoa: '',\n  amphora: '',\n  anchor: '',\n  andorra: '',\n  angel: '',\n  anger: '',\n  angola: '',\n  angry: '',\n  anguilla: '',\n  anguished: '',\n  ant: '',\n  antarctica: '',\n  antigua_barbuda: '',\n  apple: '',\n  aquarius: '',\n  argentina: '',\n  aries: '',\n  armenia: '',\n  arrow_backward: '',\n  arrow_double_down: '',\n  arrow_double_up: '',\n  arrow_down: '',\n  arrow_down_small: '',\n  arrow_forward: '',\n  arrow_heading_down: '',\n  arrow_heading_up: '',\n  arrow_left: '',\n  arrow_lower_left: '',\n  arrow_lower_right: '',\n  arrow_right: '',\n  arrow_right_hook: '',\n  arrow_up: '',\n  arrow_up_down: '',\n  arrow_up_small: '',\n  arrow_upper_left: '',\n  arrow_upper_right: '',\n  arrows_clockwise: '',\n  arrows_counterclockwise: '',\n  art: '',\n  articulated_lorry: '',\n  artificial_satellite: '',\n  aruba: '',\n  asterisk: '*',\n  astonished: '',\n  athletic_shoe: '',\n  atm: '',\n  atom_symbol: '',\n  australia: '',\n  austria: '',\n  avocado: '',\n  azerbaijan: '',\n  b: '',\n  baby: '',\n  baby_bottle: '',\n  baby_chick: '',\n  baby_symbol: '',\n  back: '',\n  bacon: '',\n  badminton: '',\n  baggage_claim: '',\n  baguette_bread: '',\n  bahamas: '',\n  bahrain: '',\n  balance_scale: '',\n  balloon: '',\n  ballot_box: '',\n  ballot_box_with_check: '',\n  bamboo: '',\n  banana: '',\n  bangbang: '',\n  bangladesh: '',\n  bank: '',\n  bar_chart: '',\n  barbados: '',\n  barber: '',\n  baseball: '',\n  basketball: '',\n  basketball_man: '',\n  basketball_woman: '',\n  bat: '',\n  bath: '',\n  bathtub: '',\n  battery: '',\n  beach_umbrella: '',\n  bear: '',\n  bed: '',\n  bee: '',\n  beer: '',\n  beers: '',\n  beetle: '',\n  beginner: '',\n  belarus: '',\n  belgium: '',\n  belize: '',\n  bell: '',\n  bellhop_bell: '',\n  benin: '',\n  bento: '',\n  bermuda: '',\n  bhutan: '',\n  bicyclist: '',\n  bike: '',\n  biking_man: '',\n  biking_woman: '',\n  bikini: '',\n  biohazard: '',\n  bird: '',\n  birthday: '',\n  black_circle: '',\n  black_flag: '',\n  black_heart: '',\n  black_joker: '',\n  black_large_square: '',\n  black_medium_small_square: '',\n  black_medium_square: '',\n  black_nib: '',\n  black_small_square: '',\n  black_square_button: '',\n  blonde_man: '',\n  blonde_woman: '',\n  blossom: '',\n  blowfish: '',\n  blue_book: '',\n  blue_car: '',\n  blue_heart: '',\n  blush: '',\n  boar: '',\n  boat: '',\n  bolivia: '',\n  bomb: '',\n  book: '',\n  bookmark: '',\n  bookmark_tabs: '',\n  books: '',\n  boom: '',\n  boot: '',\n  bosnia_herzegovina: '',\n  botswana: '',\n  bouquet: '',\n  bow: '',\n  bow_and_arrow: '',\n  bowing_man: '',\n  bowing_woman: '',\n  bowling: '',\n  boxing_glove: '',\n  boy: '',\n  brazil: '',\n  bread: '',\n  bride_with_veil: '',\n  bridge_at_night: '',\n  briefcase: '',\n  british_indian_ocean_territory: '',\n  british_virgin_islands: '',\n  broken_heart: '',\n  brunei: '',\n  bug: '',\n  building_construction: '',\n  bulb: '',\n  bulgaria: '',\n  bullettrain_front: '',\n  bullettrain_side: '',\n  burkina_faso: '',\n  burrito: '',\n  burundi: '',\n  bus: '',\n  business_suit_levitating: '',\n  busstop: '',\n  bust_in_silhouette: '',\n  busts_in_silhouette: '',\n  butterfly: '',\n  cactus: '',\n  cake: '',\n  calendar: '',\n  call_me_hand: '',\n  calling: '',\n  cambodia: '',\n  camel: '',\n  camera: '',\n  camera_flash: '',\n  cameroon: '',\n  camping: '',\n  canada: '',\n  canary_islands: '',\n  cancer: '',\n  candle: '',\n  candy: '',\n  canoe: '',\n  cape_verde: '',\n  capital_abcd: '',\n  capricorn: '',\n  car: '',\n  card_file_box: '',\n  card_index: '',\n  card_index_dividers: '',\n  caribbean_netherlands: '',\n  carousel_horse: '',\n  carrot: '',\n  cat: '',\n  cat2: '',\n  cayman_islands: '',\n  cd: '',\n  central_african_republic: '',\n  chad: '',\n  chains: '',\n  champagne: '',\n  chart: '',\n  chart_with_downwards_trend: '',\n  chart_with_upwards_trend: '',\n  checkered_flag: '',\n  cheese: '',\n  cherries: '',\n  cherry_blossom: '',\n  chestnut: '',\n  chicken: '',\n  children_crossing: '',\n  chile: '',\n  chipmunk: '',\n  chocolate_bar: '',\n  christmas_island: '',\n  christmas_tree: '',\n  church: '',\n  cinema: '',\n  circus_tent: '',\n  city_sunrise: '',\n  city_sunset: '',\n  cityscape: '',\n  cl: '',\n  clamp: '',\n  clap: '',\n  clapper: '',\n  classical_building: '',\n  clinking_glasses: '',\n  clipboard: '',\n  clock1: '',\n  clock10: '',\n  clock1030: '',\n  clock11: '',\n  clock1130: '',\n  clock12: '',\n  clock1230: '',\n  clock130: '',\n  clock2: '',\n  clock230: '',\n  clock3: '',\n  clock330: '',\n  clock4: '',\n  clock430: '',\n  clock5: '',\n  clock530: '',\n  clock6: '',\n  clock630: '',\n  clock7: '',\n  clock730: '',\n  clock8: '',\n  clock830: '',\n  clock9: '',\n  clock930: '',\n  closed_book: '',\n  closed_lock_with_key: '',\n  closed_umbrella: '',\n  cloud: '',\n  cloud_with_lightning: '',\n  cloud_with_lightning_and_rain: '',\n  cloud_with_rain: '',\n  cloud_with_snow: '',\n  clown_face: '',\n  clubs: '',\n  cn: '',\n  cocktail: '',\n  cocos_islands: '',\n  coffee: '',\n  coffin: '',\n  cold_sweat: '',\n  collision: '',\n  colombia: '',\n  comet: '',\n  comoros: '',\n  computer: '',\n  computer_mouse: '',\n  confetti_ball: '',\n  confounded: '',\n  confused: '',\n  congo_brazzaville: '',\n  congo_kinshasa: '',\n  congratulations: '',\n  construction: '',\n  construction_worker: '',\n  construction_worker_man: '',\n  construction_worker_woman: '',\n  control_knobs: '',\n  convenience_store: '',\n  cook_islands: '',\n  cookie: '',\n  cool: '',\n  cop: '',\n  copyright: '',\n  corn: '',\n  costa_rica: '',\n  cote_divoire: '',\n  couch_and_lamp: '',\n  couple: '',\n  couple_with_heart: '',\n  couple_with_heart_man_man: '',\n  couple_with_heart_woman_man: '',\n  couple_with_heart_woman_woman: '',\n  couplekiss_man_man: '',\n  couplekiss_man_woman: '',\n  couplekiss_woman_woman: '',\n  cow: '',\n  cow2: '',\n  cowboy_hat_face: '',\n  crab: '',\n  crayon: '',\n  credit_card: '',\n  crescent_moon: '',\n  cricket: '',\n  croatia: '',\n  crocodile: '',\n  croissant: '',\n  crossed_fingers: '',\n  crossed_flags: '',\n  crossed_swords: '',\n  crown: '',\n  cry: '',\n  crying_cat_face: '',\n  crystal_ball: '',\n  cuba: '',\n  cucumber: '',\n  cupid: '',\n  curacao: '',\n  curly_loop: '',\n  currency_exchange: '',\n  curry: '',\n  custard: '',\n  customs: '',\n  cyclone: '',\n  cyprus: '',\n  czech_republic: '',\n  dagger: '',\n  dancer: '',\n  dancers: '',\n  dancing_men: '',\n  dancing_women: '',\n  dango: '',\n  dark_sunglasses: '',\n  dart: '',\n  dash: '',\n  date: '',\n  de: '',\n  deciduous_tree: '',\n  deer: '',\n  denmark: '',\n  department_store: '',\n  derelict_house: '',\n  desert: '',\n  desert_island: '',\n  desktop_computer: '',\n  detective: '',\n  diamond_shape_with_a_dot_inside: '',\n  diamonds: '',\n  disappointed: '',\n  disappointed_relieved: '',\n  dizzy: '',\n  dizzy_face: '',\n  djibouti: '',\n  do_not_litter: '',\n  dog: '',\n  dog2: '',\n  dollar: '',\n  dolls: '',\n  dolphin: '',\n  dominica: '',\n  dominican_republic: '',\n  door: '',\n  doughnut: '',\n  dove: '',\n  dragon: '',\n  dragon_face: '',\n  dress: '',\n  dromedary_camel: '',\n  drooling_face: '',\n  droplet: '',\n  drum: '',\n  duck: '',\n  dvd: '',\n  'e-mail': '',\n  eagle: '',\n  ear: '',\n  ear_of_rice: '',\n  earth_africa: '',\n  earth_americas: '',\n  earth_asia: '',\n  ecuador: '',\n  egg: '',\n  eggplant: '',\n  egypt: '',\n  eight: '8',\n  eight_pointed_black_star: '',\n  eight_spoked_asterisk: '',\n  el_salvador: '',\n  electric_plug: '',\n  elephant: '',\n  email: '',\n  end: '',\n  envelope: '',\n  envelope_with_arrow: '',\n  equatorial_guinea: '',\n  eritrea: '',\n  es: '',\n  estonia: '',\n  ethiopia: '',\n  eu: '',\n  euro: '',\n  european_castle: '',\n  european_post_office: '',\n  european_union: '',\n  evergreen_tree: '',\n  exclamation: '',\n  expressionless: '',\n  eye: '',\n  eye_speech_bubble: '',\n  eyeglasses: '',\n  eyes: '',\n  face_with_head_bandage: '',\n  face_with_thermometer: '',\n  facepunch: '',\n  factory: '',\n  falkland_islands: '',\n  fallen_leaf: '',\n  family: '',\n  family_man_boy: '',\n  family_man_boy_boy: '',\n  family_man_girl: '',\n  family_man_girl_boy: '',\n  family_man_girl_girl: '',\n  family_man_man_boy: '',\n  family_man_man_boy_boy: '',\n  family_man_man_girl: '',\n  family_man_man_girl_boy: '',\n  family_man_man_girl_girl: '',\n  family_man_woman_boy: '',\n  family_man_woman_boy_boy: '',\n  family_man_woman_girl: '',\n  family_man_woman_girl_boy: '',\n  family_man_woman_girl_girl: '',\n  family_woman_boy: '',\n  family_woman_boy_boy: '',\n  family_woman_girl: '',\n  family_woman_girl_boy: '',\n  family_woman_girl_girl: '',\n  family_woman_woman_boy: '',\n  family_woman_woman_boy_boy: '',\n  family_woman_woman_girl: '',\n  family_woman_woman_girl_boy: '',\n  family_woman_woman_girl_girl: '',\n  faroe_islands: '',\n  fast_forward: '',\n  fax: '',\n  fearful: '',\n  feet: '',\n  female_detective: '',\n  ferris_wheel: '',\n  ferry: '',\n  field_hockey: '',\n  fiji: '',\n  file_cabinet: '',\n  file_folder: '',\n  film_projector: '',\n  film_strip: '',\n  finland: '',\n  fire: '',\n  fire_engine: '',\n  fireworks: '',\n  first_quarter_moon: '',\n  first_quarter_moon_with_face: '',\n  fish: '',\n  fish_cake: '',\n  fishing_pole_and_fish: '',\n  fist: '',\n  fist_left: '',\n  fist_oncoming: '',\n  fist_raised: '',\n  fist_right: '',\n  five: '5',\n  flags: '',\n  flashlight: '',\n  fleur_de_lis: '',\n  flight_arrival: '',\n  flight_departure: '',\n  flipper: '',\n  floppy_disk: '',\n  flower_playing_cards: '',\n  flushed: '',\n  fog: '',\n  foggy: '',\n  football: '',\n  footprints: '',\n  fork_and_knife: '',\n  fountain: '',\n  fountain_pen: '',\n  four: '4',\n  four_leaf_clover: '',\n  fox_face: '',\n  fr: '',\n  framed_picture: '',\n  free: '',\n  french_guiana: '',\n  french_polynesia: '',\n  french_southern_territories: '',\n  fried_egg: '',\n  fried_shrimp: '',\n  fries: '',\n  frog: '',\n  frowning: '',\n  frowning_face: '',\n  frowning_man: '',\n  frowning_woman: '',\n  fu: '',\n  fuelpump: '',\n  full_moon: '',\n  full_moon_with_face: '',\n  funeral_urn: '',\n  gabon: '',\n  gambia: '',\n  game_die: '',\n  gb: '',\n  gear: '',\n  gem: '',\n  gemini: '',\n  georgia: '',\n  ghana: '',\n  ghost: '',\n  gibraltar: '',\n  gift: '',\n  gift_heart: '',\n  girl: '',\n  globe_with_meridians: '',\n  goal_net: '',\n  goat: '',\n  golf: '',\n  golfing_man: '',\n  golfing_woman: '',\n  gorilla: '',\n  grapes: '',\n  greece: '',\n  green_apple: '',\n  green_book: '',\n  green_heart: '',\n  green_salad: '',\n  greenland: '',\n  grenada: '',\n  grey_exclamation: '',\n  grey_question: '',\n  grimacing: '',\n  grin: '',\n  grinning: '',\n  guadeloupe: '',\n  guam: '',\n  guardsman: '',\n  guardswoman: '',\n  guatemala: '',\n  guernsey: '',\n  guinea: '',\n  guinea_bissau: '',\n  guitar: '',\n  gun: '',\n  guyana: '',\n  haircut: '',\n  haircut_man: '',\n  haircut_woman: '',\n  haiti: '',\n  hamburger: '',\n  hammer: '',\n  hammer_and_pick: '',\n  hammer_and_wrench: '',\n  hamster: '',\n  hand: '',\n  handbag: '',\n  handshake: '',\n  hankey: '',\n  hash: '#',\n  hatched_chick: '',\n  hatching_chick: '',\n  headphones: '',\n  hear_no_evil: '',\n  heart: '',\n  heart_decoration: '',\n  heart_eyes: '',\n  heart_eyes_cat: '',\n  heartbeat: '',\n  heartpulse: '',\n  hearts: '',\n  heavy_check_mark: '',\n  heavy_division_sign: '',\n  heavy_dollar_sign: '',\n  heavy_exclamation_mark: '',\n  heavy_heart_exclamation: '',\n  heavy_minus_sign: '',\n  heavy_multiplication_x: '',\n  heavy_plus_sign: '',\n  helicopter: '',\n  herb: '',\n  hibiscus: '',\n  high_brightness: '',\n  high_heel: '',\n  hocho: '',\n  hole: '',\n  honduras: '',\n  honey_pot: '',\n  honeybee: '',\n  hong_kong: '',\n  horse: '',\n  horse_racing: '',\n  hospital: '',\n  hot_pepper: '',\n  hotdog: '',\n  hotel: '',\n  hotsprings: '',\n  hourglass: '',\n  hourglass_flowing_sand: '',\n  house: '',\n  house_with_garden: '',\n  houses: '',\n  hugs: '',\n  hungary: '',\n  hushed: '',\n  ice_cream: '',\n  ice_hockey: '',\n  ice_skate: '',\n  icecream: '',\n  iceland: '',\n  id: '',\n  ideograph_advantage: '',\n  imp: '',\n  inbox_tray: '',\n  incoming_envelope: '',\n  india: '',\n  indonesia: '',\n  information_desk_person: '',\n  information_source: '',\n  innocent: '',\n  interrobang: '',\n  iphone: '',\n  iran: '',\n  iraq: '',\n  ireland: '',\n  isle_of_man: '',\n  israel: '',\n  it: '',\n  izakaya_lantern: '',\n  jack_o_lantern: '',\n  jamaica: '',\n  japan: '',\n  japanese_castle: '',\n  japanese_goblin: '',\n  japanese_ogre: '',\n  jeans: '',\n  jersey: '',\n  jordan: '',\n  joy: '',\n  joy_cat: '',\n  joystick: '',\n  jp: '',\n  kaaba: '',\n  kazakhstan: '',\n  kenya: '',\n  key: '',\n  keyboard: '',\n  keycap_ten: '',\n  kick_scooter: '',\n  kimono: '',\n  kiribati: '',\n  kiss: '',\n  kissing: '',\n  kissing_cat: '',\n  kissing_closed_eyes: '',\n  kissing_heart: '',\n  kissing_smiling_eyes: '',\n  kiwi_fruit: '',\n  knife: '',\n  koala: '',\n  koko: '',\n  kosovo: '',\n  kr: '',\n  kuwait: '',\n  kyrgyzstan: '',\n  label: '',\n  lantern: '',\n  laos: '',\n  large_blue_circle: '',\n  large_blue_diamond: '',\n  large_orange_diamond: '',\n  last_quarter_moon: '',\n  last_quarter_moon_with_face: '',\n  latin_cross: '',\n  latvia: '',\n  laughing: '',\n  leaves: '',\n  lebanon: '',\n  ledger: '',\n  left_luggage: '',\n  left_right_arrow: '',\n  leftwards_arrow_with_hook: '',\n  lemon: '',\n  leo: '',\n  leopard: '',\n  lesotho: '',\n  level_slider: '',\n  liberia: '',\n  libra: '',\n  libya: '',\n  liechtenstein: '',\n  light_rail: '',\n  link: '',\n  lion: '',\n  lips: '',\n  lipstick: '',\n  lithuania: '',\n  lizard: '',\n  lock: '',\n  lock_with_ink_pen: '',\n  lollipop: '',\n  loop: '',\n  loud_sound: '',\n  loudspeaker: '',\n  love_hotel: '',\n  love_letter: '',\n  low_brightness: '',\n  luxembourg: '',\n  lying_face: '',\n  m: '',\n  macau: '',\n  macedonia: '',\n  madagascar: '',\n  mag: '',\n  mag_right: '',\n  mahjong: '',\n  mailbox: '',\n  mailbox_closed: '',\n  mailbox_with_mail: '',\n  mailbox_with_no_mail: '',\n  malawi: '',\n  malaysia: '',\n  maldives: '',\n  male_detective: '',\n  mali: '',\n  malta: '',\n  man: '',\n  man_artist: '',\n  man_astronaut: '',\n  man_cartwheeling: '',\n  man_cook: '',\n  man_dancing: '',\n  man_facepalming: '',\n  man_factory_worker: '',\n  man_farmer: '',\n  man_firefighter: '',\n  man_health_worker: '',\n  man_in_tuxedo: '',\n  man_judge: '',\n  man_juggling: '',\n  man_mechanic: '',\n  man_office_worker: '',\n  man_pilot: '',\n  man_playing_handball: '',\n  man_playing_water_polo: '',\n  man_scientist: '',\n  man_shrugging: '',\n  man_singer: '',\n  man_student: '',\n  man_teacher: '',\n  man_technologist: '',\n  man_with_gua_pi_mao: '',\n  man_with_turban: '',\n  mandarin: '',\n  mans_shoe: '',\n  mantelpiece_clock: '',\n  maple_leaf: '',\n  marshall_islands: '',\n  martial_arts_uniform: '',\n  martinique: '',\n  mask: '',\n  massage: '',\n  massage_man: '',\n  massage_woman: '',\n  mauritania: '',\n  mauritius: '',\n  mayotte: '',\n  meat_on_bone: '',\n  medal_military: '',\n  medal_sports: '',\n  mega: '',\n  melon: '',\n  memo: '',\n  men_wrestling: '',\n  menorah: '',\n  mens: '',\n  metal: '',\n  metro: '',\n  mexico: '',\n  micronesia: '',\n  microphone: '',\n  microscope: '',\n  middle_finger: '',\n  milk_glass: '',\n  milky_way: '',\n  minibus: '',\n  minidisc: '',\n  mobile_phone_off: '',\n  moldova: '',\n  monaco: '',\n  money_mouth_face: '',\n  money_with_wings: '',\n  moneybag: '',\n  mongolia: '',\n  monkey: '',\n  monkey_face: '',\n  monorail: '',\n  montenegro: '',\n  montserrat: '',\n  moon: '',\n  morocco: '',\n  mortar_board: '',\n  mosque: '',\n  motor_boat: '',\n  motor_scooter: '',\n  motorcycle: '',\n  motorway: '',\n  mount_fuji: '',\n  mountain: '',\n  mountain_bicyclist: '',\n  mountain_biking_man: '',\n  mountain_biking_woman: '',\n  mountain_cableway: '',\n  mountain_railway: '',\n  mountain_snow: '',\n  mouse: '',\n  mouse2: '',\n  movie_camera: '',\n  moyai: '',\n  mozambique: '',\n  mrs_claus: '',\n  muscle: '',\n  mushroom: '',\n  musical_keyboard: '',\n  musical_note: '',\n  musical_score: '',\n  mute: '',\n  myanmar: '',\n  nail_care: '',\n  name_badge: '',\n  namibia: '',\n  national_park: '',\n  nauru: '',\n  nauseated_face: '',\n  necktie: '',\n  negative_squared_cross_mark: '',\n  nepal: '',\n  nerd_face: '',\n  netherlands: '',\n  neutral_face: '',\n  new: '',\n  new_caledonia: '',\n  new_moon: '',\n  new_moon_with_face: '',\n  new_zealand: '',\n  newspaper: '',\n  newspaper_roll: '',\n  next_track_button: '',\n  ng: '',\n  ng_man: '',\n  ng_woman: '',\n  nicaragua: '',\n  niger: '',\n  nigeria: '',\n  night_with_stars: '',\n  nine: '9',\n  niue: '',\n  no_bell: '',\n  no_bicycles: '',\n  no_entry: '',\n  no_entry_sign: '',\n  no_good: '',\n  no_good_man: '',\n  no_good_woman: '',\n  no_mobile_phones: '',\n  no_mouth: '',\n  no_pedestrians: '',\n  no_smoking: '',\n  'non-potable_water': '',\n  norfolk_island: '',\n  north_korea: '',\n  northern_mariana_islands: '',\n  norway: '',\n  nose: '',\n  notebook: '',\n  notebook_with_decorative_cover: '',\n  notes: '',\n  nut_and_bolt: '',\n  o: '',\n  o2: '',\n  ocean: '',\n  octopus: '',\n  oden: '',\n  office: '',\n  oil_drum: '',\n  ok: '',\n  ok_hand: '',\n  ok_man: '',\n  ok_woman: '',\n  old_key: '',\n  older_man: '',\n  older_woman: '',\n  om: '',\n  oman: '',\n  on: '',\n  oncoming_automobile: '',\n  oncoming_bus: '',\n  oncoming_police_car: '',\n  oncoming_taxi: '',\n  one: '1',\n  open_book: '',\n  open_file_folder: '',\n  open_hands: '',\n  open_mouth: '',\n  open_umbrella: '',\n  ophiuchus: '',\n  orange: '',\n  orange_book: '',\n  orthodox_cross: '',\n  outbox_tray: '',\n  owl: '',\n  ox: '',\n  package: '',\n  page_facing_up: '',\n  page_with_curl: '',\n  pager: '',\n  paintbrush: '',\n  pakistan: '',\n  palau: '',\n  palestinian_territories: '',\n  palm_tree: '',\n  panama: '',\n  pancakes: '',\n  panda_face: '',\n  paperclip: '',\n  paperclips: '',\n  papua_new_guinea: '',\n  paraguay: '',\n  parasol_on_ground: '',\n  parking: '',\n  part_alternation_mark: '',\n  partly_sunny: '',\n  passenger_ship: '',\n  passport_control: '',\n  pause_button: '',\n  paw_prints: '',\n  peace_symbol: '',\n  peach: '',\n  peanuts: '',\n  pear: '',\n  pen: '',\n  pencil: '',\n  pencil2: '',\n  penguin: '',\n  pensive: '',\n  performing_arts: '',\n  persevere: '',\n  person_fencing: '',\n  person_frowning: '',\n  person_with_blond_hair: '',\n  person_with_pouting_face: '',\n  peru: '',\n  philippines: '',\n  phone: '',\n  pick: '',\n  pig: '',\n  pig2: '',\n  pig_nose: '',\n  pill: '',\n  pineapple: '',\n  ping_pong: '',\n  pisces: '',\n  pitcairn_islands: '',\n  pizza: '',\n  place_of_worship: '',\n  plate_with_cutlery: '',\n  play_or_pause_button: '',\n  point_down: '',\n  point_left: '',\n  point_right: '',\n  point_up: '',\n  point_up_2: '',\n  poland: '',\n  police_car: '',\n  policeman: '',\n  policewoman: '',\n  poodle: '',\n  poop: '',\n  popcorn: '',\n  portugal: '',\n  post_office: '',\n  postal_horn: '',\n  postbox: '',\n  potable_water: '',\n  potato: '',\n  pouch: '',\n  poultry_leg: '',\n  pound: '',\n  pout: '',\n  pouting_cat: '',\n  pouting_man: '',\n  pouting_woman: '',\n  pray: '',\n  prayer_beads: '',\n  pregnant_woman: '',\n  previous_track_button: '',\n  prince: '',\n  princess: '',\n  printer: '',\n  puerto_rico: '',\n  punch: '',\n  purple_heart: '',\n  purse: '',\n  pushpin: '',\n  put_litter_in_its_place: '',\n  qatar: '',\n  question: '',\n  rabbit: '',\n  rabbit2: '',\n  racehorse: '',\n  racing_car: '',\n  radio: '',\n  radio_button: '',\n  radioactive: '',\n  rage: '',\n  railway_car: '',\n  railway_track: '',\n  rainbow: '',\n  rainbow_flag: '',\n  raised_back_of_hand: '',\n  raised_hand: '',\n  raised_hand_with_fingers_splayed: '',\n  raised_hands: '',\n  raising_hand: '',\n  raising_hand_man: '',\n  raising_hand_woman: '',\n  ram: '',\n  ramen: '',\n  rat: '',\n  record_button: '',\n  recycle: '',\n  red_car: '',\n  red_circle: '',\n  registered: '',\n  relaxed: '',\n  relieved: '',\n  reminder_ribbon: '',\n  repeat: '',\n  repeat_one: '',\n  rescue_worker_helmet: '',\n  restroom: '',\n  reunion: '',\n  revolving_hearts: '',\n  rewind: '',\n  rhinoceros: '',\n  ribbon: '',\n  rice: '',\n  rice_ball: '',\n  rice_cracker: '',\n  rice_scene: '',\n  right_anger_bubble: '',\n  ring: '',\n  robot: '',\n  rocket: '',\n  rofl: '',\n  roll_eyes: '',\n  roller_coaster: '',\n  romania: '',\n  rooster: '',\n  rose: '',\n  rosette: '',\n  rotating_light: '',\n  round_pushpin: '',\n  rowboat: '',\n  rowing_man: '',\n  rowing_woman: '',\n  ru: '',\n  rugby_football: '',\n  runner: '',\n  running: '',\n  running_man: '',\n  running_shirt_with_sash: '',\n  running_woman: '',\n  rwanda: '',\n  sa: '',\n  sagittarius: '',\n  sailboat: '',\n  sake: '',\n  samoa: '',\n  san_marino: '',\n  sandal: '',\n  santa: '',\n  sao_tome_principe: '',\n  sassy_man: '',\n  sassy_woman: '',\n  satellite: '',\n  satisfied: '',\n  saudi_arabia: '',\n  saxophone: '',\n  school: '',\n  school_satchel: '',\n  scissors: '',\n  scorpion: '',\n  scorpius: '',\n  scream: '',\n  scream_cat: '',\n  scroll: '',\n  seat: '',\n  secret: '',\n  see_no_evil: '',\n  seedling: '',\n  selfie: '',\n  senegal: '',\n  serbia: '',\n  seven: '7',\n  seychelles: '',\n  shallow_pan_of_food: '',\n  shamrock: '',\n  shark: '',\n  shaved_ice: '',\n  sheep: '',\n  shell: '',\n  shield: '',\n  shinto_shrine: '',\n  ship: '',\n  shirt: '',\n  shit: '',\n  shoe: '',\n  shopping: '',\n  shopping_cart: '',\n  shower: '',\n  shrimp: '',\n  sierra_leone: '',\n  signal_strength: '',\n  singapore: '',\n  sint_maarten: '',\n  six: '6',\n  six_pointed_star: '',\n  ski: '',\n  skier: '',\n  skull: '',\n  skull_and_crossbones: '',\n  sleeping: '',\n  sleeping_bed: '',\n  sleepy: '',\n  slightly_frowning_face: '',\n  slightly_smiling_face: '',\n  slot_machine: '',\n  slovakia: '',\n  slovenia: '',\n  small_airplane: '',\n  small_blue_diamond: '',\n  small_orange_diamond: '',\n  small_red_triangle: '',\n  small_red_triangle_down: '',\n  smile: '',\n  smile_cat: '',\n  smiley: '',\n  smiley_cat: '',\n  smiling_imp: '',\n  smirk: '',\n  smirk_cat: '',\n  smoking: '',\n  snail: '',\n  snake: '',\n  sneezing_face: '',\n  snowboarder: '',\n  snowflake: '',\n  snowman: '',\n  snowman_with_snow: '',\n  sob: '',\n  soccer: '',\n  solomon_islands: '',\n  somalia: '',\n  soon: '',\n  sos: '',\n  sound: '',\n  south_africa: '',\n  south_georgia_south_sandwich_islands: '',\n  south_sudan: '',\n  space_invader: '',\n  spades: '',\n  spaghetti: '',\n  sparkle: '',\n  sparkler: '',\n  sparkles: '',\n  sparkling_heart: '',\n  speak_no_evil: '',\n  speaker: '',\n  speaking_head: '',\n  speech_balloon: '',\n  speedboat: '',\n  spider: '',\n  spider_web: '',\n  spiral_calendar: '',\n  spiral_notepad: '',\n  spoon: '',\n  squid: '',\n  sri_lanka: '',\n  st_barthelemy: '',\n  st_helena: '',\n  st_kitts_nevis: '',\n  st_lucia: '',\n  st_pierre_miquelon: '',\n  st_vincent_grenadines: '',\n  stadium: '',\n  star: '',\n  star2: '',\n  star_and_crescent: '',\n  star_of_david: '',\n  stars: '',\n  station: '',\n  statue_of_liberty: '',\n  steam_locomotive: '',\n  stew: '',\n  stop_button: '',\n  stop_sign: '',\n  stopwatch: '',\n  straight_ruler: '',\n  strawberry: '',\n  stuck_out_tongue: '',\n  stuck_out_tongue_closed_eyes: '',\n  stuck_out_tongue_winking_eye: '',\n  studio_microphone: '',\n  stuffed_flatbread: '',\n  sudan: '',\n  sun_behind_large_cloud: '',\n  sun_behind_rain_cloud: '',\n  sun_behind_small_cloud: '',\n  sun_with_face: '',\n  sunflower: '',\n  sunglasses: '',\n  sunny: '',\n  sunrise: '',\n  sunrise_over_mountains: '',\n  surfer: '',\n  surfing_man: '',\n  surfing_woman: '',\n  suriname: '',\n  sushi: '',\n  suspension_railway: '',\n  swaziland: '',\n  sweat: '',\n  sweat_drops: '',\n  sweat_smile: '',\n  sweden: '',\n  sweet_potato: '',\n  swimmer: '',\n  swimming_man: '',\n  swimming_woman: '',\n  switzerland: '',\n  symbols: '',\n  synagogue: '',\n  syria: '',\n  syringe: '',\n  taco: '',\n  tada: '',\n  taiwan: '',\n  tajikistan: '',\n  tanabata_tree: '',\n  tangerine: '',\n  tanzania: '',\n  taurus: '',\n  taxi: '',\n  tea: '',\n  telephone: '',\n  telephone_receiver: '',\n  telescope: '',\n  tennis: '',\n  tent: '',\n  thailand: '',\n  thermometer: '',\n  thinking: '',\n  thought_balloon: '',\n  three: '3',\n  thumbsdown: '',\n  thumbsup: '',\n  ticket: '',\n  tickets: '',\n  tiger: '',\n  tiger2: '',\n  timer_clock: '',\n  timor_leste: '',\n  tipping_hand_man: '',\n  tipping_hand_woman: '',\n  tired_face: '',\n  tm: '',\n  togo: '',\n  toilet: '',\n  tokelau: '',\n  tokyo_tower: '',\n  tomato: '',\n  tonga: '',\n  tongue: '',\n  top: '',\n  tophat: '',\n  tornado: '',\n  tr: '',\n  trackball: '',\n  tractor: '',\n  traffic_light: '',\n  train: '',\n  train2: '',\n  tram: '',\n  triangular_flag_on_post: '',\n  triangular_ruler: '',\n  trident: '',\n  trinidad_tobago: '',\n  triumph: '',\n  trolleybus: '',\n  trophy: '',\n  tropical_drink: '',\n  tropical_fish: '',\n  truck: '',\n  trumpet: '',\n  tshirt: '',\n  tulip: '',\n  tumbler_glass: '',\n  tunisia: '',\n  turkey: '',\n  turkmenistan: '',\n  turks_caicos_islands: '',\n  turtle: '',\n  tuvalu: '',\n  tv: '',\n  twisted_rightwards_arrows: '',\n  two: '2',\n  two_hearts: '',\n  two_men_holding_hands: '',\n  two_women_holding_hands: '',\n  u5272: '',\n  u5408: '',\n  u55b6: '',\n  u6307: '',\n  u6708: '',\n  u6709: '',\n  u6e80: '',\n  u7121: '',\n  u7533: '',\n  u7981: '',\n  u7a7a: '',\n  uganda: '',\n  uk: '',\n  ukraine: '',\n  umbrella: '',\n  unamused: '',\n  underage: '',\n  unicorn: '',\n  united_arab_emirates: '',\n  unlock: '',\n  up: '',\n  upside_down_face: '',\n  uruguay: '',\n  us: '',\n  us_virgin_islands: '',\n  uzbekistan: '',\n  v: '',\n  vanuatu: '',\n  vatican_city: '',\n  venezuela: '',\n  vertical_traffic_light: '',\n  vhs: '',\n  vibration_mode: '',\n  video_camera: '',\n  video_game: '',\n  vietnam: '',\n  violin: '',\n  virgo: '',\n  volcano: '',\n  volleyball: '',\n  vs: '',\n  vulcan_salute: '',\n  walking: '',\n  walking_man: '',\n  walking_woman: '',\n  wallis_futuna: '',\n  waning_crescent_moon: '',\n  waning_gibbous_moon: '',\n  warning: '',\n  wastebasket: '',\n  watch: '',\n  water_buffalo: '',\n  watermelon: '',\n  wave: '',\n  wavy_dash: '',\n  waxing_crescent_moon: '',\n  waxing_gibbous_moon: '',\n  wc: '',\n  weary: '',\n  wedding: '',\n  weight_lifting_man: '',\n  weight_lifting_woman: '',\n  western_sahara: '',\n  whale: '',\n  whale2: '',\n  wheel_of_dharma: '',\n  wheelchair: '',\n  white_check_mark: '',\n  white_circle: '',\n  white_flag: '',\n  white_flower: '',\n  white_large_square: '',\n  white_medium_small_square: '',\n  white_medium_square: '',\n  white_small_square: '',\n  white_square_button: '',\n  wilted_flower: '',\n  wind_chime: '',\n  wind_face: '',\n  wine_glass: '',\n  wink: '',\n  wolf: '',\n  woman: '',\n  woman_artist: '',\n  woman_astronaut: '',\n  woman_cartwheeling: '',\n  woman_cook: '',\n  woman_facepalming: '',\n  woman_factory_worker: '',\n  woman_farmer: '',\n  woman_firefighter: '',\n  woman_health_worker: '',\n  woman_judge: '',\n  woman_juggling: '',\n  woman_mechanic: '',\n  woman_office_worker: '',\n  woman_pilot: '',\n  woman_playing_handball: '',\n  woman_playing_water_polo: '',\n  woman_scientist: '',\n  woman_shrugging: '',\n  woman_singer: '',\n  woman_student: '',\n  woman_teacher: '',\n  woman_technologist: '',\n  woman_with_turban: '',\n  womans_clothes: '',\n  womans_hat: '',\n  women_wrestling: '',\n  womens: '',\n  world_map: '',\n  worried: '',\n  wrench: '',\n  writing_hand: '',\n  x: '',\n  yellow_heart: '',\n  yemen: '',\n  yen: '',\n  yin_yang: '',\n  yum: '',\n  zambia: '',\n  zap: '',\n  zero: '0',\n  zimbabwe: '',\n  zipper_mouth_face: '',\n  zzz: '',\n};\n","import { sRequest } from '../index';\n\nexport function getAllCategorys(): Promise<any> {\n  return sRequest.get({\n    url: '/api/categorys',\n  });\n}\n","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-27716a55\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"\", -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_n_image = _resolveComponent(\"n-image\")!\n  const _component_n_popover = _resolveComponent(\"n-popover\")!\n\n  return (_openBlock(), _createBlock(_component_n_popover, { trigger: \"hover\" }, {\n    trigger: _withCtx(() => [\n      _createElementVNode(\"div\", {\n        onDragend: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.uploadClick && _ctx.uploadClick(...args)))\n      }, [\n        _createVNode(_component_n_image, {\n          height: 48,\n          src: _ctx.src\n        }, null, 8, [\"src\"]),\n        _createElementVNode(\"input\", {\n          type: \"file\",\n          ref: \"img\",\n          onChange: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.FileToUpload && _ctx.FileToUpload(...args)))\n        }, null, 544)\n      ], 32)\n    ]),\n    default: _withCtx(() => [\n      _hoisted_1\n    ]),\n    _: 1\n  }))\n}","\nimport { computed, defineComponent, ref, watchEffect } from 'vue';\nimport { upload } from '@/service/upload/upload';\n\nexport default defineComponent({\n  props: {\n    cover: {\n      type: String,\n    },\n  },\n  emits: {\n    imgUpdated: null,\n  },\n  setup(props, { emit }) {\n    // cover src\n    const cover = ref(props.cover);\n    watchEffect(() => {\n      cover.value = props.cover;\n    });\n    const src = computed(() => {\n      return process.env.VUE_APP_IMAGE_LOAD_BASE + cover.value;\n    });\n    //   \n    const img = ref<HTMLInputElement | null>(null);\n    const uploadClick = () => {\n      img.value?.click();\n    };\n    const FileToUpload = () => {\n      if (!img.value?.files) return;\n      const file_ = img.value?.files[0];\n      var formdata = new FormData();\n      formdata.append('file', file_);\n      upload(formdata).then((res) => {\n        emit('imgUpdated', res.data.data.file.url);\n      });\n    };\n    return { src, img, uploadClick, FileToUpload };\n  },\n});\n","import { render } from \"./BlogUpload.vue?vue&type=template&id=27716a55&scoped=true&ts=true\"\nimport script from \"./BlogUpload.vue?vue&type=script&lang=ts\"\nexport * from \"./BlogUpload.vue?vue&type=script&lang=ts\"\n\nimport \"./BlogUpload.vue?vue&type=style&index=0&id=27716a55&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\86199\\\\Desktop\\\\work-space\\\\full\\\\myblog\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-27716a55\"]])\n\nexport default __exports__","import { render } from \"./blog.vue?vue&type=template&id=16afe57e&scoped=true\"\nimport script from \"./blog.vue?vue&type=script&lang=js\"\nexport * from \"./blog.vue?vue&type=script&lang=js\"\n\nimport \"./blog.vue?vue&type=style&index=0&id=16afe57e&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\86199\\\\Desktop\\\\work-space\\\\full\\\\myblog\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-16afe57e\"]])\n\nexport default __exports__","/*!\n * Vditor v3.8.7 - A markdown editor written in TypeScript.\n *\n * MIT License\n *\n * Copyright (c) 2018-present B3log , b3log.org\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Vditor\"] = factory();\n\telse\n\t\troot[\"Vditor\"] = factory();\n})(this, function() {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 694:\n/***/ ((module) => {\n\n/**\n * Diff Match and Patch\n * Copyright 2018 The diff-match-patch Authors.\n * https://github.com/google/diff-match-patch\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Computes the difference between two texts to create a patch.\n * Applies the patch onto another text, allowing for errors.\n * @author fraser@google.com (Neil Fraser)\n */\n\n/**\n * Class containing the diff, match and patch methods.\n * @constructor\n */\nvar diff_match_patch = function () {\n  // Defaults.\n  // Redefine these in your program to override the defaults.\n  // Number of seconds to map a diff before giving up (0 for infinity).\n  this.Diff_Timeout = 1.0; // Cost of an empty edit operation in terms of edit characters.\n\n  this.Diff_EditCost = 4; // At what point is no match declared (0.0 = perfection, 1.0 = very loose).\n\n  this.Match_Threshold = 0.5; // How far to search for a match (0 = exact location, 1000+ = broad match).\n  // A match this many characters away from the expected location will add\n  // 1.0 to the score (0.0 is a perfect match).\n\n  this.Match_Distance = 1000; // When deleting a large block of text (over ~64 characters), how close do\n  // the contents have to be to match the expected contents. (0.0 = perfection,\n  // 1.0 = very loose).  Note that Match_Threshold controls how closely the\n  // end points of a delete need to match.\n\n  this.Patch_DeleteThreshold = 0.5; // Chunk size for context length.\n\n  this.Patch_Margin = 4; // The number of bits in an int.\n\n  this.Match_MaxBits = 32;\n}; //  DIFF FUNCTIONS\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\n\n\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n/**\n * Class representing one diff tuple.\n * ~Attempts to look like a two-element array (which is what this used to be).~\n * Constructor returns an actual two-element array, to allow destructing @JackuB\n * See https://github.com/JackuB/diff-match-patch/issues/14 for details\n * @param {number} op Operation, one of: DIFF_DELETE, DIFF_INSERT, DIFF_EQUAL.\n * @param {string} text Text to be deleted, inserted, or retained.\n * @constructor\n */\n\ndiff_match_patch.Diff = function (op, text) {\n  return [op, text];\n};\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean=} opt_checklines Optional speedup flag. If present and false,\n *     then don't run a line-level diff first to identify the changed areas.\n *     Defaults to true, which does a faster, slightly less optimal diff.\n * @param {number=} opt_deadline Optional time when the diff should be complete\n *     by.  Used internally for recursive calls.  Users should set DiffTimeout\n *     instead.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n */\n\n\ndiff_match_patch.prototype.diff_main = function (text1, text2, opt_checklines, opt_deadline) {\n  // Set a deadline by which time the diff must be complete.\n  if (typeof opt_deadline == 'undefined') {\n    if (this.Diff_Timeout <= 0) {\n      opt_deadline = Number.MAX_VALUE;\n    } else {\n      opt_deadline = new Date().getTime() + this.Diff_Timeout * 1000;\n    }\n  }\n\n  var deadline = opt_deadline; // Check for null inputs.\n\n  if (text1 == null || text2 == null) {\n    throw new Error('Null input. (diff_main)');\n  } // Check for equality (speedup).\n\n\n  if (text1 == text2) {\n    if (text1) {\n      return [new diff_match_patch.Diff(DIFF_EQUAL, text1)];\n    }\n\n    return [];\n  }\n\n  if (typeof opt_checklines == 'undefined') {\n    opt_checklines = true;\n  }\n\n  var checklines = opt_checklines; // Trim off common prefix (speedup).\n\n  var commonlength = this.diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength); // Trim off common suffix (speedup).\n\n  commonlength = this.diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength); // Compute the diff on the middle block.\n\n  var diffs = this.diff_compute_(text1, text2, checklines, deadline); // Restore the prefix and suffix.\n\n  if (commonprefix) {\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, commonprefix));\n  }\n\n  if (commonsuffix) {\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, commonsuffix));\n  }\n\n  this.diff_cleanupMerge(diffs);\n  return diffs;\n};\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean} checklines Speedup flag.  If false, then don't run a\n *     line-level diff first to identify the changed areas.\n *     If true, then run a faster, slightly less optimal diff.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_compute_ = function (text1, text2, checklines, deadline) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1)];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(0, i)), new diff_match_patch.Diff(DIFF_EQUAL, shorttext), new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(i + shorttext.length))]; // Swap insertions for deletions if diff is reversed.\n\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1), new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  } // Check to see if the problem can be split in two.\n\n\n  var hm = this.diff_halfMatch_(text1, text2);\n\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4]; // Send both pairs off for separate processing.\n\n    var diffs_a = this.diff_main(text1_a, text2_a, checklines, deadline);\n    var diffs_b = this.diff_main(text1_b, text2_b, checklines, deadline); // Merge the results.\n\n    return diffs_a.concat([new diff_match_patch.Diff(DIFF_EQUAL, mid_common)], diffs_b);\n  }\n\n  if (checklines && text1.length > 100 && text2.length > 100) {\n    return this.diff_lineMode_(text1, text2, deadline);\n  }\n\n  return this.diff_bisect_(text1, text2, deadline);\n};\n/**\n * Do a quick line-level diff on both strings, then rediff the parts for\n * greater accuracy.\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_lineMode_ = function (text1, text2, deadline) {\n  // Scan the text on a line-by-line basis first.\n  var a = this.diff_linesToChars_(text1, text2);\n  text1 = a.chars1;\n  text2 = a.chars2;\n  var linearray = a.lineArray;\n  var diffs = this.diff_main(text1, text2, false, deadline); // Convert the diff back to original text.\n\n  this.diff_charsToLines_(diffs, linearray); // Eliminate freak matches (e.g. blank lines)\n\n  this.diff_cleanupSemantic(diffs); // Rediff any replacement blocks, this time character-by-character.\n  // Add a dummy entry at the end.\n\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        break;\n\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        break;\n\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete >= 1 && count_insert >= 1) {\n          // Delete the offending records and add the merged ones.\n          diffs.splice(pointer - count_delete - count_insert, count_delete + count_insert);\n          pointer = pointer - count_delete - count_insert;\n          var subDiff = this.diff_main(text_delete, text_insert, false, deadline);\n\n          for (var j = subDiff.length - 1; j >= 0; j--) {\n            diffs.splice(pointer, 0, subDiff[j]);\n          }\n\n          pointer = pointer + subDiff.length;\n        }\n\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n\n    pointer++;\n  }\n\n  diffs.pop(); // Remove the dummy entry at the end.\n\n  return diffs;\n};\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_bisect_ = function (text1, text2, deadline) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length); // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length; // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n\n  var front = delta % 2 != 0; // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n\n  for (var d = 0; d < max_d; d++) {\n    // Bail out if deadline is reached.\n    if (new Date().getTime() > deadline) {\n      break;\n    } // Walk the front path one step.\n\n\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n\n      if (k1 == -d || k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1]) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n\n      var y1 = x1 - k1;\n\n      while (x1 < text1_length && y1 < text2_length && text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n\n      v1[k1_offset] = x1;\n\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    } // Walk the reverse path one step.\n\n\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n\n      if (k2 == -d || k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1]) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n\n      var y2 = x2 - k2;\n\n      while (x2 < text1_length && y2 < text2_length && text1.charAt(text1_length - x2 - 1) == text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n\n      v2[k2_offset] = x2;\n\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset; // Mirror x2 onto top-left coordinate system.\n\n          x2 = text1_length - x2;\n\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n  } // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n\n\n  return [new diff_match_patch.Diff(DIFF_DELETE, text1), new diff_match_patch.Diff(DIFF_INSERT, text2)];\n};\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_bisectSplit_ = function (text1, text2, x, y, deadline) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y); // Compute both diffs serially.\n\n  var diffs = this.diff_main(text1a, text2a, false, deadline);\n  var diffsb = this.diff_main(text1b, text2b, false, deadline);\n  return diffs.concat(diffsb);\n};\n/**\n * Split two texts into an array of strings.  Reduce the texts to a string of\n * hashes where each Unicode character represents one line.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\n *     An object containing the encoded text1, the encoded text2 and\n *     the array of unique strings.\n *     The zeroth element of the array of unique strings is intentionally blank.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_linesToChars_ = function (text1, text2) {\n  var lineArray = []; // e.g. lineArray[4] == 'Hello\\n'\n\n  var lineHash = {}; // e.g. lineHash['Hello\\n'] == 4\n  // '\\x00' is a valid character, but various debuggers don't like it.\n  // So we'll insert a junk entry to avoid generating a null character.\n\n  lineArray[0] = '';\n  /**\n   * Split a text into an array of strings.  Reduce the texts to a string of\n   * hashes where each Unicode character represents one line.\n   * Modifies linearray and linehash through being a closure.\n   * @param {string} text String to encode.\n   * @return {string} Encoded string.\n   * @private\n   */\n\n  function diff_linesToCharsMunge_(text) {\n    var chars = ''; // Walk the text, pulling out a substring for each line.\n    // text.split('\\n') would would temporarily double our memory footprint.\n    // Modifying text would create many large strings to garbage collect.\n\n    var lineStart = 0;\n    var lineEnd = -1; // Keeping our own length variable is faster than looking it up.\n\n    var lineArrayLength = lineArray.length;\n\n    while (lineEnd < text.length - 1) {\n      lineEnd = text.indexOf('\\n', lineStart);\n\n      if (lineEnd == -1) {\n        lineEnd = text.length - 1;\n      }\n\n      var line = text.substring(lineStart, lineEnd + 1);\n\n      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) : lineHash[line] !== undefined) {\n        chars += String.fromCharCode(lineHash[line]);\n      } else {\n        if (lineArrayLength == maxLines) {\n          // Bail out at 65535 because\n          // String.fromCharCode(65536) == String.fromCharCode(0)\n          line = text.substring(lineStart);\n          lineEnd = text.length;\n        }\n\n        chars += String.fromCharCode(lineArrayLength);\n        lineHash[line] = lineArrayLength;\n        lineArray[lineArrayLength++] = line;\n      }\n\n      lineStart = lineEnd + 1;\n    }\n\n    return chars;\n  } // Allocate 2/3rds of the space for text1, the rest for text2.\n\n\n  var maxLines = 40000;\n  var chars1 = diff_linesToCharsMunge_(text1);\n  maxLines = 65535;\n  var chars2 = diff_linesToCharsMunge_(text2);\n  return {\n    chars1: chars1,\n    chars2: chars2,\n    lineArray: lineArray\n  };\n};\n/**\n * Rehydrate the text in a diff from a string of line hashes to real lines of\n * text.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {!Array.<string>} lineArray Array of unique strings.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_charsToLines_ = function (diffs, lineArray) {\n  for (var i = 0; i < diffs.length; i++) {\n    var chars = diffs[i][1];\n    var text = [];\n\n    for (var j = 0; j < chars.length; j++) {\n      text[j] = lineArray[chars.charCodeAt(j)];\n    }\n\n    diffs[i][1] = text.join('');\n  }\n};\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\n\n\ndiff_match_patch.prototype.diff_commonPrefix = function (text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  } // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n\n\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) == text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n\n  return pointermid;\n};\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\n\n\ndiff_match_patch.prototype.diff_commonSuffix = function (text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  } // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n\n\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) == text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n\n  return pointermid;\n};\n/**\n * Determine if the suffix of one string is the prefix of another.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of the first\n *     string and the start of the second string.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_commonOverlap_ = function (text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length; // Eliminate the null case.\n\n  if (text1_length == 0 || text2_length == 0) {\n    return 0;\n  } // Truncate the longer string.\n\n\n  if (text1_length > text2_length) {\n    text1 = text1.substring(text1_length - text2_length);\n  } else if (text1_length < text2_length) {\n    text2 = text2.substring(0, text1_length);\n  }\n\n  var text_length = Math.min(text1_length, text2_length); // Quick check for the worst case.\n\n  if (text1 == text2) {\n    return text_length;\n  } // Start by looking for a single character match\n  // and increase length until no match is found.\n  // Performance analysis: https://neil.fraser.name/news/2010/11/04/\n\n\n  var best = 0;\n  var length = 1;\n\n  while (true) {\n    var pattern = text1.substring(text_length - length);\n    var found = text2.indexOf(pattern);\n\n    if (found == -1) {\n      return best;\n    }\n\n    length += found;\n\n    if (found == 0 || text1.substring(text_length - length) == text2.substring(0, length)) {\n      best = length;\n      length++;\n    }\n  }\n};\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_halfMatch_ = function (text1, text2) {\n  if (this.Diff_Timeout <= 0) {\n    // Don't risk returning a non-optimal diff if we have unlimited time.\n    return null;\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null; // Pointless.\n  }\n\n  var dmp = this; // 'this' becomes 'window' in a closure.\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = dmp.diff_commonPrefix(longtext.substring(i), shorttext.substring(j));\n      var suffixLength = dmp.diff_commonSuffix(longtext.substring(0, i), shorttext.substring(0, j));\n\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) + shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  } // First check if the second quarter is the seed for a half-match.\n\n\n  var hm1 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 4)); // Check again based on the third quarter.\n\n  var hm2 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 2));\n  var hm;\n\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  } // A half-match was found, sort out the return data.\n\n\n  var text1_a, text1_b, text2_a, text2_b;\n\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n/**\n * Reduce the number of edits by eliminating semantically trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\n\n\ndiff_match_patch.prototype.diff_cleanupSemantic = function (diffs) {\n  var changes = false;\n  var equalities = []; // Stack of indices where equalities are found.\n\n  var equalitiesLength = 0; // Keeping our own length var is faster in JS.\n\n  /** @type {?string} */\n\n  var lastEquality = null; // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n\n  var pointer = 0; // Index of current position.\n  // Number of characters that changed prior to the equality.\n\n  var length_insertions1 = 0;\n  var length_deletions1 = 0; // Number of characters that changed after the equality.\n\n  var length_insertions2 = 0;\n  var length_deletions2 = 0;\n\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {\n      // Equality found.\n      equalities[equalitiesLength++] = pointer;\n      length_insertions1 = length_insertions2;\n      length_deletions1 = length_deletions2;\n      length_insertions2 = 0;\n      length_deletions2 = 0;\n      lastEquality = diffs[pointer][1];\n    } else {\n      // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_INSERT) {\n        length_insertions2 += diffs[pointer][1].length;\n      } else {\n        length_deletions2 += diffs[pointer][1].length;\n      } // Eliminate an equality that is smaller or equal to the edits on both\n      // sides of it.\n\n\n      if (lastEquality && lastEquality.length <= Math.max(length_insertions1, length_deletions1) && lastEquality.length <= Math.max(length_insertions2, length_deletions2)) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0, new diff_match_patch.Diff(DIFF_DELETE, lastEquality)); // Change second copy to insert.\n\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT; // Throw away the equality we just deleted.\n\n        equalitiesLength--; // Throw away the previous equality (it needs to be reevaluated).\n\n        equalitiesLength--;\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n        length_insertions1 = 0; // Reset the counters.\n\n        length_deletions1 = 0;\n        length_insertions2 = 0;\n        length_deletions2 = 0;\n        lastEquality = null;\n        changes = true;\n      }\n    }\n\n    pointer++;\n  } // Normalize the diff.\n\n\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n\n  this.diff_cleanupSemanticLossless(diffs); // Find any overlaps between deletions and insertions.\n  // e.g: <del>abcxxx</del><ins>xxxdef</ins>\n  //   -> <del>abc</del>xxx<ins>def</ins>\n  // e.g: <del>xxxabc</del><ins>defxxx</ins>\n  //   -> <ins>def</ins>xxx<del>abc</del>\n  // Only extract an overlap if it is as big as the edit ahead or behind it.\n\n  pointer = 1;\n\n  while (pointer < diffs.length) {\n    if (diffs[pointer - 1][0] == DIFF_DELETE && diffs[pointer][0] == DIFF_INSERT) {\n      var deletion = diffs[pointer - 1][1];\n      var insertion = diffs[pointer][1];\n      var overlap_length1 = this.diff_commonOverlap_(deletion, insertion);\n      var overlap_length2 = this.diff_commonOverlap_(insertion, deletion);\n\n      if (overlap_length1 >= overlap_length2) {\n        if (overlap_length1 >= deletion.length / 2 || overlap_length1 >= insertion.length / 2) {\n          // Overlap found.  Insert an equality and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL, insertion.substring(0, overlap_length1)));\n          diffs[pointer - 1][1] = deletion.substring(0, deletion.length - overlap_length1);\n          diffs[pointer + 1][1] = insertion.substring(overlap_length1);\n          pointer++;\n        }\n      } else {\n        if (overlap_length2 >= deletion.length / 2 || overlap_length2 >= insertion.length / 2) {\n          // Reverse overlap found.\n          // Insert an equality and swap and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL, deletion.substring(0, overlap_length2)));\n          diffs[pointer - 1][0] = DIFF_INSERT;\n          diffs[pointer - 1][1] = insertion.substring(0, insertion.length - overlap_length2);\n          diffs[pointer + 1][0] = DIFF_DELETE;\n          diffs[pointer + 1][1] = deletion.substring(overlap_length2);\n          pointer++;\n        }\n      }\n\n      pointer++;\n    }\n\n    pointer++;\n  }\n};\n/**\n * Look for single edits surrounded on both sides by equalities\n * which can be shifted sideways to align the edit to a word boundary.\n * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\n\n\ndiff_match_patch.prototype.diff_cleanupSemanticLossless = function (diffs) {\n  /**\n   * Given two strings, compute a score representing whether the internal\n   * boundary falls on logical boundaries.\n   * Scores range from 6 (best) to 0 (worst).\n   * Closure, but does not reference any external variables.\n   * @param {string} one First string.\n   * @param {string} two Second string.\n   * @return {number} The score.\n   * @private\n   */\n  function diff_cleanupSemanticScore_(one, two) {\n    if (!one || !two) {\n      // Edges are the best.\n      return 6;\n    } // Each port of this function behaves slightly differently due to\n    // subtle differences in each language's definition of things like\n    // 'whitespace'.  Since this function's purpose is largely cosmetic,\n    // the choice has been made to use each language's native features\n    // rather than force total conformity.\n\n\n    var char1 = one.charAt(one.length - 1);\n    var char2 = two.charAt(0);\n    var nonAlphaNumeric1 = char1.match(diff_match_patch.nonAlphaNumericRegex_);\n    var nonAlphaNumeric2 = char2.match(diff_match_patch.nonAlphaNumericRegex_);\n    var whitespace1 = nonAlphaNumeric1 && char1.match(diff_match_patch.whitespaceRegex_);\n    var whitespace2 = nonAlphaNumeric2 && char2.match(diff_match_patch.whitespaceRegex_);\n    var lineBreak1 = whitespace1 && char1.match(diff_match_patch.linebreakRegex_);\n    var lineBreak2 = whitespace2 && char2.match(diff_match_patch.linebreakRegex_);\n    var blankLine1 = lineBreak1 && one.match(diff_match_patch.blanklineEndRegex_);\n    var blankLine2 = lineBreak2 && two.match(diff_match_patch.blanklineStartRegex_);\n\n    if (blankLine1 || blankLine2) {\n      // Five points for blank lines.\n      return 5;\n    } else if (lineBreak1 || lineBreak2) {\n      // Four points for line breaks.\n      return 4;\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\n      // Three points for end of sentences.\n      return 3;\n    } else if (whitespace1 || whitespace2) {\n      // Two points for whitespace.\n      return 2;\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\n      // One point for non-alphanumeric.\n      return 1;\n    }\n\n    return 0;\n  }\n\n  var pointer = 1; // Intentionally ignore the first and last element (don't need checking).\n\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      var equality1 = diffs[pointer - 1][1];\n      var edit = diffs[pointer][1];\n      var equality2 = diffs[pointer + 1][1]; // First, shift the edit as far left as possible.\n\n      var commonOffset = this.diff_commonSuffix(equality1, edit);\n\n      if (commonOffset) {\n        var commonString = edit.substring(edit.length - commonOffset);\n        equality1 = equality1.substring(0, equality1.length - commonOffset);\n        edit = commonString + edit.substring(0, edit.length - commonOffset);\n        equality2 = commonString + equality2;\n      } // Second, step character by character right, looking for the best fit.\n\n\n      var bestEquality1 = equality1;\n      var bestEdit = edit;\n      var bestEquality2 = equality2;\n      var bestScore = diff_cleanupSemanticScore_(equality1, edit) + diff_cleanupSemanticScore_(edit, equality2);\n\n      while (edit.charAt(0) === equality2.charAt(0)) {\n        equality1 += edit.charAt(0);\n        edit = edit.substring(1) + equality2.charAt(0);\n        equality2 = equality2.substring(1);\n        var score = diff_cleanupSemanticScore_(equality1, edit) + diff_cleanupSemanticScore_(edit, equality2); // The >= encourages trailing rather than leading whitespace on edits.\n\n        if (score >= bestScore) {\n          bestScore = score;\n          bestEquality1 = equality1;\n          bestEdit = edit;\n          bestEquality2 = equality2;\n        }\n      }\n\n      if (diffs[pointer - 1][1] != bestEquality1) {\n        // We have an improvement, save it back to the diff.\n        if (bestEquality1) {\n          diffs[pointer - 1][1] = bestEquality1;\n        } else {\n          diffs.splice(pointer - 1, 1);\n          pointer--;\n        }\n\n        diffs[pointer][1] = bestEdit;\n\n        if (bestEquality2) {\n          diffs[pointer + 1][1] = bestEquality2;\n        } else {\n          diffs.splice(pointer + 1, 1);\n          pointer--;\n        }\n      }\n    }\n\n    pointer++;\n  }\n}; // Define some regex patterns for matching boundaries.\n\n\ndiff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;\ndiff_match_patch.whitespaceRegex_ = /\\s/;\ndiff_match_patch.linebreakRegex_ = /[\\r\\n]/;\ndiff_match_patch.blanklineEndRegex_ = /\\n\\r?\\n$/;\ndiff_match_patch.blanklineStartRegex_ = /^\\r?\\n\\r?\\n/;\n/**\n * Reduce the number of edits by eliminating operationally trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\n\ndiff_match_patch.prototype.diff_cleanupEfficiency = function (diffs) {\n  var changes = false;\n  var equalities = []; // Stack of indices where equalities are found.\n\n  var equalitiesLength = 0; // Keeping our own length var is faster in JS.\n\n  /** @type {?string} */\n\n  var lastEquality = null; // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n\n  var pointer = 0; // Index of current position.\n  // Is there an insertion operation before the last equality.\n\n  var pre_ins = false; // Is there a deletion operation before the last equality.\n\n  var pre_del = false; // Is there an insertion operation after the last equality.\n\n  var post_ins = false; // Is there a deletion operation after the last equality.\n\n  var post_del = false;\n\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {\n      // Equality found.\n      if (diffs[pointer][1].length < this.Diff_EditCost && (post_ins || post_del)) {\n        // Candidate found.\n        equalities[equalitiesLength++] = pointer;\n        pre_ins = post_ins;\n        pre_del = post_del;\n        lastEquality = diffs[pointer][1];\n      } else {\n        // Not a candidate, and can never become one.\n        equalitiesLength = 0;\n        lastEquality = null;\n      }\n\n      post_ins = post_del = false;\n    } else {\n      // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_DELETE) {\n        post_del = true;\n      } else {\n        post_ins = true;\n      }\n      /*\n       * Five types to be split:\n       * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\n       * <ins>A</ins>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<ins>C</ins>\n       * <ins>A</del>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<del>C</del>\n       */\n\n\n      if (lastEquality && (pre_ins && pre_del && post_ins && post_del || lastEquality.length < this.Diff_EditCost / 2 && pre_ins + pre_del + post_ins + post_del == 3)) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0, new diff_match_patch.Diff(DIFF_DELETE, lastEquality)); // Change second copy to insert.\n\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        equalitiesLength--; // Throw away the equality we just deleted;\n\n        lastEquality = null;\n\n        if (pre_ins && pre_del) {\n          // No changes made which could affect previous entry, keep going.\n          post_ins = post_del = true;\n          equalitiesLength = 0;\n        } else {\n          equalitiesLength--; // Throw away the previous equality.\n\n          pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n          post_ins = post_del = false;\n        }\n\n        changes = true;\n      }\n    }\n\n    pointer++;\n  }\n\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\n\n\ndiff_match_patch.prototype.diff_cleanupMerge = function (diffs) {\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = this.diff_commonPrefix(text_insert, text_delete);\n\n            if (commonlength !== 0) {\n              if (pointer - count_delete - count_insert > 0 && diffs[pointer - count_delete - count_insert - 1][0] == DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] += text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, new diff_match_patch.Diff(DIFF_EQUAL, text_insert.substring(0, commonlength)));\n                pointer++;\n              }\n\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            } // Factor out any common suffixies.\n\n\n            commonlength = this.diff_commonSuffix(text_insert, text_delete);\n\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length - commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length - commonlength);\n              text_delete = text_delete.substring(0, text_delete.length - commonlength);\n            }\n          } // Delete the offending records and add the merged ones.\n\n\n          pointer -= count_delete + count_insert;\n          diffs.splice(pointer, count_delete + count_insert);\n\n          if (text_delete.length) {\n            diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_DELETE, text_delete));\n            pointer++;\n          }\n\n          if (text_insert.length) {\n            diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_INSERT, text_insert));\n            pointer++;\n          }\n\n          pointer++;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop(); // Remove the dummy entry at the end.\n  } // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n\n\n  var changes = false;\n  pointer = 1; // Intentionally ignore the first and last element (don't need checking).\n\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length - diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] + diffs[pointer][1].substring(0, diffs[pointer][1].length - diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) == diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] = diffs[pointer][1].substring(diffs[pointer + 1][1].length) + diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n\n    pointer++;\n  } // If shifts were made, the diff needs reordering and another shift sweep.\n\n\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n/**\n * loc is a location in text1, compute and return the equivalent location in\n * text2.\n * e.g. 'The cat' vs 'The big cat', 1->1, 5->8\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {number} loc Location within text1.\n * @return {number} Location within text2.\n */\n\n\ndiff_match_patch.prototype.diff_xIndex = function (diffs, loc) {\n  var chars1 = 0;\n  var chars2 = 0;\n  var last_chars1 = 0;\n  var last_chars2 = 0;\n  var x;\n\n  for (x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      // Equality or deletion.\n      chars1 += diffs[x][1].length;\n    }\n\n    if (diffs[x][0] !== DIFF_DELETE) {\n      // Equality or insertion.\n      chars2 += diffs[x][1].length;\n    }\n\n    if (chars1 > loc) {\n      // Overshot the location.\n      break;\n    }\n\n    last_chars1 = chars1;\n    last_chars2 = chars2;\n  } // Was the location was deleted?\n\n\n  if (diffs.length != x && diffs[x][0] === DIFF_DELETE) {\n    return last_chars2;\n  } // Add the remaining character length.\n\n\n  return last_chars2 + (loc - last_chars1);\n};\n/**\n * Convert a diff array into a pretty HTML report.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} HTML representation.\n */\n\n\ndiff_match_patch.prototype.diff_prettyHtml = function (diffs) {\n  var html = [];\n  var pattern_amp = /&/g;\n  var pattern_lt = /</g;\n  var pattern_gt = />/g;\n  var pattern_para = /\\n/g;\n\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0]; // Operation (insert, delete, equal)\n\n    var data = diffs[x][1]; // Text of change.\n\n    var text = data.replace(pattern_amp, '&amp;').replace(pattern_lt, '&lt;').replace(pattern_gt, '&gt;').replace(pattern_para, '&para;<br>');\n\n    switch (op) {\n      case DIFF_INSERT:\n        html[x] = '<ins style=\"background:#e6ffe6;\">' + text + '</ins>';\n        break;\n\n      case DIFF_DELETE:\n        html[x] = '<del style=\"background:#ffe6e6;\">' + text + '</del>';\n        break;\n\n      case DIFF_EQUAL:\n        html[x] = '<span>' + text + '</span>';\n        break;\n    }\n  }\n\n  return html.join('');\n};\n/**\n * Compute and return the source text (all equalities and deletions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Source text.\n */\n\n\ndiff_match_patch.prototype.diff_text1 = function (diffs) {\n  var text = [];\n\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      text[x] = diffs[x][1];\n    }\n  }\n\n  return text.join('');\n};\n/**\n * Compute and return the destination text (all equalities and insertions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Destination text.\n */\n\n\ndiff_match_patch.prototype.diff_text2 = function (diffs) {\n  var text = [];\n\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_DELETE) {\n      text[x] = diffs[x][1];\n    }\n  }\n\n  return text.join('');\n};\n/**\n * Compute the Levenshtein distance; the number of inserted, deleted or\n * substituted characters.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {number} Number of changes.\n */\n\n\ndiff_match_patch.prototype.diff_levenshtein = function (diffs) {\n  var levenshtein = 0;\n  var insertions = 0;\n  var deletions = 0;\n\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];\n    var data = diffs[x][1];\n\n    switch (op) {\n      case DIFF_INSERT:\n        insertions += data.length;\n        break;\n\n      case DIFF_DELETE:\n        deletions += data.length;\n        break;\n\n      case DIFF_EQUAL:\n        // A deletion and an insertion is one substitution.\n        levenshtein += Math.max(insertions, deletions);\n        insertions = 0;\n        deletions = 0;\n        break;\n    }\n  }\n\n  levenshtein += Math.max(insertions, deletions);\n  return levenshtein;\n};\n/**\n * Crush the diff into an encoded string which describes the operations\n * required to transform text1 into text2.\n * E.g. =3\\t-2\\t+ing  -> Keep 3 chars, delete 2 chars, insert 'ing'.\n * Operations are tab-separated.  Inserted text is escaped using %xx notation.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Delta text.\n */\n\n\ndiff_match_patch.prototype.diff_toDelta = function (diffs) {\n  var text = [];\n\n  for (var x = 0; x < diffs.length; x++) {\n    switch (diffs[x][0]) {\n      case DIFF_INSERT:\n        text[x] = '+' + encodeURI(diffs[x][1]);\n        break;\n\n      case DIFF_DELETE:\n        text[x] = '-' + diffs[x][1].length;\n        break;\n\n      case DIFF_EQUAL:\n        text[x] = '=' + diffs[x][1].length;\n        break;\n    }\n  }\n\n  return text.join('\\t').replace(/%20/g, ' ');\n};\n/**\n * Given the original text1, and an encoded string which describes the\n * operations required to transform text1 into text2, compute the full diff.\n * @param {string} text1 Source string for the diff.\n * @param {string} delta Delta text.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @throws {!Error} If invalid input.\n */\n\n\ndiff_match_patch.prototype.diff_fromDelta = function (text1, delta) {\n  var diffs = [];\n  var diffsLength = 0; // Keeping our own length var is faster in JS.\n\n  var pointer = 0; // Cursor in text1\n\n  var tokens = delta.split(/\\t/g);\n\n  for (var x = 0; x < tokens.length; x++) {\n    // Each token begins with a one character parameter which specifies the\n    // operation of this token (delete, insert, equality).\n    var param = tokens[x].substring(1);\n\n    switch (tokens[x].charAt(0)) {\n      case '+':\n        try {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_INSERT, decodeURI(param));\n        } catch (ex) {\n          // Malformed URI sequence.\n          throw new Error('Illegal escape in diff_fromDelta: ' + param);\n        }\n\n        break;\n\n      case '-': // Fall through.\n\n      case '=':\n        var n = parseInt(param, 10);\n\n        if (isNaN(n) || n < 0) {\n          throw new Error('Invalid number in diff_fromDelta: ' + param);\n        }\n\n        var text = text1.substring(pointer, pointer += n);\n\n        if (tokens[x].charAt(0) == '=') {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_EQUAL, text);\n        } else {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_DELETE, text);\n        }\n\n        break;\n\n      default:\n        // Blank tokens are ok (from a trailing \\t).\n        // Anything else is an error.\n        if (tokens[x]) {\n          throw new Error('Invalid diff operation in diff_fromDelta: ' + tokens[x]);\n        }\n\n    }\n  }\n\n  if (pointer != text1.length) {\n    throw new Error('Delta length (' + pointer + ') does not equal source text length (' + text1.length + ').');\n  }\n\n  return diffs;\n}; //  MATCH FUNCTIONS\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc'.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n */\n\n\ndiff_match_patch.prototype.match_main = function (text, pattern, loc) {\n  // Check for null inputs.\n  if (text == null || pattern == null || loc == null) {\n    throw new Error('Null input. (match_main)');\n  }\n\n  loc = Math.max(0, Math.min(loc, text.length));\n\n  if (text == pattern) {\n    // Shortcut (potentially not guaranteed by the algorithm)\n    return 0;\n  } else if (!text.length) {\n    // Nothing to match.\n    return -1;\n  } else if (text.substring(loc, loc + pattern.length) == pattern) {\n    // Perfect match at the perfect spot!  (Includes case of null pattern)\n    return loc;\n  } else {\n    // Do a fuzzy compare.\n    return this.match_bitap_(text, pattern, loc);\n  }\n};\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc' using the\n * Bitap algorithm.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n * @private\n */\n\n\ndiff_match_patch.prototype.match_bitap_ = function (text, pattern, loc) {\n  if (pattern.length > this.Match_MaxBits) {\n    throw new Error('Pattern too long for this browser.');\n  } // Initialise the alphabet.\n\n\n  var s = this.match_alphabet_(pattern);\n  var dmp = this; // 'this' becomes 'window' in a closure.\n\n  /**\n   * Compute and return the score for a match with e errors and x location.\n   * Accesses loc and pattern through being a closure.\n   * @param {number} e Number of errors in match.\n   * @param {number} x Location of match.\n   * @return {number} Overall score for match (0.0 = good, 1.0 = bad).\n   * @private\n   */\n\n  function match_bitapScore_(e, x) {\n    var accuracy = e / pattern.length;\n    var proximity = Math.abs(loc - x);\n\n    if (!dmp.Match_Distance) {\n      // Dodge divide by zero error.\n      return proximity ? 1.0 : accuracy;\n    }\n\n    return accuracy + proximity / dmp.Match_Distance;\n  } // Highest score beyond which we give up.\n\n\n  var score_threshold = this.Match_Threshold; // Is there a nearby exact match? (speedup)\n\n  var best_loc = text.indexOf(pattern, loc);\n\n  if (best_loc != -1) {\n    score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold); // What about in the other direction? (speedup)\n\n    best_loc = text.lastIndexOf(pattern, loc + pattern.length);\n\n    if (best_loc != -1) {\n      score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    }\n  } // Initialise the bit arrays.\n\n\n  var matchmask = 1 << pattern.length - 1;\n  best_loc = -1;\n  var bin_min, bin_mid;\n  var bin_max = pattern.length + text.length;\n  var last_rd;\n\n  for (var d = 0; d < pattern.length; d++) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from 'loc' we can stray at this\n    // error level.\n    bin_min = 0;\n    bin_mid = bin_max;\n\n    while (bin_min < bin_mid) {\n      if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {\n        bin_min = bin_mid;\n      } else {\n        bin_max = bin_mid;\n      }\n\n      bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);\n    } // Use the result from this iteration as the maximum for the next.\n\n\n    bin_max = bin_mid;\n    var start = Math.max(1, loc - bin_mid + 1);\n    var finish = Math.min(loc + bin_mid, text.length) + pattern.length;\n    var rd = Array(finish + 2);\n    rd[finish + 1] = (1 << d) - 1;\n\n    for (var j = finish; j >= start; j--) {\n      // The alphabet (s) is a sparse hash, so the following line generates\n      // warnings.\n      var charMatch = s[text.charAt(j - 1)];\n\n      if (d === 0) {\n        // First pass: exact match.\n        rd[j] = (rd[j + 1] << 1 | 1) & charMatch;\n      } else {\n        // Subsequent passes: fuzzy match.\n        rd[j] = (rd[j + 1] << 1 | 1) & charMatch | ((last_rd[j + 1] | last_rd[j]) << 1 | 1) | last_rd[j + 1];\n      }\n\n      if (rd[j] & matchmask) {\n        var score = match_bitapScore_(d, j - 1); // This match will almost certainly be better than any existing match.\n        // But check anyway.\n\n        if (score <= score_threshold) {\n          // Told you so.\n          score_threshold = score;\n          best_loc = j - 1;\n\n          if (best_loc > loc) {\n            // When passing loc, don't exceed our current distance from loc.\n            start = Math.max(1, 2 * loc - best_loc);\n          } else {\n            // Already passed loc, downhill from here on in.\n            break;\n          }\n        }\n      }\n    } // No hope for a (better) match at greater error levels.\n\n\n    if (match_bitapScore_(d + 1, loc) > score_threshold) {\n      break;\n    }\n\n    last_rd = rd;\n  }\n\n  return best_loc;\n};\n/**\n * Initialise the alphabet for the Bitap algorithm.\n * @param {string} pattern The text to encode.\n * @return {!Object} Hash of character locations.\n * @private\n */\n\n\ndiff_match_patch.prototype.match_alphabet_ = function (pattern) {\n  var s = {};\n\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] = 0;\n  }\n\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] |= 1 << pattern.length - i - 1;\n  }\n\n  return s;\n}; //  PATCH FUNCTIONS\n\n/**\n * Increase the context until it is unique,\n * but don't let the pattern expand beyond Match_MaxBits.\n * @param {!diff_match_patch.patch_obj} patch The patch to grow.\n * @param {string} text Source text.\n * @private\n */\n\n\ndiff_match_patch.prototype.patch_addContext_ = function (patch, text) {\n  if (text.length == 0) {\n    return;\n  }\n\n  if (patch.start2 === null) {\n    throw Error('patch not initialized');\n  }\n\n  var pattern = text.substring(patch.start2, patch.start2 + patch.length1);\n  var padding = 0; // Look for the first and last matches of pattern in text.  If two different\n  // matches are found, increase the pattern length.\n\n  while (text.indexOf(pattern) != text.lastIndexOf(pattern) && pattern.length < this.Match_MaxBits - this.Patch_Margin - this.Patch_Margin) {\n    padding += this.Patch_Margin;\n    pattern = text.substring(patch.start2 - padding, patch.start2 + patch.length1 + padding);\n  } // Add one chunk for good luck.\n\n\n  padding += this.Patch_Margin; // Add the prefix.\n\n  var prefix = text.substring(patch.start2 - padding, patch.start2);\n\n  if (prefix) {\n    patch.diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, prefix));\n  } // Add the suffix.\n\n\n  var suffix = text.substring(patch.start2 + patch.length1, patch.start2 + patch.length1 + padding);\n\n  if (suffix) {\n    patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, suffix));\n  } // Roll back the start points.\n\n\n  patch.start1 -= prefix.length;\n  patch.start2 -= prefix.length; // Extend the lengths.\n\n  patch.length1 += prefix.length + suffix.length;\n  patch.length2 += prefix.length + suffix.length;\n};\n/**\n * Compute a list of patches to turn text1 into text2.\n * Use diffs if provided, otherwise compute it ourselves.\n * There are four ways to call this function, depending on what data is\n * available to the caller:\n * Method 1:\n * a = text1, b = text2\n * Method 2:\n * a = diffs\n * Method 3 (optimal):\n * a = text1, b = diffs\n * Method 4 (deprecated, use method 3):\n * a = text1, b = text2, c = diffs\n *\n * @param {string|!Array.<!diff_match_patch.Diff>} a text1 (methods 1,3,4) or\n * Array of diff tuples for text1 to text2 (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_b text2 (methods 1,4) or\n * Array of diff tuples for text1 to text2 (method 3) or undefined (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_c Array of diff tuples\n * for text1 to text2 (method 4) or undefined (methods 1,2,3).\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\n\n\ndiff_match_patch.prototype.patch_make = function (a, opt_b, opt_c) {\n  var text1, diffs;\n\n  if (typeof a == 'string' && typeof opt_b == 'string' && typeof opt_c == 'undefined') {\n    // Method 1: text1, text2\n    // Compute diffs from text1 and text2.\n    text1 = a;\n    diffs = this.diff_main(text1, opt_b, true);\n\n    if (diffs.length > 2) {\n      this.diff_cleanupSemantic(diffs);\n      this.diff_cleanupEfficiency(diffs);\n    }\n  } else if (a && typeof a == 'object' && typeof opt_b == 'undefined' && typeof opt_c == 'undefined') {\n    // Method 2: diffs\n    // Compute text1 from diffs.\n    diffs = a;\n    text1 = this.diff_text1(diffs);\n  } else if (typeof a == 'string' && opt_b && typeof opt_b == 'object' && typeof opt_c == 'undefined') {\n    // Method 3: text1, diffs\n    text1 = a;\n    diffs = opt_b;\n  } else if (typeof a == 'string' && typeof opt_b == 'string' && opt_c && typeof opt_c == 'object') {\n    // Method 4: text1, text2, diffs\n    // text2 is not used.\n    text1 = a;\n    diffs = opt_c;\n  } else {\n    throw new Error('Unknown call format to patch_make.');\n  }\n\n  if (diffs.length === 0) {\n    return []; // Get rid of the null case.\n  }\n\n  var patches = [];\n  var patch = new diff_match_patch.patch_obj();\n  var patchDiffLength = 0; // Keeping our own length var is faster in JS.\n\n  var char_count1 = 0; // Number of characters into the text1 string.\n\n  var char_count2 = 0; // Number of characters into the text2 string.\n  // Start with text1 (prepatch_text) and apply the diffs until we arrive at\n  // text2 (postpatch_text).  We recreate the patches one by one to determine\n  // context info.\n\n  var prepatch_text = text1;\n  var postpatch_text = text1;\n\n  for (var x = 0; x < diffs.length; x++) {\n    var diff_type = diffs[x][0];\n    var diff_text = diffs[x][1];\n\n    if (!patchDiffLength && diff_type !== DIFF_EQUAL) {\n      // A new patch starts here.\n      patch.start1 = char_count1;\n      patch.start2 = char_count2;\n    }\n\n    switch (diff_type) {\n      case DIFF_INSERT:\n        patch.diffs[patchDiffLength++] = diffs[x];\n        patch.length2 += diff_text.length;\n        postpatch_text = postpatch_text.substring(0, char_count2) + diff_text + postpatch_text.substring(char_count2);\n        break;\n\n      case DIFF_DELETE:\n        patch.length1 += diff_text.length;\n        patch.diffs[patchDiffLength++] = diffs[x];\n        postpatch_text = postpatch_text.substring(0, char_count2) + postpatch_text.substring(char_count2 + diff_text.length);\n        break;\n\n      case DIFF_EQUAL:\n        if (diff_text.length <= 2 * this.Patch_Margin && patchDiffLength && diffs.length != x + 1) {\n          // Small equality inside a patch.\n          patch.diffs[patchDiffLength++] = diffs[x];\n          patch.length1 += diff_text.length;\n          patch.length2 += diff_text.length;\n        } else if (diff_text.length >= 2 * this.Patch_Margin) {\n          // Time for a new patch.\n          if (patchDiffLength) {\n            this.patch_addContext_(patch, prepatch_text);\n            patches.push(patch);\n            patch = new diff_match_patch.patch_obj();\n            patchDiffLength = 0; // Unlike Unidiff, our patch lists have a rolling context.\n            // https://github.com/google/diff-match-patch/wiki/Unidiff\n            // Update prepatch text & pos to reflect the application of the\n            // just completed patch.\n\n            prepatch_text = postpatch_text;\n            char_count1 = char_count2;\n          }\n        }\n\n        break;\n    } // Update the current character count.\n\n\n    if (diff_type !== DIFF_INSERT) {\n      char_count1 += diff_text.length;\n    }\n\n    if (diff_type !== DIFF_DELETE) {\n      char_count2 += diff_text.length;\n    }\n  } // Pick up the leftover patch if not empty.\n\n\n  if (patchDiffLength) {\n    this.patch_addContext_(patch, prepatch_text);\n    patches.push(patch);\n  }\n\n  return patches;\n};\n/**\n * Given an array of patches, return another array that is identical.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\n\n\ndiff_match_patch.prototype.patch_deepCopy = function (patches) {\n  // Making deep copies is hard in JavaScript.\n  var patchesCopy = [];\n\n  for (var x = 0; x < patches.length; x++) {\n    var patch = patches[x];\n    var patchCopy = new diff_match_patch.patch_obj();\n    patchCopy.diffs = [];\n\n    for (var y = 0; y < patch.diffs.length; y++) {\n      patchCopy.diffs[y] = new diff_match_patch.Diff(patch.diffs[y][0], patch.diffs[y][1]);\n    }\n\n    patchCopy.start1 = patch.start1;\n    patchCopy.start2 = patch.start2;\n    patchCopy.length1 = patch.length1;\n    patchCopy.length2 = patch.length2;\n    patchesCopy[x] = patchCopy;\n  }\n\n  return patchesCopy;\n};\n/**\n * Merge a set of patches onto the text.  Return a patched text, as well\n * as a list of true/false values indicating which patches were applied.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @param {string} text Old text.\n * @return {!Array.<string|!Array.<boolean>>} Two element Array, containing the\n *      new text and an array of boolean values.\n */\n\n\ndiff_match_patch.prototype.patch_apply = function (patches, text) {\n  if (patches.length == 0) {\n    return [text, []];\n  } // Deep copy the patches so that no changes are made to originals.\n\n\n  patches = this.patch_deepCopy(patches);\n  var nullPadding = this.patch_addPadding(patches);\n  text = nullPadding + text + nullPadding;\n  this.patch_splitMax(patches); // delta keeps track of the offset between the expected and actual location\n  // of the previous patch.  If there are patches expected at positions 10 and\n  // 20, but the first patch was found at 12, delta is 2 and the second patch\n  // has an effective expected position of 22.\n\n  var delta = 0;\n  var results = [];\n\n  for (var x = 0; x < patches.length; x++) {\n    var expected_loc = patches[x].start2 + delta;\n    var text1 = this.diff_text1(patches[x].diffs);\n    var start_loc;\n    var end_loc = -1;\n\n    if (text1.length > this.Match_MaxBits) {\n      // patch_splitMax will only provide an oversized pattern in the case of\n      // a monster delete.\n      start_loc = this.match_main(text, text1.substring(0, this.Match_MaxBits), expected_loc);\n\n      if (start_loc != -1) {\n        end_loc = this.match_main(text, text1.substring(text1.length - this.Match_MaxBits), expected_loc + text1.length - this.Match_MaxBits);\n\n        if (end_loc == -1 || start_loc >= end_loc) {\n          // Can't find valid trailing context.  Drop this patch.\n          start_loc = -1;\n        }\n      }\n    } else {\n      start_loc = this.match_main(text, text1, expected_loc);\n    }\n\n    if (start_loc == -1) {\n      // No match found.  :(\n      results[x] = false; // Subtract the delta for this failed patch from subsequent patches.\n\n      delta -= patches[x].length2 - patches[x].length1;\n    } else {\n      // Found a match.  :)\n      results[x] = true;\n      delta = start_loc - expected_loc;\n      var text2;\n\n      if (end_loc == -1) {\n        text2 = text.substring(start_loc, start_loc + text1.length);\n      } else {\n        text2 = text.substring(start_loc, end_loc + this.Match_MaxBits);\n      }\n\n      if (text1 == text2) {\n        // Perfect match, just shove the replacement text in.\n        text = text.substring(0, start_loc) + this.diff_text2(patches[x].diffs) + text.substring(start_loc + text1.length);\n      } else {\n        // Imperfect match.  Run a diff to get a framework of equivalent\n        // indices.\n        var diffs = this.diff_main(text1, text2, false);\n\n        if (text1.length > this.Match_MaxBits && this.diff_levenshtein(diffs) / text1.length > this.Patch_DeleteThreshold) {\n          // The end points match, but the content is unacceptably bad.\n          results[x] = false;\n        } else {\n          this.diff_cleanupSemanticLossless(diffs);\n          var index1 = 0;\n          var index2;\n\n          for (var y = 0; y < patches[x].diffs.length; y++) {\n            var mod = patches[x].diffs[y];\n\n            if (mod[0] !== DIFF_EQUAL) {\n              index2 = this.diff_xIndex(diffs, index1);\n            }\n\n            if (mod[0] === DIFF_INSERT) {\n              // Insertion\n              text = text.substring(0, start_loc + index2) + mod[1] + text.substring(start_loc + index2);\n            } else if (mod[0] === DIFF_DELETE) {\n              // Deletion\n              text = text.substring(0, start_loc + index2) + text.substring(start_loc + this.diff_xIndex(diffs, index1 + mod[1].length));\n            }\n\n            if (mod[0] !== DIFF_DELETE) {\n              index1 += mod[1].length;\n            }\n          }\n        }\n      }\n    }\n  } // Strip the padding off.\n\n\n  text = text.substring(nullPadding.length, text.length - nullPadding.length);\n  return [text, results];\n};\n/**\n * Add some padding on text start and end so that edges can match something.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} The padding string added to each side.\n */\n\n\ndiff_match_patch.prototype.patch_addPadding = function (patches) {\n  var paddingLength = this.Patch_Margin;\n  var nullPadding = '';\n\n  for (var x = 1; x <= paddingLength; x++) {\n    nullPadding += String.fromCharCode(x);\n  } // Bump all the patches forward.\n\n\n  for (var x = 0; x < patches.length; x++) {\n    patches[x].start1 += paddingLength;\n    patches[x].start2 += paddingLength;\n  } // Add some padding on start of first diff.\n\n\n  var patch = patches[0];\n  var diffs = patch.diffs;\n\n  if (diffs.length == 0 || diffs[0][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.start1 -= paddingLength; // Should be 0.\n\n    patch.start2 -= paddingLength; // Should be 0.\n\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[0][1].length) {\n    // Grow first equality.\n    var extraLength = paddingLength - diffs[0][1].length;\n    diffs[0][1] = nullPadding.substring(diffs[0][1].length) + diffs[0][1];\n    patch.start1 -= extraLength;\n    patch.start2 -= extraLength;\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  } // Add some padding on end of last diff.\n\n\n  patch = patches[patches.length - 1];\n  diffs = patch.diffs;\n\n  if (diffs.length == 0 || diffs[diffs.length - 1][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[diffs.length - 1][1].length) {\n    // Grow last equality.\n    var extraLength = paddingLength - diffs[diffs.length - 1][1].length;\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  return nullPadding;\n};\n/**\n * Look through the patches and break up any which are longer than the maximum\n * limit of the match algorithm.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n */\n\n\ndiff_match_patch.prototype.patch_splitMax = function (patches) {\n  var patch_size = this.Match_MaxBits;\n\n  for (var x = 0; x < patches.length; x++) {\n    if (patches[x].length1 <= patch_size) {\n      continue;\n    }\n\n    var bigpatch = patches[x]; // Remove the big old patch.\n\n    patches.splice(x--, 1);\n    var start1 = bigpatch.start1;\n    var start2 = bigpatch.start2;\n    var precontext = '';\n\n    while (bigpatch.diffs.length !== 0) {\n      // Create one of several smaller patches.\n      var patch = new diff_match_patch.patch_obj();\n      var empty = true;\n      patch.start1 = start1 - precontext.length;\n      patch.start2 = start2 - precontext.length;\n\n      if (precontext !== '') {\n        patch.length1 = patch.length2 = precontext.length;\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, precontext));\n      }\n\n      while (bigpatch.diffs.length !== 0 && patch.length1 < patch_size - this.Patch_Margin) {\n        var diff_type = bigpatch.diffs[0][0];\n        var diff_text = bigpatch.diffs[0][1];\n\n        if (diff_type === DIFF_INSERT) {\n          // Insertions are harmless.\n          patch.length2 += diff_text.length;\n          start2 += diff_text.length;\n          patch.diffs.push(bigpatch.diffs.shift());\n          empty = false;\n        } else if (diff_type === DIFF_DELETE && patch.diffs.length == 1 && patch.diffs[0][0] == DIFF_EQUAL && diff_text.length > 2 * patch_size) {\n          // This is a large deletion.  Let it pass in one chunk.\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          empty = false;\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          bigpatch.diffs.shift();\n        } else {\n          // Deletion or equality.  Only take as much as we can stomach.\n          diff_text = diff_text.substring(0, patch_size - patch.length1 - this.Patch_Margin);\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n\n          if (diff_type === DIFF_EQUAL) {\n            patch.length2 += diff_text.length;\n            start2 += diff_text.length;\n          } else {\n            empty = false;\n          }\n\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n\n          if (diff_text == bigpatch.diffs[0][1]) {\n            bigpatch.diffs.shift();\n          } else {\n            bigpatch.diffs[0][1] = bigpatch.diffs[0][1].substring(diff_text.length);\n          }\n        }\n      } // Compute the head context for the next patch.\n\n\n      precontext = this.diff_text2(patch.diffs);\n      precontext = precontext.substring(precontext.length - this.Patch_Margin); // Append the end context for this patch.\n\n      var postcontext = this.diff_text1(bigpatch.diffs).substring(0, this.Patch_Margin);\n\n      if (postcontext !== '') {\n        patch.length1 += postcontext.length;\n        patch.length2 += postcontext.length;\n\n        if (patch.diffs.length !== 0 && patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {\n          patch.diffs[patch.diffs.length - 1][1] += postcontext;\n        } else {\n          patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, postcontext));\n        }\n      }\n\n      if (!empty) {\n        patches.splice(++x, 0, patch);\n      }\n    }\n  }\n};\n/**\n * Take a list of patches and return a textual representation.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} Text representation of patches.\n */\n\n\ndiff_match_patch.prototype.patch_toText = function (patches) {\n  var text = [];\n\n  for (var x = 0; x < patches.length; x++) {\n    text[x] = patches[x];\n  }\n\n  return text.join('');\n};\n/**\n * Parse a textual representation of patches and return a list of Patch objects.\n * @param {string} textline Text representation of patches.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n * @throws {!Error} If invalid input.\n */\n\n\ndiff_match_patch.prototype.patch_fromText = function (textline) {\n  var patches = [];\n\n  if (!textline) {\n    return patches;\n  }\n\n  var text = textline.split('\\n');\n  var textPointer = 0;\n  var patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;\n\n  while (textPointer < text.length) {\n    var m = text[textPointer].match(patchHeader);\n\n    if (!m) {\n      throw new Error('Invalid patch string: ' + text[textPointer]);\n    }\n\n    var patch = new diff_match_patch.patch_obj();\n    patches.push(patch);\n    patch.start1 = parseInt(m[1], 10);\n\n    if (m[2] === '') {\n      patch.start1--;\n      patch.length1 = 1;\n    } else if (m[2] == '0') {\n      patch.length1 = 0;\n    } else {\n      patch.start1--;\n      patch.length1 = parseInt(m[2], 10);\n    }\n\n    patch.start2 = parseInt(m[3], 10);\n\n    if (m[4] === '') {\n      patch.start2--;\n      patch.length2 = 1;\n    } else if (m[4] == '0') {\n      patch.length2 = 0;\n    } else {\n      patch.start2--;\n      patch.length2 = parseInt(m[4], 10);\n    }\n\n    textPointer++;\n\n    while (textPointer < text.length) {\n      var sign = text[textPointer].charAt(0);\n\n      try {\n        var line = decodeURI(text[textPointer].substring(1));\n      } catch (ex) {\n        // Malformed URI sequence.\n        throw new Error('Illegal escape in patch_fromText: ' + line);\n      }\n\n      if (sign == '-') {\n        // Deletion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_DELETE, line));\n      } else if (sign == '+') {\n        // Insertion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_INSERT, line));\n      } else if (sign == ' ') {\n        // Minor equality.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, line));\n      } else if (sign == '@') {\n        // Start of next patch.\n        break;\n      } else if (sign === '') {// Blank line?  Whatever.\n      } else {\n        // WTF?\n        throw new Error('Invalid patch mode \"' + sign + '\" in: ' + line);\n      }\n\n      textPointer++;\n    }\n  }\n\n  return patches;\n};\n/**\n * Class representing one patch operation.\n * @constructor\n */\n\n\ndiff_match_patch.patch_obj = function () {\n  /** @type {!Array.<!diff_match_patch.Diff>} */\n  this.diffs = [];\n  /** @type {?number} */\n\n  this.start1 = null;\n  /** @type {?number} */\n\n  this.start2 = null;\n  /** @type {number} */\n\n  this.length1 = 0;\n  /** @type {number} */\n\n  this.length2 = 0;\n};\n/**\n * Emulate GNU diff's format.\n * Header: @@ -382,8 +481,9 @@\n * Indices are printed as 1-based, not 0-based.\n * @return {string} The GNU diff string.\n */\n\n\ndiff_match_patch.patch_obj.prototype.toString = function () {\n  var coords1, coords2;\n\n  if (this.length1 === 0) {\n    coords1 = this.start1 + ',0';\n  } else if (this.length1 == 1) {\n    coords1 = this.start1 + 1;\n  } else {\n    coords1 = this.start1 + 1 + ',' + this.length1;\n  }\n\n  if (this.length2 === 0) {\n    coords2 = this.start2 + ',0';\n  } else if (this.length2 == 1) {\n    coords2 = this.start2 + 1;\n  } else {\n    coords2 = this.start2 + 1 + ',' + this.length2;\n  }\n\n  var text = ['@@ -' + coords1 + ' +' + coords2 + ' @@\\n'];\n  var op; // Escape the body of the patch with %xx notation.\n\n  for (var x = 0; x < this.diffs.length; x++) {\n    switch (this.diffs[x][0]) {\n      case DIFF_INSERT:\n        op = '+';\n        break;\n\n      case DIFF_DELETE:\n        op = '-';\n        break;\n\n      case DIFF_EQUAL:\n        op = ' ';\n        break;\n    }\n\n    text[x + 1] = op + encodeURI(this.diffs[x][1]) + '\\n';\n  }\n\n  return text.join('').replace(/%20/g, ' ');\n}; // The following export code was added by @ForbesLindesay\n\n\nmodule.exports = diff_match_patch;\nmodule.exports.diff_match_patch = diff_match_patch;\nmodule.exports.DIFF_DELETE = DIFF_DELETE;\nmodule.exports.DIFF_INSERT = DIFF_INSERT;\nmodule.exports.DIFF_EQUAL = DIFF_EQUAL;\n\n/***/ }),\n\n/***/ 157:\n/***/ (() => {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 857:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ method)\n});\n\n// EXTERNAL MODULE: ./src/ts/markdown/abcRender.ts\nvar abcRender = __webpack_require__(369);\n// EXTERNAL MODULE: ./src/ts/markdown/adapterRender.ts\nvar adapterRender = __webpack_require__(46);\n// EXTERNAL MODULE: ./src/ts/markdown/chartRender.ts\nvar chartRender = __webpack_require__(726);\n// EXTERNAL MODULE: ./src/ts/markdown/codeRender.ts\nvar codeRender = __webpack_require__(23);\n// EXTERNAL MODULE: ./src/ts/markdown/flowchartRender.ts\nvar flowchartRender = __webpack_require__(383);\n// EXTERNAL MODULE: ./src/ts/markdown/graphvizRender.ts\nvar graphvizRender = __webpack_require__(890);\n// EXTERNAL MODULE: ./src/ts/markdown/highlightRender.ts\nvar highlightRender = __webpack_require__(93);\n;// CONCATENATED MODULE: ./src/ts/markdown/lazyLoadImageRender.ts\nvar lazyLoadImageRender = function (element) {\n    if (element === void 0) { element = document; }\n    var loadImg = function (it) {\n        var testImage = document.createElement(\"img\");\n        testImage.src = it.getAttribute(\"data-src\");\n        testImage.addEventListener(\"load\", function () {\n            if (!it.getAttribute(\"style\") && !it.getAttribute(\"class\") &&\n                !it.getAttribute(\"width\") && !it.getAttribute(\"height\")) {\n                if (testImage.naturalHeight > testImage.naturalWidth &&\n                    testImage.naturalWidth / testImage.naturalHeight <\n                        document.querySelector(\".vditor-reset\").clientWidth / (window.innerHeight - 40) &&\n                    testImage.naturalHeight > (window.innerHeight - 40)) {\n                    it.style.height = (window.innerHeight - 40) + \"px\";\n                }\n            }\n            it.src = testImage.src;\n        });\n        it.removeAttribute(\"data-src\");\n    };\n    if (!(\"IntersectionObserver\" in window)) {\n        element.querySelectorAll(\"img\").forEach(function (imgElement) {\n            if (imgElement.getAttribute(\"data-src\")) {\n                loadImg(imgElement);\n            }\n        });\n        return false;\n    }\n    if (window.vditorImageIntersectionObserver) {\n        window.vditorImageIntersectionObserver.disconnect();\n        element.querySelectorAll(\"img\").forEach(function (imgElement) {\n            window.vditorImageIntersectionObserver.observe(imgElement);\n        });\n    }\n    else {\n        window.vditorImageIntersectionObserver = new IntersectionObserver(function (entries) {\n            entries.forEach(function (entrie) {\n                if ((typeof entrie.isIntersecting === \"undefined\"\n                    ? entrie.intersectionRatio !== 0\n                    : entrie.isIntersecting)\n                    && entrie.target.getAttribute(\"data-src\")) {\n                    loadImg(entrie.target);\n                }\n            });\n        });\n        element.querySelectorAll(\"img\").forEach(function (imgElement) {\n            window.vditorImageIntersectionObserver.observe(imgElement);\n        });\n    }\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/mathRender.ts\nvar mathRender = __webpack_require__(323);\n// EXTERNAL MODULE: ./src/ts/markdown/mediaRender.ts\nvar mediaRender = __webpack_require__(207);\n// EXTERNAL MODULE: ./src/ts/markdown/mermaidRender.ts\nvar mermaidRender = __webpack_require__(765);\n// EXTERNAL MODULE: ./src/ts/markdown/mindmapRender.ts\nvar mindmapRender = __webpack_require__(894);\n// EXTERNAL MODULE: ./src/ts/markdown/outlineRender.ts\nvar outlineRender = __webpack_require__(198);\n// EXTERNAL MODULE: ./src/ts/markdown/plantumlRender.ts\nvar plantumlRender = __webpack_require__(583);\n// EXTERNAL MODULE: ./src/ts/constants.ts\nvar constants = __webpack_require__(260);\n// EXTERNAL MODULE: ./src/ts/ui/setContentTheme.ts\nvar setContentTheme = __webpack_require__(958);\n// EXTERNAL MODULE: ./src/ts/util/addScript.ts\nvar addScript = __webpack_require__(228);\n// EXTERNAL MODULE: ./src/ts/util/hasClosest.ts\nvar hasClosest = __webpack_require__(713);\n// EXTERNAL MODULE: ./src/ts/util/merge.ts\nvar merge = __webpack_require__(224);\n;// CONCATENATED MODULE: ./src/ts/markdown/anchorRender.ts\nvar anchorRender = function (type) {\n    document.querySelectorAll(\".vditor-anchor\").forEach(function (anchor) {\n        if (type === 1) {\n            anchor.classList.add(\"vditor-anchor--left\");\n        }\n        anchor.onclick = function () {\n            var id = anchor.getAttribute(\"href\").substr(1);\n            var top = document.getElementById(\"vditorAnchor-\" + id).offsetTop;\n            document.querySelector(\"html\").scrollTop = top;\n        };\n    });\n    window.onhashchange = function () {\n        var element = document.getElementById(\"vditorAnchor-\" + decodeURIComponent(window.location.hash.substr(1)));\n        if (element) {\n            document.querySelector(\"html\").scrollTop = element.offsetTop;\n        }\n    };\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/setLute.ts\nvar setLute = __webpack_require__(792);\n// EXTERNAL MODULE: ./src/ts/util/selection.ts\nvar selection = __webpack_require__(187);\n;// CONCATENATED MODULE: ./src/ts/markdown/speechRender.ts\n\nvar speechRender = function (element, lang) {\n    if (lang === void 0) { lang = \"zh_CN\"; }\n    if (typeof speechSynthesis === \"undefined\" || typeof SpeechSynthesisUtterance === \"undefined\") {\n        return;\n    }\n    var playSVG = '<svg><use xlink:href=\"#vditor-icon-play\"></use></svg>';\n    var pauseSVG = '<svg><use xlink:href=\"#vditor-icon-pause\"></use></svg>';\n    var speechDom = document.querySelector(\".vditor-speech\");\n    if (!speechDom) {\n        speechDom = document.createElement(\"div\");\n        speechDom.className = \"vditor-speech\";\n        document.body.insertAdjacentElement(\"beforeend\", speechDom);\n        var getVoice = function () {\n            var voices = speechSynthesis.getVoices();\n            var currentVoice;\n            var defaultVoice;\n            voices.forEach(function (item) {\n                if (item.lang === lang.replace(\"_\", \"-\")) {\n                    currentVoice = item;\n                }\n                if (item.default) {\n                    defaultVoice = item;\n                }\n            });\n            if (!currentVoice) {\n                currentVoice = defaultVoice;\n            }\n            return currentVoice;\n        };\n        if (speechSynthesis.onvoiceschanged !== undefined) {\n            speechSynthesis.onvoiceschanged = getVoice;\n        }\n        var voice_1 = getVoice();\n        speechDom.onclick = function () {\n            if (speechDom.className === \"vditor-speech\") {\n                var utterThis = new SpeechSynthesisUtterance(speechDom.getAttribute(\"data-text\"));\n                utterThis.voice = voice_1;\n                utterThis.onend = function () {\n                    speechDom.className = \"vditor-speech\";\n                    speechSynthesis.cancel();\n                    speechDom.innerHTML = playSVG;\n                };\n                speechSynthesis.speak(utterThis);\n                speechDom.className = \"vditor-speech vditor-speech--current\";\n                speechDom.innerHTML = pauseSVG;\n            }\n            else {\n                if (speechSynthesis.speaking) {\n                    if (speechSynthesis.paused) {\n                        speechSynthesis.resume();\n                        speechDom.innerHTML = pauseSVG;\n                    }\n                    else {\n                        speechSynthesis.pause();\n                        speechDom.innerHTML = playSVG;\n                    }\n                }\n            }\n            (0,selection/* setSelectionFocus */.Hc)(window.vditorSpeechRange);\n        };\n        document.body.addEventListener(\"click\", function () {\n            if (getSelection().toString().trim() === \"\" && speechDom.style.display === \"block\") {\n                speechDom.className = \"vditor-speech\";\n                speechSynthesis.cancel();\n                speechDom.style.display = \"none\";\n            }\n        });\n    }\n    element.addEventListener(\"mouseup\", function (event) {\n        var text = getSelection().toString().trim();\n        speechSynthesis.cancel();\n        if (getSelection().toString().trim() === \"\") {\n            if (speechDom.style.display === \"block\") {\n                speechDom.className = \"vditor-speech\";\n                speechDom.style.display = \"none\";\n            }\n            return;\n        }\n        window.vditorSpeechRange = getSelection().getRangeAt(0).cloneRange();\n        var rect = getSelection().getRangeAt(0).getBoundingClientRect();\n        speechDom.innerHTML = playSVG;\n        speechDom.style.display = \"block\";\n        speechDom.style.top = (rect.top + rect.height + document.querySelector(\"html\").scrollTop - 20) + \"px\";\n        speechDom.style.left = (event.screenX + 2) + \"px\";\n        speechDom.setAttribute(\"data-text\", text);\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/markdown/previewRender.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar mergeOptions = function (options) {\n    var defaultOption = {\n        anchor: 0,\n        cdn: constants/* Constants.CDN */.g.CDN,\n        customEmoji: {},\n        emojiPath: ((options && options.emojiPath) || constants/* Constants.CDN */.g.CDN) + \"/dist/images/emoji\",\n        hljs: constants/* Constants.HLJS_OPTIONS */.g.HLJS_OPTIONS,\n        icon: \"ant\",\n        lang: \"zh_CN\",\n        markdown: constants/* Constants.MARKDOWN_OPTIONS */.g.MARKDOWN_OPTIONS,\n        math: constants/* Constants.MATH_OPTIONS */.g.MATH_OPTIONS,\n        mode: \"light\",\n        speech: {\n            enable: false,\n        },\n        theme: constants/* Constants.THEME_OPTIONS */.g.THEME_OPTIONS,\n    };\n    return (0,merge/* merge */.T)(defaultOption, options);\n};\nvar md2html = function (mdText, options) {\n    var mergedOptions = mergeOptions(options);\n    return (0,addScript/* addScript */.G)(mergedOptions.cdn + \"/dist/js/lute/lute.min.js\", \"vditorLuteScript\").then(function () {\n        var lute = (0,setLute/* setLute */.X)({\n            autoSpace: mergedOptions.markdown.autoSpace,\n            codeBlockPreview: mergedOptions.markdown.codeBlockPreview,\n            emojiSite: mergedOptions.emojiPath,\n            emojis: mergedOptions.customEmoji,\n            fixTermTypo: mergedOptions.markdown.fixTermTypo,\n            footnotes: mergedOptions.markdown.footnotes,\n            headingAnchor: mergedOptions.anchor !== 0,\n            inlineMathDigit: mergedOptions.math.inlineDigit,\n            lazyLoadImage: mergedOptions.lazyLoadImage,\n            linkBase: mergedOptions.markdown.linkBase,\n            linkPrefix: mergedOptions.markdown.linkPrefix,\n            listStyle: mergedOptions.markdown.listStyle,\n            mark: mergedOptions.markdown.mark,\n            mathBlockPreview: mergedOptions.markdown.mathBlockPreview,\n            paragraphBeginningSpace: mergedOptions.markdown.paragraphBeginningSpace,\n            sanitize: mergedOptions.markdown.sanitize,\n            toc: mergedOptions.markdown.toc,\n        });\n        if (options === null || options === void 0 ? void 0 : options.renderers) {\n            lute.SetJSRenderers({\n                renderers: {\n                    Md2HTML: options.renderers,\n                },\n            });\n        }\n        lute.SetHeadingID(true);\n        return lute.Md2HTML(mdText);\n    });\n};\nvar previewRender = function (previewElement, markdown, options) { return __awaiter(void 0, void 0, void 0, function () {\n    var mergedOptions, html;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                mergedOptions = mergeOptions(options);\n                return [4 /*yield*/, md2html(markdown, mergedOptions)];\n            case 1:\n                html = _a.sent();\n                if (mergedOptions.transform) {\n                    html = mergedOptions.transform(html);\n                }\n                previewElement.innerHTML = html;\n                previewElement.classList.add(\"vditor-reset\");\n                if (!mergedOptions.i18n) {\n                    if (![\"en_US\", \"ja_JP\", \"ko_KR\", \"ru_RU\", \"zh_CN\", \"zh_TW\"].includes(mergedOptions.lang)) {\n                        throw new Error(\"options.lang error, see https://ld246.com/article/1549638745630#options\");\n                    }\n                    else {\n                        (0,addScript/* addScriptSync */.J)(mergedOptions.cdn + \"/dist/js/i18n/\" + mergedOptions.lang + \".js\", \"vditorI18nScript\");\n                    }\n                }\n                else {\n                    window.VditorI18n = mergedOptions.i18n;\n                }\n                (0,setContentTheme/* setContentTheme */.Z)(mergedOptions.theme.current, mergedOptions.theme.path);\n                if (mergedOptions.anchor === 1) {\n                    previewElement.classList.add(\"vditor-reset--anchor\");\n                }\n                (0,codeRender/* codeRender */.O)(previewElement);\n                (0,highlightRender/* highlightRender */.s)(mergedOptions.hljs, previewElement, mergedOptions.cdn);\n                (0,mathRender/* mathRender */.H)(previewElement, {\n                    cdn: mergedOptions.cdn,\n                    math: mergedOptions.math,\n                });\n                (0,mermaidRender/* mermaidRender */.i)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,flowchartRender/* flowchartRender */.P)(previewElement, mergedOptions.cdn);\n                (0,graphvizRender/* graphvizRender */.v)(previewElement, mergedOptions.cdn);\n                (0,chartRender/* chartRender */.p)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,mindmapRender/* mindmapRender */.P)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,plantumlRender/* plantumlRender */.B)(previewElement, mergedOptions.cdn);\n                (0,abcRender/* abcRender */.Q)(previewElement, mergedOptions.cdn);\n                (0,mediaRender/* mediaRender */.Y)(previewElement);\n                if (mergedOptions.speech.enable) {\n                    speechRender(previewElement);\n                }\n                if (mergedOptions.anchor !== 0) {\n                    anchorRender(mergedOptions.anchor);\n                }\n                if (mergedOptions.after) {\n                    mergedOptions.after();\n                }\n                if (mergedOptions.lazyLoadImage) {\n                    lazyLoadImageRender(previewElement);\n                }\n                if (mergedOptions.icon) {\n                    (0,addScript/* addScript */.G)(mergedOptions.cdn + \"/dist/js/icons/\" + mergedOptions.icon + \".js\", \"vditorIconScript\");\n                }\n                previewElement.addEventListener(\"click\", function (event) {\n                    var spanElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"SPAN\");\n                    if (spanElement && (0,hasClosest/* hasClosestByClassName */.fb)(spanElement, \"vditor-toc\")) {\n                        var headingElement = previewElement.querySelector(\"#\" + spanElement.getAttribute(\"data-target-id\"));\n                        if (headingElement) {\n                            window.scrollTo(window.scrollX, headingElement.offsetTop);\n                        }\n                        return;\n                    }\n                });\n                return [2 /*return*/];\n        }\n    });\n}); };\n\n// EXTERNAL MODULE: ./src/ts/preview/image.ts\nvar preview_image = __webpack_require__(264);\n// EXTERNAL MODULE: ./src/ts/ui/setCodeTheme.ts\nvar setCodeTheme = __webpack_require__(968);\n;// CONCATENATED MODULE: ./src/method.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Vditor = /** @class */ (function () {\n    function Vditor() {\n    }\n    /**  */\n    Vditor.adapterRender = adapterRender;\n    /**  */\n    Vditor.previewImage = preview_image/* previewImage */.E;\n    /**  element  */\n    Vditor.codeRender = codeRender/* codeRender */.O;\n    /**  graphviz  */\n    Vditor.graphvizRender = graphvizRender/* graphvizRender */.v;\n    /**  element  */\n    Vditor.highlightRender = highlightRender/* highlightRender */.s;\n    /**  */\n    Vditor.mathRender = mathRender/* mathRender */.H;\n    /** // */\n    Vditor.mermaidRender = mermaidRender/* mermaidRender */.i;\n    /** flowchart.js  */\n    Vditor.flowchartRender = flowchartRender/* flowchartRender */.P;\n    /**  */\n    Vditor.chartRender = chartRender/* chartRender */.p;\n    /**  */\n    Vditor.abcRender = abcRender/* abcRender */.Q;\n    /**  */\n    Vditor.mindmapRender = mindmapRender/* mindmapRender */.P;\n    /** plantuml */\n    Vditor.plantumlRender = plantumlRender/* plantumlRender */.B;\n    /**  */\n    Vditor.outlineRender = outlineRender/* outlineRender */.k;\n    /** [](https://github.com/Vanessa219/vditor/issues/7) iframe */\n    Vditor.mediaRender = mediaRender/* mediaRender */.Y;\n    /**  */\n    Vditor.speechRender = speechRender;\n    /**  */\n    Vditor.lazyLoadImageRender = lazyLoadImageRender;\n    /** Markdown  HTML[](https://ld246.com/article/1546828434083?r=Vaness) */\n    Vditor.md2html = md2html;\n    /**  Markdown  */\n    Vditor.preview = previewRender;\n    /**  */\n    Vditor.setCodeTheme = setCodeTheme/* setCodeTheme */.Y;\n    /**  */\n    Vditor.setContentTheme = setContentTheme/* setContentTheme */.Z;\n    return Vditor;\n}());\n/* harmony default export */ const method = (Vditor);\n\n\n/***/ }),\n\n/***/ 260:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"H\": () => (/* binding */ _VDITOR_VERSION),\n/* harmony export */   \"g\": () => (/* binding */ Constants)\n/* harmony export */ });\nvar _VDITOR_VERSION = \"3.8.7\";\n\nvar Constants = /** @class */ (function () {\n    function Constants() {\n    }\n    Constants.ZWSP = \"\\u200b\";\n    Constants.DROP_EDITOR = \"application/editor\";\n    Constants.MOBILE_WIDTH = 520;\n    Constants.CLASS_MENU_DISABLED = \"vditor-menu--disabled\";\n    Constants.EDIT_TOOLBARS = [\"emoji\", \"headings\", \"bold\", \"italic\", \"strike\", \"link\", \"list\",\n        \"ordered-list\", \"outdent\", \"indent\", \"check\", \"line\", \"quote\", \"code\", \"inline-code\", \"insert-after\",\n        \"insert-before\", \"upload\", \"record\", \"table\"];\n    Constants.CODE_THEME = [\"abap\", \"algol\", \"algol_nu\", \"arduino\", \"autumn\", \"borland\", \"bw\",\n        \"colorful\", \"dracula\", \"emacs\", \"friendly\", \"fruity\", \"github\", \"igor\", \"lovelace\", \"manni\", \"monokai\",\n        \"monokailight\", \"murphy\", \"native\", \"paraiso-dark\", \"paraiso-light\", \"pastie\", \"perldoc\", \"pygments\",\n        \"rainbow_dash\", \"rrt\", \"solarized-dark\", \"solarized-dark256\", \"solarized-light\", \"swapoff\", \"tango\", \"trac\",\n        \"vim\", \"vs\", \"xcode\", \"ant-design\"];\n    Constants.CODE_LANGUAGES = [\"mermaid\", \"echarts\", \"mindmap\", \"plantuml\", \"abc\", \"graphviz\", \"flowchart\", \"apache\",\n        \"js\", \"ts\", \"html\",\n        // common\n        \"properties\", \"apache\", \"bash\", \"c\", \"csharp\", \"cpp\", \"css\", \"coffeescript\", \"diff\", \"go\", \"xml\", \"http\",\n        \"json\", \"java\", \"javascript\", \"kotlin\", \"less\", \"lua\", \"makefile\", \"markdown\", \"nginx\", \"objectivec\", \"php\",\n        \"php-template\", \"perl\", \"plaintext\", \"python\", \"python-repl\", \"r\", \"ruby\", \"rust\", \"scss\", \"sql\", \"shell\",\n        \"swift\", \"ini\", \"typescript\", \"vbnet\", \"yaml\",\n        \"ada\", \"clojure\", \"dart\", \"erb\", \"fortran\", \"gradle\", \"haskell\", \"julia\", \"julia-repl\", \"lisp\", \"matlab\",\n        \"pgsql\", \"powershell\", \"sql_more\", \"stata\", \"cmake\", \"mathematica\"];\n    Constants.CDN = \"https://cdn.jsdelivr.net/npm/vditor@\" + \"3.8.7\";\n    Constants.MARKDOWN_OPTIONS = {\n        autoSpace: false,\n        codeBlockPreview: true,\n        fixTermTypo: false,\n        footnotes: true,\n        linkBase: \"\",\n        linkPrefix: \"\",\n        listStyle: false,\n        mark: false,\n        mathBlockPreview: true,\n        paragraphBeginningSpace: false,\n        sanitize: true,\n        toc: false,\n    };\n    Constants.HLJS_OPTIONS = {\n        enable: true,\n        lineNumber: false,\n        style: \"github\",\n    };\n    Constants.MATH_OPTIONS = {\n        engine: \"KaTeX\",\n        inlineDigit: false,\n        macros: {},\n    };\n    Constants.THEME_OPTIONS = {\n        current: \"light\",\n        list: {\n            \"ant-design\": \"Ant Design\",\n            \"dark\": \"Dark\",\n            \"light\": \"Light\",\n            \"wechat\": \"WeChat\",\n        },\n        path: Constants.CDN + \"/dist/css/content-theme\",\n    };\n    return Constants;\n}());\n\n\n\n/***/ }),\n\n/***/ 369:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Q\": () => (/* binding */ abcRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar abcRender = function (element, cdn) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var abcElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.abcRenderAdapter.getElements(element);\n    if (abcElements.length > 0) {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/abcjs/abcjs_basic.min.js\", \"vditorAbcjsScript\").then(function () {\n            abcElements.forEach(function (item) {\n                if (item.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    item.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                if (item.getAttribute(\"data-processed\") === \"true\") {\n                    return;\n                }\n                ABCJS.renderAbc(item, _adapterRender__WEBPACK_IMPORTED_MODULE_1__.abcRenderAdapter.getCode(item).trim());\n                item.style.overflowX = \"auto\";\n                item.setAttribute(\"data-processed\", \"true\");\n            });\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 46:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"mathRenderAdapter\": () => (/* binding */ mathRenderAdapter),\n/* harmony export */   \"mermaidRenderAdapter\": () => (/* binding */ mermaidRenderAdapter),\n/* harmony export */   \"mindmapRenderAdapter\": () => (/* binding */ mindmapRenderAdapter),\n/* harmony export */   \"chartRenderAdapter\": () => (/* binding */ chartRenderAdapter),\n/* harmony export */   \"abcRenderAdapter\": () => (/* binding */ abcRenderAdapter),\n/* harmony export */   \"graphvizRenderAdapter\": () => (/* binding */ graphvizRenderAdapter),\n/* harmony export */   \"flowchartRenderAdapter\": () => (/* binding */ flowchartRenderAdapter),\n/* harmony export */   \"plantumlRenderAdapter\": () => (/* binding */ plantumlRenderAdapter)\n/* harmony export */ });\nvar mathRenderAdapter = {\n    getCode: function (mathElement) { return mathElement.textContent; },\n    getElements: function (element) { return element.querySelectorAll(\".language-math\"); },\n};\nvar mermaidRenderAdapter = {\n    /** code code  el  innerHTML */\n    getCode: function (el) { return el.textContent; },\n    getElements: function (element) { return element.querySelectorAll(\".language-mermaid\"); },\n};\nvar mindmapRenderAdapter = {\n    getCode: function (el) { return el.getAttribute(\"data-code\"); },\n    getElements: function (el) { return el.querySelectorAll(\".language-mindmap\"); },\n};\nvar chartRenderAdapter = {\n    getCode: function (el) { return el.innerText; },\n    getElements: function (el) { return el.querySelectorAll(\".language-echarts\"); },\n};\nvar abcRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-abc\"); },\n};\nvar graphvizRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-graphviz\"); },\n};\nvar flowchartRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-flowchart\"); },\n};\nvar plantumlRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-plantuml\"); },\n};\n\n\n/***/ }),\n\n/***/ 726:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"p\": () => (/* binding */ chartRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar chartRender = function (element, cdn, theme) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var echartsElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.chartRenderAdapter.getElements(element);\n    if (echartsElements.length > 0) {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/echarts/echarts.min.js\", \"vditorEchartsScript\").then(function () {\n            echartsElements.forEach(function (e) {\n                if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                var text = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.chartRenderAdapter.getCode(e).trim();\n                if (!text) {\n                    return;\n                }\n                try {\n                    if (e.getAttribute(\"data-processed\") === \"true\") {\n                        return;\n                    }\n                    var option = JSON.parse(text);\n                    echarts.init(e, theme === \"dark\" ? \"dark\" : undefined).setOption(option);\n                    e.setAttribute(\"data-processed\", \"true\");\n                }\n                catch (error) {\n                    e.className = \"vditor-reset--error\";\n                    e.innerHTML = \"echarts render error: <br>\" + error;\n                }\n            });\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 23:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"O\": () => (/* binding */ codeRender)\n/* harmony export */ });\n/* harmony import */ var _util_code160to32__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(769);\n\nvar codeRender = function (element) {\n    element.querySelectorAll(\"pre > code\").forEach(function (e, index) {\n        if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n            e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n            return;\n        }\n        if (e.classList.contains(\"language-mermaid\") || e.classList.contains(\"language-flowchart\") ||\n            e.classList.contains(\"language-echarts\") || e.classList.contains(\"language-mindmap\") ||\n            e.classList.contains(\"language-plantuml\") ||\n            e.classList.contains(\"language-abc\") || e.classList.contains(\"language-graphviz\") ||\n            e.classList.contains(\"language-math\")) {\n            return;\n        }\n        if (e.style.maxHeight.indexOf(\"px\") > -1) {\n            return;\n        }\n        //  https://github.com/b3log/vditor/issues/67\n        if (element.classList.contains(\"vditor-preview\") && index > 5) {\n            return;\n        }\n        var codeText = e.innerText;\n        if (e.classList.contains(\"highlight-chroma\")) {\n            var codeElement = document.createElement(\"code\");\n            codeElement.innerHTML = e.innerHTML;\n            codeElement.querySelectorAll(\".highlight-ln\").forEach(function (item) {\n                item.remove();\n            });\n            codeText = codeElement.innerText;\n        }\n        var divElement = document.createElement(\"div\");\n        divElement.className = \"vditor-copy\";\n        divElement.innerHTML = \"<span aria-label=\\\"\" + window.VditorI18n.copy + \"\\\"\\nonmouseover=\\\"this.setAttribute('aria-label', '\" + window.VditorI18n.copy + \"')\\\"\\nclass=\\\"vditor-tooltipped vditor-tooltipped__w\\\"\\nonclick=\\\"this.previousElementSibling.select();document.execCommand('copy');\" +\n            (\"this.setAttribute('aria-label', '\" + window.VditorI18n.copied + \"')\\\"><svg><use xlink:href=\\\"#vditor-icon-copy\\\"></use></svg></span>\");\n        var textarea = document.createElement(\"textarea\");\n        textarea.value = (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_0__/* .code160to32 */ .X)(codeText);\n        divElement.insertAdjacentElement(\"afterbegin\", textarea);\n        e.before(divElement);\n        e.style.maxHeight = (window.outerHeight - 40) + \"px\";\n    });\n};\n\n\n/***/ }),\n\n/***/ 383:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"P\": () => (/* binding */ flowchartRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar flowchartRender = function (element, cdn) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var flowchartElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.flowchartRenderAdapter.getElements(element);\n    if (flowchartElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/flowchart.js/flowchart.min.js\", \"vditorFlowchartScript\").then(function () {\n        flowchartElements.forEach(function (item) {\n            if (item.getAttribute(\"data-processed\") === \"true\") {\n                return;\n            }\n            var flowchartObj = flowchart.parse(_adapterRender__WEBPACK_IMPORTED_MODULE_1__.flowchartRenderAdapter.getCode(item));\n            item.innerHTML = \"\";\n            flowchartObj.drawSVG(item);\n            item.setAttribute(\"data-processed\", \"true\");\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 890:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"v\": () => (/* binding */ graphvizRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar graphvizRender = function (element, cdn) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var graphvizElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.graphvizRenderAdapter.getElements(element);\n    if (graphvizElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/graphviz/viz.js\", \"vditorGraphVizScript\").then(function () {\n        graphvizElements.forEach(function (e) {\n            var code = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.graphvizRenderAdapter.getCode(e);\n            if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                return;\n            }\n            if (e.getAttribute(\"data-processed\") === \"true\" || code.trim() === \"\") {\n                return;\n            }\n            try {\n                var blob = new Blob([\"importScripts('\" + document.getElementById(\"vditorGraphVizScript\").src.replace(\"viz.js\", \"full.render.js\") + \"');\"], { type: \"application/javascript\" });\n                var url = window.URL || window.webkitURL;\n                var blobUrl = url.createObjectURL(blob);\n                var worker = new Worker(blobUrl);\n                new Viz({ worker: worker })\n                    .renderSVGElement(code).then(function (result) {\n                    e.innerHTML = result.outerHTML;\n                }).catch(function (error) {\n                    e.innerHTML = \"graphviz render error: <br>\" + error;\n                    e.className = \"vditor-reset--error\";\n                });\n            }\n            catch (e) {\n                console.error(\"graphviz error\", e);\n            }\n            e.setAttribute(\"data-processed\", \"true\");\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 93:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"s\": () => (/* binding */ highlightRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(946);\n\n\n\nvar highlightRender = function (hljsOption, element, cdn) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var style = hljsOption.style;\n    if (!_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CODE_THEME.includes */ .g.CODE_THEME.includes(style)) {\n        style = \"github\";\n    }\n    var vditorHljsStyle = document.getElementById(\"vditorHljsStyle\");\n    var href = cdn + \"/dist/js/highlight.js/styles/\" + style + \".css\";\n    if (vditorHljsStyle && vditorHljsStyle.href !== href) {\n        vditorHljsStyle.remove();\n    }\n    (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_1__/* .addStyle */ .c)(cdn + \"/dist/js/highlight.js/styles/\" + style + \".css\", \"vditorHljsStyle\");\n    if (hljsOption.enable === false) {\n        return;\n    }\n    var codes = element.querySelectorAll(\"pre > code\");\n    if (codes.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/highlight.js/highlight.pack.js\", \"vditorHljsScript\").then(function () {\n        element.querySelectorAll(\"pre > code\").forEach(function (block) {\n            // ir & wysiwyg \n            if (block.parentElement.classList.contains(\"vditor-ir__marker--pre\") ||\n                block.parentElement.classList.contains(\"vditor-wysiwyg__pre\")) {\n                return;\n            }\n            if (block.classList.contains(\"language-mermaid\") || block.classList.contains(\"language-flowchart\") ||\n                block.classList.contains(\"language-echarts\") || block.classList.contains(\"language-mindmap\") ||\n                block.classList.contains(\"language-plantuml\") ||\n                block.classList.contains(\"language-abc\") || block.classList.contains(\"language-graphviz\") ||\n                block.classList.contains(\"language-math\")) {\n                return;\n            }\n            hljs.highlightElement(block);\n            if (!hljsOption.lineNumber) {\n                return;\n            }\n            block.classList.add(\"vditor-linenumber\");\n            var linenNumberTemp = block.querySelector(\".vditor-linenumber__temp\");\n            if (!linenNumberTemp) {\n                linenNumberTemp = document.createElement(\"div\");\n                linenNumberTemp.className = \"vditor-linenumber__temp\";\n                block.insertAdjacentElement(\"beforeend\", linenNumberTemp);\n            }\n            var whiteSpace = getComputedStyle(block).whiteSpace;\n            var isSoftWrap = false;\n            if (whiteSpace === \"pre-wrap\" || whiteSpace === \"pre-line\") {\n                isSoftWrap = true;\n            }\n            var lineNumberHTML = \"\";\n            var lineList = block.textContent.split(/\\r\\n|\\r|\\n/g);\n            lineList.pop();\n            lineList.map(function (line) {\n                var lineHeight = \"\";\n                if (isSoftWrap) {\n                    linenNumberTemp.textContent = line || \"\\n\";\n                    lineHeight = \" style=\\\"height:\" + linenNumberTemp.getBoundingClientRect().height + \"px\\\"\";\n                }\n                lineNumberHTML += \"<span\" + lineHeight + \"></span>\";\n            });\n            linenNumberTemp.style.display = \"none\";\n            lineNumberHTML = \"<span class=\\\"vditor-linenumber__rows\\\">\" + lineNumberHTML + \"</span>\";\n            block.insertAdjacentHTML(\"beforeend\", lineNumberHTML);\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 323:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"H\": () => (/* binding */ mathRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(228);\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(946);\n/* harmony import */ var _util_code160to32__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(769);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\n\n\nvar mathRender = function (element, options) {\n    var mathElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mathRenderAdapter.getElements(element);\n    if (mathElements.length === 0) {\n        return;\n    }\n    var defaultOptions = {\n        cdn: _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN,\n        math: {\n            engine: \"KaTeX\",\n            inlineDigit: false,\n            macros: {},\n        },\n    };\n    if (options && options.math) {\n        options.math =\n            Object.assign({}, defaultOptions.math, options.math);\n    }\n    options = Object.assign({}, defaultOptions, options);\n    if (options.math.engine === \"KaTeX\") {\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_2__/* .addStyle */ .c)(options.cdn + \"/dist/js/katex/katex.min.css\", \"vditorKatexStyle\");\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_3__/* .addScript */ .G)(options.cdn + \"/dist/js/katex/katex.min.js\", \"vditorKatexScript\").then(function () {\n            mathElements.forEach(function (mathElement) {\n                if (mathElement.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    mathElement.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                if (mathElement.getAttribute(\"data-math\")) {\n                    return;\n                }\n                var math = (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_4__/* .code160to32 */ .X)(_adapterRender__WEBPACK_IMPORTED_MODULE_1__.mathRenderAdapter.getCode(mathElement));\n                mathElement.setAttribute(\"data-math\", math);\n                try {\n                    mathElement.innerHTML = katex.renderToString(math, {\n                        displayMode: mathElement.tagName === \"DIV\",\n                        output: \"html\",\n                    });\n                }\n                catch (e) {\n                    mathElement.innerHTML = e.message;\n                    mathElement.className = \"language-math vditor-reset--error\";\n                }\n                mathElement.addEventListener(\"copy\", function (event) {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    var vditorMathElement = event.currentTarget.closest(\".language-math\");\n                    event.clipboardData.setData(\"text/html\", vditorMathElement.innerHTML);\n                    event.clipboardData.setData(\"text/plain\", vditorMathElement.getAttribute(\"data-math\"));\n                });\n            });\n        });\n    }\n    else if (options.math.engine === \"MathJax\") {\n        var chainAsync_1 = function (fns) {\n            if (fns.length === 0) {\n                return;\n            }\n            var curr = 0;\n            var last = fns[fns.length - 1];\n            var next = function () {\n                var fn = fns[curr++];\n                fn === last ? fn() : fn(next);\n            };\n            next();\n        };\n        if (!window.MathJax) {\n            window.MathJax = {\n                loader: {\n                    paths: { mathjax: options.cdn + \"/dist/js/mathjax\" },\n                },\n                startup: {\n                    typeset: false,\n                },\n                tex: {\n                    macros: options.math.macros,\n                },\n            };\n        }\n        // \n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_3__/* .addScriptSync */ .J)(options.cdn + \"/dist/js/mathjax/tex-svg-full.js\", \"protyleMathJaxScript\");\n        var renderMath_1 = function (mathElement, next) {\n            var math = (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_4__/* .code160to32 */ .X)(mathElement.textContent).trim();\n            var mathOptions = window.MathJax.getMetricsFor(mathElement);\n            mathOptions.display = mathElement.tagName === \"DIV\";\n            window.MathJax.tex2svgPromise(math, mathOptions).then(function (node) {\n                mathElement.innerHTML = \"\";\n                mathElement.setAttribute(\"data-math\", math);\n                mathElement.append(node);\n                window.MathJax.startup.document.clear();\n                window.MathJax.startup.document.updateDocument();\n                var errorTextElement = node.querySelector('[data-mml-node=\"merror\"]');\n                if (errorTextElement && errorTextElement.textContent.trim() !== \"\") {\n                    mathElement.innerHTML = errorTextElement.textContent.trim();\n                    mathElement.className = \"vditor-reset--error\";\n                }\n                if (next) {\n                    next();\n                }\n            });\n        };\n        window.MathJax.startup.promise.then(function () {\n            var chains = [];\n            var _loop_1 = function (i) {\n                var mathElement = mathElements[i];\n                if (!mathElement.parentElement.classList.contains(\"vditor-wysiwyg__pre\") &&\n                    !mathElement.parentElement.classList.contains(\"vditor-ir__marker--pre\") &&\n                    !mathElement.getAttribute(\"data-math\") && (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_4__/* .code160to32 */ .X)(mathElement.textContent).trim()) {\n                    chains.push(function (next) {\n                        if (i === mathElements.length - 1) {\n                            renderMath_1(mathElement);\n                        }\n                        else {\n                            renderMath_1(mathElement, next);\n                        }\n                    });\n                }\n            };\n            for (var i = 0; i < mathElements.length; i++) {\n                _loop_1(i);\n            }\n            chainAsync_1(chains);\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 207:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Y\": () => (/* binding */ mediaRender)\n/* harmony export */ });\nvar videoRender = function (element, url) {\n    element.insertAdjacentHTML(\"afterend\", \"<video controls=\\\"controls\\\" src=\\\"\" + url + \"\\\"></video>\");\n    element.remove();\n};\nvar audioRender = function (element, url) {\n    element.insertAdjacentHTML(\"afterend\", \"<audio controls=\\\"controls\\\" src=\\\"\" + url + \"\\\"></audio>\");\n    element.remove();\n};\nvar iframeRender = function (element, url) {\n    var youtubeMatch = url.match(/\\/\\/(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))([\\w|-]{11})(?:(?:[\\?&]t=)(\\S+))?/);\n    var youkuMatch = url.match(/\\/\\/v\\.youku\\.com\\/v_show\\/id_(\\w+)=*\\.html/);\n    var qqMatch = url.match(/\\/\\/v\\.qq\\.com\\/x\\/cover\\/.*\\/([^\\/]+)\\.html\\??.*/);\n    var coubMatch = url.match(/(?:www\\.|\\/\\/)coub\\.com\\/view\\/(\\w+)/);\n    var facebookMatch = url.match(/(?:www\\.|\\/\\/)facebook\\.com\\/([^\\/]+)\\/videos\\/([0-9]+)/);\n    var dailymotionMatch = url.match(/.+dailymotion.com\\/(video|hub)\\/(\\w+)\\?/);\n    var bilibiliMatch = url.match(/(?:www\\.|\\/\\/)bilibili\\.com\\/video\\/(\\w+)/);\n    var tedMatch = url.match(/(?:www\\.|\\/\\/)ted\\.com\\/talks\\/(\\w+)/);\n    if (youtubeMatch && youtubeMatch[1].length === 11) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"//www.youtube.com/embed/\" + (youtubeMatch[1] +\n            (youtubeMatch[2] ? \"?start=\" + youtubeMatch[2] : \"\")) + \"\\\"></iframe>\");\n        element.remove();\n    }\n    else if (youkuMatch && youkuMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"//player.youku.com/embed/\" + youkuMatch[1] + \"\\\"></iframe>\");\n        element.remove();\n    }\n    else if (qqMatch && qqMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"https://v.qq.com/txp/iframe/player.html?vid=\" + qqMatch[1] + \"\\\"></iframe>\");\n        element.remove();\n    }\n    else if (coubMatch && coubMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"//coub.com/embed/\" + coubMatch[1] + \"?muted=false&autostart=false&originalSize=true&startWithHD=true\\\"></iframe>\");\n        element.remove();\n    }\n    else if (facebookMatch && facebookMatch[0]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"https://www.facebook.com/plugins/video.php?href=\" + encodeURIComponent(facebookMatch[0]) + \"\\\"></iframe>\");\n        element.remove();\n    }\n    else if (dailymotionMatch && dailymotionMatch[2]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"https://www.dailymotion.com/embed/video/\" + dailymotionMatch[2] + \"\\\"></iframe>\");\n        element.remove();\n    }\n    else if (bilibiliMatch && bilibiliMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"//player.bilibili.com/player.html?bvid=\" + bilibiliMatch[1] + \"\\\"></iframe>\");\n        element.remove();\n    }\n    else if (tedMatch && tedMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"//embed.ted.com/talks/\" + tedMatch[1] + \"\\\"></iframe>\");\n        element.remove();\n    }\n};\nvar mediaRender = function (element) {\n    if (!element) {\n        return;\n    }\n    element.querySelectorAll(\"a\").forEach(function (aElement) {\n        var url = aElement.getAttribute(\"href\");\n        if (!url) {\n            return;\n        }\n        if (url.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)) {\n            videoRender(aElement, url);\n        }\n        else if (url.match(/^.+.(mp3|wav|flac)$/)) {\n            audioRender(aElement, url);\n        }\n        else {\n            iframeRender(aElement, url);\n        }\n    });\n};\n\n\n/***/ }),\n\n/***/ 765:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"i\": () => (/* binding */ mermaidRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar mermaidRender = function (element, cdn, theme) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var mermaidElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mermaidRenderAdapter.getElements(element);\n    if (mermaidElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/mermaid/mermaid.min.js\", \"vditorMermaidScript\").then(function () {\n        var config = {\n            altFontFamily: \"sans-serif\",\n            flowchart: {\n                htmlLabels: true,\n                useMaxWidth: true,\n            },\n            fontFamily: \"sans-serif\",\n            gantt: {\n                leftPadding: 75,\n                rightPadding: 20,\n            },\n            securityLevel: \"loose\",\n            sequence: {\n                boxMargin: 8,\n                diagramMarginX: 8,\n                diagramMarginY: 8,\n                useMaxWidth: true,\n            },\n            startOnLoad: false,\n        };\n        if (theme === \"dark\") {\n            config.theme = \"dark\";\n            config.themeVariables = {\n                activationBkgColor: \"hsl(180, 1.5873015873%, 28.3529411765%)\",\n                activationBorderColor: \"#81B1DB\",\n                activeTaskBkgColor: \"#81B1DB\",\n                activeTaskBorderColor: \"#ffffff\",\n                actorBkg: \"#1f2020\",\n                actorBorder: \"#81B1DB\",\n                actorLineColor: \"lightgrey\",\n                actorTextColor: \"lightgrey\",\n                altBackground: \"hsl(0, 0%, 40%)\",\n                altSectionBkgColor: \"#333\",\n                arrowheadColor: \"lightgrey\",\n                background: \"#333\",\n                border1: \"#81B1DB\",\n                border2: \"rgba(255, 255, 255, 0.25)\",\n                classText: \"#e0dfdf\",\n                clusterBkg: \"hsl(180, 1.5873015873%, 28.3529411765%)\",\n                clusterBorder: \"rgba(255, 255, 255, 0.25)\",\n                critBkgColor: \"#E83737\",\n                critBorderColor: \"#E83737\",\n                darkTextColor: \"hsl(28.5714285714, 17.3553719008%, 86.2745098039%)\",\n                defaultLinkColor: \"lightgrey\",\n                doneTaskBkgColor: \"lightgrey\",\n                doneTaskBorderColor: \"grey\",\n                edgeLabelBackground: \"hsl(0, 0%, 34.4117647059%)\",\n                errorBkgColor: \"#a44141\",\n                errorTextColor: \"#ddd\",\n                fillType0: \"#1f2020\",\n                fillType1: \"hsl(180, 1.5873015873%, 28.3529411765%)\",\n                fillType2: \"hsl(244, 1.5873015873%, 12.3529411765%)\",\n                fillType3: \"hsl(244, 1.5873015873%, 28.3529411765%)\",\n                fillType4: \"hsl(116, 1.5873015873%, 12.3529411765%)\",\n                fillType5: \"hsl(116, 1.5873015873%, 28.3529411765%)\",\n                fillType6: \"hsl(308, 1.5873015873%, 12.3529411765%)\",\n                fillType7: \"hsl(308, 1.5873015873%, 28.3529411765%)\",\n                fontFamily: \"\\\"trebuchet ms\\\", verdana, arial\",\n                fontSize: \"16px\",\n                gridColor: \"lightgrey\",\n                labelBackground: \"#181818\",\n                labelBoxBkgColor: \"#1f2020\",\n                labelBoxBorderColor: \"#81B1DB\",\n                labelColor: \"#ccc\",\n                labelTextColor: \"lightgrey\",\n                lineColor: \"lightgrey\",\n                loopTextColor: \"lightgrey\",\n                mainBkg: \"#1f2020\",\n                mainContrastColor: \"lightgrey\",\n                nodeBkg: \"#1f2020\",\n                nodeBorder: \"#81B1DB\",\n                noteBkgColor: \"#fff5ad\",\n                noteBorderColor: \"rgba(255, 255, 255, 0.25)\",\n                noteTextColor: \"#1f2020\",\n                primaryBorderColor: \"hsl(180, 0%, 2.3529411765%)\",\n                primaryColor: \"#1f2020\",\n                primaryTextColor: \"#e0dfdf\",\n                secondBkg: \"hsl(180, 1.5873015873%, 28.3529411765%)\",\n                secondaryBorderColor: \"hsl(180, 0%, 18.3529411765%)\",\n                secondaryColor: \"hsl(180, 1.5873015873%, 28.3529411765%)\",\n                secondaryTextColor: \"rgb(183.8476190475, 181.5523809523, 181.5523809523)\",\n                sectionBkgColor: \"hsl(52.9411764706, 28.813559322%, 58.431372549%)\",\n                sectionBkgColor2: \"#EAE8D9\",\n                sequenceNumberColor: \"black\",\n                signalColor: \"lightgrey\",\n                signalTextColor: \"lightgrey\",\n                taskBkgColor: \"hsl(180, 1.5873015873%, 35.3529411765%)\",\n                taskBorderColor: \"#ffffff\",\n                taskTextClickableColor: \"#003163\",\n                taskTextColor: \"hsl(28.5714285714, 17.3553719008%, 86.2745098039%)\",\n                taskTextDarkColor: \"hsl(28.5714285714, 17.3553719008%, 86.2745098039%)\",\n                taskTextLightColor: \"lightgrey\",\n                taskTextOutsideColor: \"lightgrey\",\n                tertiaryBorderColor: \"hsl(20, 0%, 2.3529411765%)\",\n                tertiaryColor: \"hsl(20, 1.5873015873%, 12.3529411765%)\",\n                tertiaryTextColor: \"rgb(222.9999999999, 223.6666666666, 223.9999999999)\",\n                textColor: \"#ccc\",\n                titleColor: \"#F9FFFE\",\n                todayLineColor: \"#DB5757\",\n            };\n        }\n        mermaid.initialize(config);\n        mermaidElements.forEach(function (item) {\n            var code = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mermaidRenderAdapter.getCode(item);\n            if (item.getAttribute(\"data-processed\") === \"true\" || code.trim() === \"\") {\n                return;\n            }\n            mermaid.init(undefined, item);\n            item.setAttribute(\"data-processed\", \"true\");\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 894:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"P\": () => (/* binding */ mindmapRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar mindmapRender = function (element, cdn, theme) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var mindmapElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mindmapRenderAdapter.getElements(element);\n    if (mindmapElements.length > 0) {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/echarts/echarts.min.js\", \"vditorEchartsScript\").then(function () {\n            mindmapElements.forEach(function (e) {\n                if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                var text = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mindmapRenderAdapter.getCode(e);\n                if (!text) {\n                    return;\n                }\n                try {\n                    if (e.getAttribute(\"data-processed\") === \"true\") {\n                        return;\n                    }\n                    echarts.init(e, theme === \"dark\" ? \"dark\" : undefined).setOption({\n                        series: [\n                            {\n                                data: [JSON.parse(decodeURIComponent(text))],\n                                initialTreeDepth: -1,\n                                itemStyle: {\n                                    borderWidth: 0,\n                                    color: \"#4285f4\",\n                                },\n                                label: {\n                                    backgroundColor: \"#f6f8fa\",\n                                    borderColor: \"#d1d5da\",\n                                    borderRadius: 5,\n                                    borderWidth: 0.5,\n                                    color: \"#586069\",\n                                    lineHeight: 20,\n                                    offset: [-5, 0],\n                                    padding: [0, 5],\n                                    position: \"insideRight\",\n                                },\n                                lineStyle: {\n                                    color: \"#d1d5da\",\n                                    width: 1,\n                                },\n                                roam: true,\n                                symbol: function (value, params) {\n                                    var _a;\n                                    if ((_a = params === null || params === void 0 ? void 0 : params.data) === null || _a === void 0 ? void 0 : _a.children) {\n                                        return \"circle\";\n                                    }\n                                    else {\n                                        return \"path://\";\n                                    }\n                                },\n                                type: \"tree\",\n                            },\n                        ],\n                        tooltip: {\n                            trigger: \"item\",\n                            triggerOn: \"mousemove\",\n                        },\n                    });\n                    e.setAttribute(\"data-processed\", \"true\");\n                }\n                catch (error) {\n                    e.className = \"vditor-reset--error\";\n                    e.innerHTML = \"mindmap render error: <br>\" + error;\n                }\n            });\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 198:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"k\": () => (/* binding */ outlineRender)\n/* harmony export */ });\n/* harmony import */ var _util_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(615);\n/* harmony import */ var _mathRender__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(323);\n\n\nvar outlineRender = function (contentElement, targetElement, vditor) {\n    var tocHTML = \"\";\n    var ids = [];\n    Array.from(contentElement.children).forEach(function (item, index) {\n        if ((0,_util_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_1__/* .hasClosestByHeadings */ .W)(item)) {\n            if (vditor) {\n                var lastIndex = item.id.lastIndexOf(\"_\");\n                item.id = item.id.substring(0, lastIndex === -1 ? undefined : lastIndex) + \"_\" + index;\n            }\n            ids.push(item.id);\n            tocHTML += item.outerHTML.replace(\"<wbr>\", \"\");\n        }\n    });\n    if (tocHTML === \"\") {\n        targetElement.innerHTML = \"\";\n        return \"\";\n    }\n    var tempElement = document.createElement(\"div\");\n    if (vditor) {\n        vditor.lute.SetToC(true);\n        if (vditor.currentMode === \"wysiwyg\" && !vditor.preview.element.contains(contentElement)) {\n            tempElement.innerHTML = vditor.lute.SpinVditorDOM(\"<p>[ToC]</p>\" + tocHTML);\n        }\n        else if (vditor.currentMode === \"ir\" && !vditor.preview.element.contains(contentElement)) {\n            tempElement.innerHTML = vditor.lute.SpinVditorIRDOM(\"<p>[ToC]</p>\" + tocHTML);\n        }\n        else {\n            tempElement.innerHTML = vditor.lute.HTML2VditorDOM(\"<p>[ToC]</p>\" + tocHTML);\n        }\n        vditor.lute.SetToC(vditor.options.preview.markdown.toc);\n    }\n    else {\n        targetElement.classList.add(\"vditor-outline\");\n        var lute = Lute.New();\n        lute.SetToC(true);\n        tempElement.innerHTML = lute.HTML2VditorDOM(\"<p>[ToC]</p>\" + tocHTML);\n    }\n    var headingsElement = tempElement.firstElementChild.querySelectorAll(\"li > span[data-target-id]\");\n    headingsElement.forEach(function (item, index) {\n        if (item.nextElementSibling && item.nextElementSibling.tagName === \"UL\") {\n            item.innerHTML = \"<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg><span>\" + item.innerHTML + \"</span>\";\n        }\n        else {\n            item.innerHTML = \"<svg></svg><span>\" + item.innerHTML + \"</span>\";\n        }\n        item.setAttribute(\"data-target-id\", ids[index]);\n    });\n    tocHTML = tempElement.firstElementChild.innerHTML;\n    if (headingsElement.length === 0) {\n        targetElement.innerHTML = \"\";\n        return tocHTML;\n    }\n    targetElement.innerHTML = tocHTML;\n    if (vditor) {\n        (0,_mathRender__WEBPACK_IMPORTED_MODULE_0__/* .mathRender */ .H)(targetElement, {\n            cdn: vditor.options.cdn,\n            math: vditor.options.preview.math,\n        });\n    }\n    targetElement.firstElementChild.addEventListener(\"click\", function (event) {\n        var target = event.target;\n        while (target && !target.isEqualNode(targetElement)) {\n            if (target.classList.contains(\"vditor-outline__action\")) {\n                if (target.classList.contains(\"vditor-outline__action--close\")) {\n                    target.classList.remove(\"vditor-outline__action--close\");\n                    target.parentElement.nextElementSibling.setAttribute(\"style\", \"display:block\");\n                }\n                else {\n                    target.classList.add(\"vditor-outline__action--close\");\n                    target.parentElement.nextElementSibling.setAttribute(\"style\", \"display:none\");\n                }\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n            }\n            else if (target.getAttribute(\"data-target-id\")) {\n                event.preventDefault();\n                event.stopPropagation();\n                var idElement = document.getElementById(target.getAttribute(\"data-target-id\"));\n                if (!idElement) {\n                    return;\n                }\n                if (vditor) {\n                    if (vditor.options.height === \"auto\") {\n                        var windowScrollY = idElement.offsetTop + vditor.element.offsetTop;\n                        if (!vditor.options.toolbarConfig.pin) {\n                            windowScrollY += vditor.toolbar.element.offsetHeight;\n                        }\n                        window.scrollTo(window.scrollX, windowScrollY);\n                    }\n                    else {\n                        if (vditor.element.offsetTop < window.scrollY) {\n                            window.scrollTo(window.scrollX, vditor.element.offsetTop);\n                        }\n                        if (vditor.preview.element.contains(contentElement)) {\n                            contentElement.parentElement.scrollTop = idElement.offsetTop;\n                        }\n                        else {\n                            contentElement.scrollTop = idElement.offsetTop;\n                        }\n                    }\n                }\n                else {\n                    window.scrollTo(window.scrollX, idElement.offsetTop);\n                }\n                break;\n            }\n            target = target.parentElement;\n        }\n    });\n    return tocHTML;\n};\n\n\n/***/ }),\n\n/***/ 583:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"B\": () => (/* binding */ plantumlRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar plantumlRender = function (element, cdn) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var plantumlElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.plantumlRenderAdapter.getElements(element);\n    if (plantumlElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/plantuml/plantuml-encoder.min.js\", \"vditorPlantumlScript\").then(function () {\n        plantumlElements.forEach(function (e) {\n            if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                return;\n            }\n            var text = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.plantumlRenderAdapter.getCode(e).trim();\n            if (!text) {\n                return;\n            }\n            try {\n                e.innerHTML = \"<img src=\\\"http://www.plantuml.com/plantuml/svg/~1\" + plantumlEncoder.encode(text) + \"\\\">\";\n            }\n            catch (error) {\n                e.className = \"vditor-reset--error\";\n                e.innerHTML = \"plantuml render error: <br>\" + error;\n            }\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 792:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"X\": () => (/* binding */ setLute)\n/* harmony export */ });\nvar setLute = function (options) {\n    var lute = Lute.New();\n    lute.PutEmojis(options.emojis);\n    lute.SetEmojiSite(options.emojiSite);\n    lute.SetHeadingAnchor(options.headingAnchor);\n    lute.SetInlineMathAllowDigitAfterOpenMarker(options.inlineMathDigit);\n    lute.SetAutoSpace(options.autoSpace);\n    lute.SetToC(options.toc);\n    lute.SetFootnotes(options.footnotes);\n    lute.SetFixTermTypo(options.fixTermTypo);\n    lute.SetVditorCodeBlockPreview(options.codeBlockPreview);\n    lute.SetVditorMathBlockPreview(options.mathBlockPreview);\n    lute.SetSanitize(options.sanitize);\n    lute.SetChineseParagraphBeginningSpace(options.paragraphBeginningSpace);\n    lute.SetRenderListStyle(options.listStyle);\n    lute.SetLinkBase(options.linkBase);\n    lute.SetLinkPrefix(options.linkPrefix);\n    lute.SetMark(options.mark);\n    if (options.lazyLoadImage) {\n        lute.SetImageLazyLoading(options.lazyLoadImage);\n    }\n    return lute;\n};\n\n\n/***/ }),\n\n/***/ 264:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"E\": () => (/* binding */ previewImage)\n/* harmony export */ });\nvar previewImage = function (oldImgElement, lang, theme) {\n    if (lang === void 0) { lang = \"zh_CN\"; }\n    if (theme === void 0) { theme = \"classic\"; }\n    var oldImgRect = oldImgElement.getBoundingClientRect();\n    var height = 36;\n    document.body.insertAdjacentHTML(\"beforeend\", \"<div class=\\\"vditor vditor-img\" + (theme === \"dark\" ? \" vditor--dark\" : \"\") + \"\\\">\\n    <div class=\\\"vditor-img__bar\\\">\\n      <span class=\\\"vditor-img__btn\\\" data-deg=\\\"0\\\">\\n        <svg><use xlink:href=\\\"#vditor-icon-redo\\\"></use></svg>\\n        \" + window.VditorI18n.spin + \"\\n      </span>\\n      <span class=\\\"vditor-img__btn\\\"  onclick=\\\"this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''\\\">\\n        X &nbsp;\" + window.VditorI18n.close + \"\\n      </span>\\n    </div>\\n    <div class=\\\"vditor-img__img\\\" onclick=\\\"this.parentElement.outerHTML = '';document.body.style.overflow = ''\\\">\\n      <img style=\\\"width: \" + oldImgElement.width + \"px;height:\" + oldImgElement.height + \"px;transform: translate3d(\" + oldImgRect.left + \"px, \" + (oldImgRect.top - height) + \"px, 0)\\\" src=\\\"\" + oldImgElement.getAttribute(\"src\") + \"\\\">\\n    </div>\\n</div>\");\n    document.body.style.overflow = \"hidden\";\n    // \n    var imgElement = document.querySelector(\".vditor-img img\");\n    var translate3d = \"translate3d(\" + Math.max(0, window.innerWidth - oldImgElement.naturalWidth) / 2 + \"px, \" + Math.max(0, window.innerHeight - height - oldImgElement.naturalHeight) / 2 + \"px, 0)\";\n    setTimeout(function () {\n        imgElement.setAttribute(\"style\", \"transition: transform .3s ease-in-out;transform: \" + translate3d);\n        setTimeout(function () {\n            imgElement.parentElement.scrollTo((imgElement.parentElement.scrollWidth - imgElement.parentElement.clientWidth) / 2, (imgElement.parentElement.scrollHeight - imgElement.parentElement.clientHeight) / 2);\n        }, 400);\n    });\n    // \n    var btnElement = document.querySelector(\".vditor-img__btn\");\n    btnElement.addEventListener(\"click\", function () {\n        var deg = parseInt(btnElement.getAttribute(\"data-deg\"), 10) + 90;\n        if ((deg / 90) % 2 === 1 && oldImgElement.naturalWidth > imgElement.parentElement.clientHeight) {\n            imgElement.style.transform = \"translate3d(\" + Math.max(0, window.innerWidth - oldImgElement.naturalWidth) / 2 + \"px, \" + (oldImgElement.naturalWidth / 2 - oldImgElement.naturalHeight / 2) + \"px, 0) rotateZ(\" + deg + \"deg)\";\n        }\n        else {\n            imgElement.style.transform = translate3d + \" rotateZ(\" + deg + \"deg)\";\n        }\n        btnElement.setAttribute(\"data-deg\", deg.toString());\n        setTimeout(function () {\n            imgElement.parentElement.scrollTo((imgElement.parentElement.scrollWidth - imgElement.parentElement.clientWidth) / 2, (imgElement.parentElement.scrollHeight - imgElement.parentElement.clientHeight) / 2);\n        }, 400);\n    });\n};\n\n\n/***/ }),\n\n/***/ 968:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Y\": () => (/* binding */ setCodeTheme)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(946);\n\n\nvar setCodeTheme = function (codeTheme, cdn) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    if (!_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CODE_THEME.includes */ .g.CODE_THEME.includes(codeTheme)) {\n        codeTheme = \"github\";\n    }\n    var vditorHljsStyle = document.getElementById(\"vditorHljsStyle\");\n    var href = cdn + \"/dist/js/highlight.js/styles/\" + codeTheme + \".css\";\n    if (!vditorHljsStyle) {\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_1__/* .addStyle */ .c)(href, \"vditorHljsStyle\");\n    }\n    else if (vditorHljsStyle.href !== href) {\n        vditorHljsStyle.remove();\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_1__/* .addStyle */ .c)(href, \"vditorHljsStyle\");\n    }\n};\n\n\n/***/ }),\n\n/***/ 958:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Z\": () => (/* binding */ setContentTheme)\n/* harmony export */ });\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(946);\n\nvar setContentTheme = function (contentTheme, path) {\n    if (!contentTheme || !path) {\n        return;\n    }\n    var vditorContentTheme = document.getElementById(\"vditorContentTheme\");\n    var cssPath = path + \"/\" + contentTheme + \".css\";\n    if (!vditorContentTheme) {\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_0__/* .addStyle */ .c)(cssPath, \"vditorContentTheme\");\n    }\n    else if (vditorContentTheme.href !== cssPath) {\n        vditorContentTheme.remove();\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_0__/* .addStyle */ .c)(cssPath, \"vditorContentTheme\");\n    }\n};\n\n\n/***/ }),\n\n/***/ 228:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"J\": () => (/* binding */ addScriptSync),\n/* harmony export */   \"G\": () => (/* binding */ addScript)\n/* harmony export */ });\nvar addScriptSync = function (path, id) {\n    if (document.getElementById(id)) {\n        return false;\n    }\n    var xhrObj = new XMLHttpRequest();\n    xhrObj.open(\"GET\", path, false);\n    xhrObj.setRequestHeader(\"Accept\", \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01\");\n    xhrObj.send(\"\");\n    var scriptElement = document.createElement(\"script\");\n    scriptElement.type = \"text/javascript\";\n    scriptElement.text = xhrObj.responseText;\n    scriptElement.id = id;\n    document.head.appendChild(scriptElement);\n};\nvar addScript = function (path, id) {\n    return new Promise(function (resolve, reject) {\n        if (document.getElementById(id)) {\n            // \n            resolve();\n            return false;\n        }\n        var scriptElement = document.createElement(\"script\");\n        scriptElement.src = path;\n        scriptElement.async = true;\n        //  Chrome  js\n        document.head.appendChild(scriptElement);\n        scriptElement.onload = function () {\n            if (document.getElementById(id)) {\n                //  DOM  script \n                scriptElement.remove();\n                resolve();\n                return false;\n            }\n            scriptElement.id = id;\n            resolve();\n        };\n    });\n};\n\n\n/***/ }),\n\n/***/ 946:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"c\": () => (/* binding */ addStyle)\n/* harmony export */ });\nvar addStyle = function (url, id) {\n    if (!document.getElementById(id)) {\n        var styleElement = document.createElement(\"link\");\n        styleElement.id = id;\n        styleElement.rel = \"stylesheet\";\n        styleElement.type = \"text/css\";\n        styleElement.href = url;\n        document.getElementsByTagName(\"head\")[0].appendChild(styleElement);\n    }\n};\n\n\n/***/ }),\n\n/***/ 769:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"X\": () => (/* binding */ code160to32)\n/* harmony export */ });\nvar code160to32 = function (text) {\n    // \n    return text.replace(/\\u00a0/g, \" \");\n};\n\n\n/***/ }),\n\n/***/ 931:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"G6\": () => (/* binding */ isSafari),\n/* harmony export */   \"vU\": () => (/* binding */ isFirefox),\n/* harmony export */   \"pK\": () => (/* binding */ accessLocalStorage),\n/* harmony export */   \"Le\": () => (/* binding */ getEventName),\n/* harmony export */   \"yl\": () => (/* binding */ isCtrl),\n/* harmony export */   \"ns\": () => (/* binding */ updateHotkeyTip),\n/* harmony export */   \"i7\": () => (/* binding */ isChrome)\n/* harmony export */ });\nvar isSafari = function () {\n    return navigator.userAgent.indexOf(\"Safari\") > -1 && navigator.userAgent.indexOf(\"Chrome\") === -1;\n};\nvar isFirefox = function () {\n    return navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1;\n};\nvar accessLocalStorage = function () {\n    try {\n        return typeof localStorage !== \"undefined\";\n    }\n    catch (e) {\n        return false;\n    }\n};\n//  iPhone /\nvar getEventName = function () {\n    if (navigator.userAgent.indexOf(\"iPhone\") > -1) {\n        return \"touchstart\";\n    }\n    else {\n        return \"click\";\n    }\n};\n//  mac  ctrl  meta\nvar isCtrl = function (event) {\n    if (navigator.platform.toUpperCase().indexOf(\"MAC\") >= 0) {\n        // mac\n        if (event.metaKey && !event.ctrlKey) {\n            return true;\n        }\n        return false;\n    }\n    else {\n        if (!event.metaKey && event.ctrlKey) {\n            return true;\n        }\n        return false;\n    }\n};\n// MacWindows \nvar updateHotkeyTip = function (hotkey) {\n    if (/Mac/.test(navigator.platform) || navigator.platform === \"iPhone\") {\n        if (hotkey.indexOf(\"\") > -1 && isFirefox()) {\n            // Mac Firefox  shift key  windows \n            hotkey = hotkey.replace(\";\", \":\").replace(\"=\", \"+\").replace(\"-\", \"_\");\n        }\n    }\n    else {\n        if (hotkey.startsWith(\"\")) {\n            hotkey = hotkey.replace(\"\", \"+\");\n        }\n        else if (hotkey.startsWith(\"\") && hotkey.substr(1, 1) !== \"\") {\n            hotkey = hotkey.replace(\"\", \"+\");\n        }\n        else {\n            hotkey = hotkey.replace(\"\", \"++\").replace(\"\", \"++\");\n        }\n        hotkey = hotkey.replace(\"\", \"Ctrl\").replace(\"\", \"Shift\")\n            .replace(\"\", \"Alt\");\n        if (hotkey.indexOf(\"Shift\") > -1) {\n            hotkey = hotkey.replace(\";\", \":\").replace(\"=\", \"+\").replace(\"-\", \"_\");\n        }\n    }\n    return hotkey;\n};\nvar isChrome = function () {\n    return /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);\n};\n\n\n/***/ }),\n\n/***/ 713:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"JQ\": () => (/* binding */ hasTopClosestByClassName),\n/* harmony export */   \"E2\": () => (/* binding */ hasTopClosestByTag),\n/* harmony export */   \"O9\": () => (/* binding */ getTopList),\n/* harmony export */   \"a1\": () => (/* binding */ hasClosestByAttribute),\n/* harmony export */   \"F9\": () => (/* binding */ hasClosestBlock),\n/* harmony export */   \"lG\": () => (/* binding */ hasClosestByMatchTag),\n/* harmony export */   \"fb\": () => (/* binding */ hasClosestByClassName),\n/* harmony export */   \"DX\": () => (/* binding */ getLastNode)\n/* harmony export */ });\n/* unused harmony export hasTopClosestByAttribute */\n/* harmony import */ var _hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(615);\n\nvar hasTopClosestByClassName = function (element, className) {\n    var closest = hasClosestByClassName(element, className);\n    var parentClosest = false;\n    var findTop = false;\n    while (closest && !closest.classList.contains(\"vditor-reset\") && !findTop) {\n        parentClosest = hasClosestByClassName(closest.parentElement, className);\n        if (parentClosest) {\n            closest = parentClosest;\n        }\n        else {\n            findTop = true;\n        }\n    }\n    return closest || false;\n};\nvar hasTopClosestByAttribute = function (element, attr, value) {\n    var closest = hasClosestByAttribute(element, attr, value);\n    var parentClosest = false;\n    var findTop = false;\n    while (closest && !closest.classList.contains(\"vditor-reset\") && !findTop) {\n        parentClosest = hasClosestByAttribute(closest.parentElement, attr, value);\n        if (parentClosest) {\n            closest = parentClosest;\n        }\n        else {\n            findTop = true;\n        }\n    }\n    return closest || false;\n};\nvar hasTopClosestByTag = function (element, nodeName) {\n    var closest = (0,_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__/* .hasClosestByTag */ .S)(element, nodeName);\n    var parentClosest = false;\n    var findTop = false;\n    while (closest && !closest.classList.contains(\"vditor-reset\") && !findTop) {\n        parentClosest = (0,_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__/* .hasClosestByTag */ .S)(closest.parentElement, nodeName);\n        if (parentClosest) {\n            closest = parentClosest;\n        }\n        else {\n            findTop = true;\n        }\n    }\n    return closest || false;\n};\nvar getTopList = function (element) {\n    var topUlElement = hasTopClosestByTag(element, \"UL\");\n    var topOlElement = hasTopClosestByTag(element, \"OL\");\n    var topListElement = topUlElement;\n    if (topOlElement && (!topUlElement || (topUlElement && topOlElement.contains(topUlElement)))) {\n        topListElement = topOlElement;\n    }\n    return topListElement;\n};\nvar hasClosestByAttribute = function (element, attr, value) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.getAttribute(attr) === value) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestBlock = function (element) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    var blockElement = hasClosestByAttribute(element, \"data-block\", \"0\");\n    if (blockElement) {\n        return blockElement;\n    }\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.tagName === \"H1\" ||\n            e.tagName === \"H2\" ||\n            e.tagName === \"H3\" ||\n            e.tagName === \"H4\" ||\n            e.tagName === \"H5\" ||\n            e.tagName === \"H6\" ||\n            e.tagName === \"P\" ||\n            e.tagName === \"BLOCKQUOTE\" ||\n            e.tagName === \"OL\" ||\n            e.tagName === \"UL\") {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestByMatchTag = function (element, nodeName) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.nodeName === nodeName) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestByClassName = function (element, className) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.classList.contains(className)) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar getLastNode = function (node) {\n    while (node && node.lastChild) {\n        node = node.lastChild;\n    }\n    return node;\n};\n\n\n/***/ }),\n\n/***/ 615:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"S\": () => (/* binding */ hasClosestByTag),\n/* harmony export */   \"W\": () => (/* binding */ hasClosestByHeadings)\n/* harmony export */ });\n// NOTE:  method.ts  hasClosest.ts \nvar hasClosestByTag = function (element, nodeName) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.nodeName.indexOf(nodeName) === 0) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestByHeadings = function (element) {\n    var headingElement = hasClosestByTag(element, \"H\");\n    if (headingElement && headingElement.tagName.length === 2 && headingElement.tagName !== \"HR\") {\n        return headingElement;\n    }\n    return false;\n};\n\n\n/***/ }),\n\n/***/ 224:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"T\": () => (/* binding */ merge)\n/* harmony export */ });\nvar merge = function () {\n    var options = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        options[_i] = arguments[_i];\n    }\n    var target = {};\n    var merger = function (obj) {\n        for (var prop in obj) {\n            if (obj.hasOwnProperty(prop)) {\n                if (Object.prototype.toString.call(obj[prop]) === \"[object Object]\") {\n                    target[prop] = merge(target[prop], obj[prop]);\n                }\n                else {\n                    target[prop] = obj[prop];\n                }\n            }\n        }\n    };\n    for (var i = 0; i < options.length; i++) {\n        merger(options[i]);\n    }\n    return target;\n};\n\n\n/***/ }),\n\n/***/ 187:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"zh\": () => (/* binding */ getEditorRange),\n/* harmony export */   \"Ny\": () => (/* binding */ getCursorPosition),\n/* harmony export */   \"Gb\": () => (/* binding */ selectIsEditor),\n/* harmony export */   \"Hc\": () => (/* binding */ setSelectionFocus),\n/* harmony export */   \"im\": () => (/* binding */ getSelectPosition),\n/* harmony export */   \"$j\": () => (/* binding */ setSelectionByPosition),\n/* harmony export */   \"ib\": () => (/* binding */ setRangeByWbr),\n/* harmony export */   \"oC\": () => (/* binding */ insertHTML)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _compatibility__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(931);\n/* harmony import */ var _hasClosest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(713);\n\n\n\nvar getEditorRange = function (vditor) {\n    var range;\n    var element = vditor[vditor.currentMode].element;\n    if (getSelection().rangeCount > 0) {\n        range = getSelection().getRangeAt(0);\n        if (element.isEqualNode(range.startContainer) || element.contains(range.startContainer)) {\n            return range;\n        }\n    }\n    if (vditor[vditor.currentMode].range) {\n        return vditor[vditor.currentMode].range;\n    }\n    element.focus();\n    range = element.ownerDocument.createRange();\n    range.setStart(element, 0);\n    range.collapse(true);\n    return range;\n};\nvar getCursorPosition = function (editor) {\n    var range = window.getSelection().getRangeAt(0);\n    if (!editor.contains(range.startContainer) && !(0,_hasClosest__WEBPACK_IMPORTED_MODULE_1__/* .hasClosestByClassName */ .fb)(range.startContainer, \"vditor-panel--none\")) {\n        return {\n            left: 0,\n            top: 0,\n        };\n    }\n    var parentRect = editor.parentElement.getBoundingClientRect();\n    var cursorRect;\n    if (range.getClientRects().length === 0) {\n        if (range.startContainer.nodeType === 3) {\n            //  br  <p> \n            var parent_1 = range.startContainer.parentElement;\n            if (parent_1 && parent_1.getClientRects().length > 0) {\n                cursorRect = parent_1.getClientRects()[0];\n            }\n            else {\n                return {\n                    left: 0,\n                    top: 0,\n                };\n            }\n        }\n        else {\n            var children = range.startContainer.children;\n            if (children[range.startOffset] &&\n                children[range.startOffset].getClientRects().length > 0) {\n                // markdown \n                cursorRect = children[range.startOffset].getClientRects()[0];\n            }\n            else if (range.startContainer.childNodes.length > 0) {\n                // in table or code block\n                var cloneRange = range.cloneRange();\n                range.selectNode(range.startContainer.childNodes[Math.max(0, range.startOffset - 1)]);\n                cursorRect = range.getClientRects()[0];\n                range.setEnd(cloneRange.endContainer, cloneRange.endOffset);\n                range.setStart(cloneRange.startContainer, cloneRange.startOffset);\n            }\n            else {\n                cursorRect = range.startContainer.getClientRects()[0];\n            }\n            if (!cursorRect) {\n                var parentElement = range.startContainer.childNodes[range.startOffset];\n                while (!parentElement.getClientRects ||\n                    (parentElement.getClientRects && parentElement.getClientRects().length === 0)) {\n                    parentElement = parentElement.parentElement;\n                }\n                cursorRect = parentElement.getClientRects()[0];\n            }\n        }\n    }\n    else {\n        cursorRect = range.getClientRects()[0];\n    }\n    return {\n        left: cursorRect.left - parentRect.left,\n        top: cursorRect.top - parentRect.top,\n    };\n};\nvar selectIsEditor = function (editor, range) {\n    if (!range) {\n        if (getSelection().rangeCount === 0) {\n            return false;\n        }\n        else {\n            range = getSelection().getRangeAt(0);\n        }\n    }\n    var container = range.commonAncestorContainer;\n    return editor.isEqualNode(container) || editor.contains(container);\n};\nvar setSelectionFocus = function (range) {\n    var selection = window.getSelection();\n    selection.removeAllRanges();\n    selection.addRange(range);\n};\nvar getSelectPosition = function (selectElement, editorElement, range) {\n    var position = {\n        end: 0,\n        start: 0,\n    };\n    if (!range) {\n        if (getSelection().rangeCount === 0) {\n            return position;\n        }\n        range = window.getSelection().getRangeAt(0);\n    }\n    if (selectIsEditor(editorElement, range)) {\n        var preSelectionRange = range.cloneRange();\n        if (selectElement.childNodes[0] && selectElement.childNodes[0].childNodes[0]) {\n            preSelectionRange.setStart(selectElement.childNodes[0].childNodes[0], 0);\n        }\n        else {\n            preSelectionRange.selectNodeContents(selectElement);\n        }\n        preSelectionRange.setEnd(range.startContainer, range.startOffset);\n        position.start = preSelectionRange.toString().length;\n        position.end = position.start + range.toString().length;\n    }\n    return position;\n};\nvar setSelectionByPosition = function (start, end, editor) {\n    var charIndex = 0;\n    var line = 0;\n    var pNode = editor.childNodes[line];\n    var foundStart = false;\n    var stop = false;\n    start = Math.max(0, start);\n    end = Math.max(0, end);\n    var range = editor.ownerDocument.createRange();\n    range.setStart(pNode || editor, 0);\n    range.collapse(true);\n    while (!stop && pNode) {\n        var nextCharIndex = charIndex + pNode.textContent.length;\n        if (!foundStart && start >= charIndex && start <= nextCharIndex) {\n            if (start === 0) {\n                range.setStart(pNode, 0);\n            }\n            else {\n                if (pNode.childNodes[0].nodeType === 3) {\n                    range.setStart(pNode.childNodes[0], start - charIndex);\n                }\n                else if (pNode.nextSibling) {\n                    range.setStartBefore(pNode.nextSibling);\n                }\n                else {\n                    range.setStartAfter(pNode);\n                }\n            }\n            foundStart = true;\n            if (start === end) {\n                stop = true;\n                break;\n            }\n        }\n        if (foundStart && end >= charIndex && end <= nextCharIndex) {\n            if (end === 0) {\n                range.setEnd(pNode, 0);\n            }\n            else {\n                if (pNode.childNodes[0].nodeType === 3) {\n                    range.setEnd(pNode.childNodes[0], end - charIndex);\n                }\n                else if (pNode.nextSibling) {\n                    range.setEndBefore(pNode.nextSibling);\n                }\n                else {\n                    range.setEndAfter(pNode);\n                }\n            }\n            stop = true;\n        }\n        charIndex = nextCharIndex;\n        pNode = editor.childNodes[++line];\n    }\n    if (!stop && editor.childNodes[line - 1]) {\n        range.setStartBefore(editor.childNodes[line - 1]);\n    }\n    setSelectionFocus(range);\n    return range;\n};\nvar setRangeByWbr = function (element, range) {\n    var wbrElement = element.querySelector(\"wbr\");\n    if (!wbrElement) {\n        return;\n    }\n    if (!wbrElement.previousElementSibling) {\n        if (wbrElement.previousSibling) {\n            // text<wbr>\n            range.setStart(wbrElement.previousSibling, wbrElement.previousSibling.textContent.length);\n        }\n        else if (wbrElement.nextSibling) {\n            if (wbrElement.nextSibling.nodeType === 3) {\n                // <wbr>text\n                range.setStart(wbrElement.nextSibling, 0);\n            }\n            else {\n                // <wbr><br> https://github.com/Vanessa219/vditor/issues/400\n                range.setStartBefore(wbrElement.nextSibling);\n            }\n        }\n        else {\n            // \n            range.setStart(wbrElement.parentElement, 0);\n        }\n    }\n    else {\n        if (wbrElement.previousElementSibling.isSameNode(wbrElement.previousSibling)) {\n            if (wbrElement.previousElementSibling.lastChild) {\n                // <em>text</em><wbr>\n                range.setStartBefore(wbrElement);\n                range.collapse(true);\n                setSelectionFocus(range);\n                // fix Chrome set range bug: **c**\n                if ((0,_compatibility__WEBPACK_IMPORTED_MODULE_2__/* .isChrome */ .i7)() && (wbrElement.previousElementSibling.tagName === \"EM\" ||\n                    wbrElement.previousElementSibling.tagName === \"STRONG\" ||\n                    wbrElement.previousElementSibling.tagName === \"S\")) {\n                    range.insertNode(document.createTextNode(_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.ZWSP */ .g.ZWSP));\n                    range.collapse(false);\n                }\n                wbrElement.remove();\n                return;\n            }\n            else {\n                // <br><wbr>\n                range.setStartAfter(wbrElement.previousElementSibling);\n            }\n        }\n        else {\n            // <em>text</em>text<wbr>\n            range.setStart(wbrElement.previousSibling, wbrElement.previousSibling.textContent.length);\n        }\n    }\n    range.collapse(true);\n    wbrElement.remove();\n    setSelectionFocus(range);\n};\nvar insertHTML = function (html, vditor) {\n    //  lute  p  p \n    var tempElement = document.createElement(\"div\");\n    tempElement.innerHTML = html;\n    var tempBlockElement = tempElement.querySelectorAll(\"p\");\n    if (tempBlockElement.length === 1 && !tempBlockElement[0].previousSibling && !tempBlockElement[0].nextSibling &&\n        vditor[vditor.currentMode].element.children.length > 0 && tempElement.firstElementChild.tagName === \"P\") {\n        html = tempBlockElement[0].innerHTML.trim();\n    }\n    var pasteElement = document.createElement(\"div\");\n    pasteElement.innerHTML = html;\n    var range = getEditorRange(vditor);\n    if (range.toString() !== \"\") {\n        vditor[vditor.currentMode].preventInput = true;\n        document.execCommand(\"delete\", false, \"\");\n    }\n    if (pasteElement.firstElementChild &&\n        pasteElement.firstElementChild.getAttribute(\"data-block\") === \"0\") {\n        // \n        pasteElement.lastElementChild.insertAdjacentHTML(\"beforeend\", \"<wbr>\");\n        var blockElement = (0,_hasClosest__WEBPACK_IMPORTED_MODULE_1__/* .hasClosestBlock */ .F9)(range.startContainer);\n        if (!blockElement) {\n            vditor[vditor.currentMode].element.insertAdjacentHTML(\"beforeend\", pasteElement.innerHTML);\n        }\n        else {\n            blockElement.insertAdjacentHTML(\"afterend\", pasteElement.innerHTML);\n        }\n        setRangeByWbr(vditor[vditor.currentMode].element, range);\n    }\n    else {\n        var pasteTemplate = document.createElement(\"template\");\n        pasteTemplate.innerHTML = html;\n        range.insertNode(pasteTemplate.content.cloneNode(true));\n        range.collapse(false);\n        setSelectionFocus(range);\n    }\n};\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be in strict mode.\n(() => {\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ src)\n});\n\n// EXTERNAL MODULE: ./src/assets/scss/index.scss\nvar scss = __webpack_require__(157);\n// EXTERNAL MODULE: ./src/method.ts + 4 modules\nvar method = __webpack_require__(857);\n// EXTERNAL MODULE: ./src/ts/constants.ts\nvar constants = __webpack_require__(260);\n// EXTERNAL MODULE: ./src/ts/util/code160to32.ts\nvar code160to32 = __webpack_require__(769);\n;// CONCATENATED MODULE: ./src/ts/markdown/getMarkdown.ts\n\nvar getMarkdown = function (vditor) {\n    if (vditor.currentMode === \"sv\") {\n        return (0,code160to32/* code160to32 */.X)((vditor.sv.element.textContent + \"\\n\").replace(/\\n\\n$/, \"\\n\"));\n    }\n    else if (vditor.currentMode === \"wysiwyg\") {\n        return vditor.lute.VditorDOM2Md(vditor.wysiwyg.element.innerHTML);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        return vditor.lute.VditorIRDOM2Md(vditor.ir.element.innerHTML);\n    }\n    return \"\";\n};\n\n// EXTERNAL MODULE: ./src/ts/util/addScript.ts\nvar addScript = __webpack_require__(228);\n;// CONCATENATED MODULE: ./src/ts/devtools/index.ts\n\n\nvar DevTools = /** @class */ (function () {\n    function DevTools() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-devtools\";\n        this.element.innerHTML = '<div class=\"vditor-reset--error\"></div><div style=\"height: 100%;\"></div>';\n    }\n    DevTools.prototype.renderEchart = function (vditor) {\n        var _this = this;\n        if (vditor.devtools.element.style.display !== \"block\") {\n            return;\n        }\n        (0,addScript/* addScript */.G)(vditor.options.cdn + \"/dist/js/echarts/echarts.min.js\", \"vditorEchartsScript\").then(function () {\n            if (!_this.ASTChart) {\n                _this.ASTChart = echarts.init(vditor.devtools.element.lastElementChild);\n            }\n            try {\n                _this.element.lastElementChild.style.display = \"block\";\n                _this.element.firstElementChild.innerHTML = \"\";\n                _this.ASTChart.setOption({\n                    series: [\n                        {\n                            data: JSON.parse(vditor.lute.RenderEChartsJSON(getMarkdown(vditor))),\n                            initialTreeDepth: -1,\n                            label: {\n                                align: \"left\",\n                                backgroundColor: \"rgba(68, 77, 86, .68)\",\n                                borderRadius: 3,\n                                color: \"#d1d5da\",\n                                fontSize: 12,\n                                lineHeight: 12,\n                                offset: [9, 12],\n                                padding: [2, 4, 2, 4],\n                                position: \"top\",\n                                verticalAlign: \"middle\",\n                            },\n                            lineStyle: {\n                                color: \"#4285f4\",\n                                type: \"curve\",\n                                width: 1,\n                            },\n                            orient: \"vertical\",\n                            roam: true,\n                            type: \"tree\",\n                        },\n                    ],\n                    toolbox: {\n                        bottom: 25,\n                        emphasis: {\n                            iconStyle: {\n                                color: \"#4285f4\",\n                            },\n                        },\n                        feature: {\n                            restore: {\n                                show: true,\n                            },\n                            saveAsImage: {\n                                show: true,\n                            },\n                        },\n                        right: 15,\n                        show: true,\n                    },\n                });\n                _this.ASTChart.resize();\n            }\n            catch (e) {\n                _this.element.lastElementChild.style.display = \"none\";\n                _this.element.firstElementChild.innerHTML = e;\n            }\n        });\n    };\n    return DevTools;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/util/compatibility.ts\nvar compatibility = __webpack_require__(931);\n;// CONCATENATED MODULE: ./src/ts/toolbar/setToolbar.ts\n\n\nvar removeCurrentToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && itemElement.classList.contains(\"vditor-menu--current\")) {\n            itemElement.classList.remove(\"vditor-menu--current\");\n        }\n    });\n};\nvar setCurrentToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && !itemElement.classList.contains(\"vditor-menu--current\")) {\n            itemElement.classList.add(\"vditor-menu--current\");\n        }\n    });\n};\nvar enableToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && itemElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n            itemElement.classList.remove(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED);\n        }\n    });\n};\nvar disableToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && !itemElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n            itemElement.classList.add(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED);\n        }\n    });\n};\nvar hideToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        if (toolbar[name]) {\n            toolbar[name].style.display = \"none\";\n        }\n    });\n};\nvar showToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        if (toolbar[name]) {\n            toolbar[name].style.display = \"block\";\n        }\n    });\n};\n// \"subToolbar\", \"hint\", \"popover\"\nvar hidePanel = function (vditor, panels, exceptElement) {\n    if (panels.includes(\"subToolbar\")) {\n        vditor.toolbar.element.querySelectorAll(\".vditor-hint\").forEach(function (item) {\n            if (exceptElement && item.isEqualNode(exceptElement)) {\n                return;\n            }\n            item.style.display = \"none\";\n        });\n        if (vditor.toolbar.elements.emoji) {\n            vditor.toolbar.elements.emoji.lastElementChild.style.display = \"none\";\n        }\n    }\n    if (panels.includes(\"hint\")) {\n        vditor.hint.element.style.display = \"none\";\n    }\n    if (vditor.wysiwyg.popover && panels.includes(\"popover\")) {\n        vditor.wysiwyg.popover.style.display = \"none\";\n    }\n};\nvar toggleSubMenu = function (vditor, panelElement, actionBtn, level) {\n    actionBtn.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        if (actionBtn.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n            return;\n        }\n        vditor.toolbar.element.querySelectorAll(\".vditor-hint--current\").forEach(function (item) {\n            item.classList.remove(\"vditor-hint--current\");\n        });\n        if (panelElement.style.display === \"block\") {\n            panelElement.style.display = \"none\";\n        }\n        else {\n            hidePanel(vditor, [\"subToolbar\", \"hint\", \"popover\"], actionBtn.parentElement.parentElement);\n            if (!actionBtn.classList.contains(\"vditor-tooltipped\")) {\n                actionBtn.classList.add(\"vditor-hint--current\");\n            }\n            panelElement.style.display = \"block\";\n            if (vditor.toolbar.element.getBoundingClientRect().right - actionBtn.getBoundingClientRect().right < 250) {\n                panelElement.classList.add(\"vditor-panel--left\");\n            }\n            else {\n                panelElement.classList.remove(\"vditor-panel--left\");\n            }\n        }\n    });\n};\n\n// EXTERNAL MODULE: ./src/ts/util/hasClosest.ts\nvar hasClosest = __webpack_require__(713);\n// EXTERNAL MODULE: ./src/ts/util/hasClosestByHeadings.ts\nvar hasClosestByHeadings = __webpack_require__(615);\n;// CONCATENATED MODULE: ./src/ts/util/log.ts\nvar log = function (method, content, type, print) {\n    if (print) {\n        // @ts-ignore\n        console.log(method + \" - \" + type + \": \" + content);\n    }\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/abcRender.ts\nvar abcRender = __webpack_require__(369);\n// EXTERNAL MODULE: ./src/ts/markdown/chartRender.ts\nvar chartRender = __webpack_require__(726);\n// EXTERNAL MODULE: ./src/ts/markdown/codeRender.ts\nvar codeRender = __webpack_require__(23);\n// EXTERNAL MODULE: ./src/ts/markdown/flowchartRender.ts\nvar flowchartRender = __webpack_require__(383);\n// EXTERNAL MODULE: ./src/ts/markdown/graphvizRender.ts\nvar graphvizRender = __webpack_require__(890);\n// EXTERNAL MODULE: ./src/ts/markdown/highlightRender.ts\nvar highlightRender = __webpack_require__(93);\n// EXTERNAL MODULE: ./src/ts/markdown/mathRender.ts\nvar mathRender = __webpack_require__(323);\n// EXTERNAL MODULE: ./src/ts/markdown/mermaidRender.ts\nvar mermaidRender = __webpack_require__(765);\n// EXTERNAL MODULE: ./src/ts/markdown/mindmapRender.ts\nvar mindmapRender = __webpack_require__(894);\n// EXTERNAL MODULE: ./src/ts/markdown/plantumlRender.ts\nvar plantumlRender = __webpack_require__(583);\n;// CONCATENATED MODULE: ./src/ts/util/processCode.ts\n\n\n\n\n\n\n\n\n\n\nvar processPasteCode = function (html, text, type) {\n    if (type === void 0) { type = \"sv\"; }\n    var tempElement = document.createElement(\"div\");\n    tempElement.innerHTML = html;\n    var isCode = false;\n    if (tempElement.childElementCount === 1 &&\n        tempElement.lastElementChild.style.fontFamily.indexOf(\"monospace\") > -1) {\n        // VS Code\n        isCode = true;\n    }\n    var pres = tempElement.querySelectorAll(\"pre\");\n    if (tempElement.childElementCount === 1 && pres.length === 1\n        && pres[0].className !== \"vditor-wysiwyg\"\n        && pres[0].className !== \"vditor-sv\") {\n        // IDE\n        isCode = true;\n    }\n    if (html.indexOf('\\n<p class=\"p1\">') === 0) {\n        // Xcode\n        isCode = true;\n    }\n    if (tempElement.childElementCount === 1 && tempElement.firstElementChild.tagName === \"TABLE\" &&\n        tempElement.querySelector(\".line-number\") && tempElement.querySelector(\".line-content\")) {\n        // \n        isCode = true;\n    }\n    if (isCode) {\n        var code = text || html;\n        if (/\\n/.test(code) || pres.length === 1) {\n            if (type === \"wysiwyg\") {\n                return \"<div class=\\\"vditor-wysiwyg__block\\\" data-block=\\\"0\\\" data-type=\\\"code-block\\\"><pre><code>\" + code.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\") + \"<wbr></code></pre></div>\";\n            }\n            return \"\\n```\\n\" + code.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\") + \"\\n```\";\n        }\n        else {\n            if (type === \"wysiwyg\") {\n                return \"<code>\" + code.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\") + \"</code><wbr>\";\n            }\n            return \"`\" + code + \"`\";\n        }\n    }\n    return false;\n};\nvar processCodeRender = function (previewPanel, vditor) {\n    if (!previewPanel) {\n        return;\n    }\n    if (previewPanel.parentElement.getAttribute(\"data-type\") === \"html-block\") {\n        previewPanel.setAttribute(\"data-render\", \"1\");\n        return;\n    }\n    var language = previewPanel.firstElementChild.className.replace(\"language-\", \"\");\n    if (!language) {\n        return;\n    }\n    if (language === \"abc\") {\n        (0,abcRender/* abcRender */.Q)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"mermaid\") {\n        (0,mermaidRender/* mermaidRender */.i)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"flowchart\") {\n        (0,flowchartRender/* flowchartRender */.P)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"echarts\") {\n        (0,chartRender/* chartRender */.p)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"mindmap\") {\n        (0,mindmapRender/* mindmapRender */.P)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"plantuml\") {\n        (0,plantumlRender/* plantumlRender */.B)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"graphviz\") {\n        (0,graphvizRender/* graphvizRender */.v)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"math\") {\n        (0,mathRender/* mathRender */.H)(previewPanel, { cdn: vditor.options.cdn, math: vditor.options.preview.math });\n    }\n    else {\n        (0,highlightRender/* highlightRender */.s)(Object.assign({}, vditor.options.preview.hljs), previewPanel, vditor.options.cdn);\n        (0,codeRender/* codeRender */.O)(previewPanel);\n    }\n    previewPanel.setAttribute(\"data-render\", \"1\");\n};\n\n// EXTERNAL MODULE: ./src/ts/util/selection.ts\nvar selection = __webpack_require__(187);\n;// CONCATENATED MODULE: ./src/ts/util/toc.ts\n\n\n\n\nvar renderToc = function (vditor) {\n    if (vditor.currentMode === \"sv\") {\n        return;\n    }\n    var editorElement = vditor[vditor.currentMode].element;\n    var tocHTML = vditor.outline.render(vditor);\n    if (tocHTML === \"\") {\n        tocHTML = \"[ToC]\";\n    }\n    editorElement.querySelectorAll('[data-type=\"toc-block\"]').forEach(function (item) {\n        item.innerHTML = tocHTML;\n        (0,mathRender/* mathRender */.H)(item, {\n            cdn: vditor.options.cdn,\n            math: vditor.options.preview.math,\n        });\n    });\n};\nvar clickToc = function (event, vditor) {\n    var spanElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"SPAN\");\n    if (spanElement && (0,hasClosest/* hasClosestByClassName */.fb)(spanElement, \"vditor-toc\")) {\n        var headingElement = vditor[vditor.currentMode].element.querySelector(\"#\" + spanElement.getAttribute(\"data-target-id\"));\n        if (headingElement) {\n            if (vditor.options.height === \"auto\") {\n                var windowScrollY = headingElement.offsetTop + vditor.element.offsetTop;\n                if (!vditor.options.toolbarConfig.pin) {\n                    windowScrollY += vditor.toolbar.element.offsetHeight;\n                }\n                window.scrollTo(window.scrollX, windowScrollY);\n            }\n            else {\n                if (vditor.element.offsetTop < window.scrollY) {\n                    window.scrollTo(window.scrollX, vditor.element.offsetTop);\n                }\n                vditor[vditor.currentMode].element.scrollTop = headingElement.offsetTop;\n            }\n        }\n        return;\n    }\n};\nvar keydownToc = function (blockElement, vditor, event, range) {\n    // toc \n    if (blockElement.previousElementSibling &&\n        blockElement.previousElementSibling.classList.contains(\"vditor-toc\")) {\n        if (event.key === \"Backspace\" &&\n            (0,selection/* getSelectPosition */.im)(blockElement, vditor[vditor.currentMode].element, range).start === 0) {\n            blockElement.previousElementSibling.remove();\n            execAfterRender(vditor);\n            return true;\n        }\n        if (insertBeforeBlock(vditor, event, range, blockElement, blockElement.previousElementSibling)) {\n            return true;\n        }\n    }\n    // toc \n    if (blockElement.nextElementSibling &&\n        blockElement.nextElementSibling.classList.contains(\"vditor-toc\")) {\n        if (event.key === \"Delete\" &&\n            (0,selection/* getSelectPosition */.im)(blockElement, vditor[vditor.currentMode].element, range).start\n                >= blockElement.textContent.trimRight().length) {\n            blockElement.nextElementSibling.remove();\n            execAfterRender(vditor);\n            return true;\n        }\n        if (insertAfterBlock(vditor, event, range, blockElement, blockElement.nextElementSibling)) {\n            return true;\n        }\n    }\n    // toc \n    if (event.key === \"Backspace\" || event.key === \"Delete\") {\n        var tocElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-toc\");\n        if (tocElement) {\n            tocElement.remove();\n            execAfterRender(vditor);\n            return true;\n        }\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/input.ts\n\n\n\n\n\n\n\n\n\nvar input = function (vditor, range, ignoreSpace, event) {\n    if (ignoreSpace === void 0) { ignoreSpace = false; }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    // \n    if (blockElement && !ignoreSpace && blockElement.getAttribute(\"data-type\") !== \"code-block\") {\n        if ((isHrMD(blockElement.innerHTML) && blockElement.previousElementSibling) ||\n            isHeadingMD(blockElement.innerHTML)) {\n            return;\n        }\n        // \n        var startOffset = (0,selection/* getSelectPosition */.im)(blockElement, vditor.ir.element, range).start;\n        // \n        var startSpace = true;\n        for (var i = startOffset - 1; \n        // \n        i > blockElement.textContent.substr(0, startOffset).lastIndexOf(\"\\n\"); i--) {\n            if (blockElement.textContent.charAt(i) !== \" \" &&\n                //  tab  https://github.com/Vanessa219/vditor/issues/162 1\n                blockElement.textContent.charAt(i) !== \"\\t\") {\n                startSpace = false;\n                break;\n            }\n        }\n        if (startOffset === 0) {\n            startSpace = false;\n        }\n        // \n        var endSpace = true;\n        for (var i = startOffset - 1; i < blockElement.textContent.length; i++) {\n            if (blockElement.textContent.charAt(i) !== \" \" && blockElement.textContent.charAt(i) !== \"\\n\") {\n                endSpace = false;\n                break;\n            }\n        }\n        if (startSpace) {\n            return;\n        }\n        if (endSpace) {\n            var markerElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__marker\");\n            if (markerElement) {\n                // inline marker space https://github.com/Vanessa219/vditor/issues/239\n            }\n            else {\n                var previousNode = range.startContainer.previousSibling;\n                if (previousNode && previousNode.nodeType !== 3 && previousNode.classList.contains(\"vditor-ir__node--expand\")) {\n                    // FireFox https://github.com/Vanessa219/vditor/issues/239\n                    previousNode.classList.remove(\"vditor-ir__node--expand\");\n                }\n                return;\n            }\n        }\n    }\n    vditor.ir.element.querySelectorAll(\".vditor-ir__node--expand\").forEach(function (item) {\n        item.classList.remove(\"vditor-ir__node--expand\");\n    });\n    if (!blockElement) {\n        //  innerHTML\n        blockElement = vditor.ir.element;\n    }\n    // document.exeComment insertHTML  wbr\n    if (!blockElement.querySelector(\"wbr\")) {\n        var previewRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__preview\");\n        if (previewRenderElement) {\n            previewRenderElement.previousElementSibling.insertAdjacentHTML(\"beforeend\", \"<wbr>\");\n        }\n        else {\n            range.insertNode(document.createElement(\"wbr\"));\n        }\n    }\n    // \n    blockElement.querySelectorAll(\"[style]\").forEach(function (item) {\n        item.removeAttribute(\"style\");\n    });\n    if (blockElement.getAttribute(\"data-type\") === \"link-ref-defs-block\") {\n        // \n        blockElement = vditor.ir.element;\n    }\n    var isIRElement = blockElement.isEqualNode(vditor.ir.element);\n    var footnoteElement = (0,hasClosest/* hasClosestByAttribute */.a1)(blockElement, \"data-type\", \"footnotes-block\");\n    var html = \"\";\n    if (!isIRElement) {\n        var blockquoteElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"BLOCKQUOTE\");\n        // \n        var topListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n        if (topListElement) {\n            blockElement = topListElement;\n        }\n        //  > ---  front-matter blockquote  blockquoteblockquote \n        if (blockquoteElement && (!topListElement || (topListElement && !blockquoteElement.contains(topListElement)))) {\n            blockElement = blockquoteElement;\n        }\n        // \n        if (footnoteElement) {\n            blockElement = footnoteElement;\n        }\n        html = blockElement.outerHTML;\n        if (blockElement.tagName === \"UL\" || blockElement.tagName === \"OL\") {\n            // \n            var listPrevElement = blockElement.previousElementSibling;\n            var listNextElement = blockElement.nextElementSibling;\n            if (listPrevElement && (listPrevElement.tagName === \"UL\" || listPrevElement.tagName === \"OL\")) {\n                html = listPrevElement.outerHTML + html;\n                listPrevElement.remove();\n            }\n            if (listNextElement && (listNextElement.tagName === \"UL\" || listNextElement.tagName === \"OL\")) {\n                html = html + listNextElement.outerHTML;\n                listNextElement.remove();\n            }\n            // firefox  list item https://github.com/Vanessa219/vditor/issues/194\n            html = html.replace(\"<div><wbr><br></div>\", \"<li><p><wbr><br></p></li>\");\n        }\n        else if (blockElement.previousElementSibling &&\n            blockElement.previousElementSibling.textContent.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") !== \"\" &&\n            event && event.inputType === \"insertParagraph\") {\n            // \n            html = blockElement.previousElementSibling.outerHTML + html;\n            blockElement.previousElementSibling.remove();\n        }\n        // \n        vditor.ir.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item) {\n            if (item && !blockElement.isEqualNode(item)) {\n                html += item.outerHTML;\n                item.remove();\n            }\n        });\n        // \n        vditor.ir.element.querySelectorAll(\"[data-type='footnotes-block']\").forEach(function (item) {\n            if (item && !blockElement.isEqualNode(item)) {\n                html += item.outerHTML;\n                item.remove();\n            }\n        });\n    }\n    else {\n        html = blockElement.innerHTML;\n    }\n    log(\"SpinVditorIRDOM\", html, \"argument\", vditor.options.debugger);\n    html = vditor.lute.SpinVditorIRDOM(html);\n    log(\"SpinVditorIRDOM\", html, \"result\", vditor.options.debugger);\n    if (isIRElement) {\n        blockElement.innerHTML = html;\n    }\n    else {\n        blockElement.outerHTML = html;\n        //  tip\n        if (footnoteElement) {\n            var footnoteItemElement = (0,hasClosest/* hasClosestByAttribute */.a1)(vditor.ir.element.querySelector(\"wbr\"), \"data-type\", \"footnotes-def\");\n            if (footnoteItemElement) {\n                var footnoteItemText = footnoteItemElement.textContent;\n                var marker = footnoteItemText.substring(1, footnoteItemText.indexOf(\"]:\"));\n                var footnoteRefElement = vditor.ir.element.querySelector(\"sup[data-type=\\\"footnotes-ref\\\"][data-footnotes-label=\\\"\" + marker + \"\\\"]\");\n                if (footnoteRefElement) {\n                    footnoteRefElement.setAttribute(\"aria-label\", footnoteItemText.substr(marker.length + 3).trim().substr(0, 24));\n                }\n            }\n        }\n    }\n    //  linkref \n    var firstLinkRefDefElement;\n    var allLinkRefDefsElement = vditor.ir.element.querySelectorAll(\"[data-type='link-ref-defs-block']\");\n    allLinkRefDefsElement.forEach(function (item, index) {\n        if (index === 0) {\n            firstLinkRefDefElement = item;\n        }\n        else {\n            firstLinkRefDefElement.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n            item.remove();\n        }\n    });\n    if (allLinkRefDefsElement.length > 0) {\n        vditor.ir.element.insertAdjacentElement(\"beforeend\", allLinkRefDefsElement[0]);\n    }\n    // \n    var firstFootnoteElement;\n    var allFootnoteElement = vditor.ir.element.querySelectorAll(\"[data-type='footnotes-block']\");\n    allFootnoteElement.forEach(function (item, index) {\n        if (index === 0) {\n            firstFootnoteElement = item;\n        }\n        else {\n            firstFootnoteElement.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n            item.remove();\n        }\n    });\n    if (allFootnoteElement.length > 0) {\n        vditor.ir.element.insertAdjacentElement(\"beforeend\", allFootnoteElement[0]);\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n    vditor.ir.element.querySelectorAll(\".vditor-ir__preview[data-render='2']\").forEach(function (item) {\n        processCodeRender(item, vditor);\n    });\n    renderToc(vditor);\n    process_processAfterRender(vditor, {\n        enableAddUndoStack: true,\n        enableHint: true,\n        enableInput: true,\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/hotKey.ts\n\n//  [] / [] / [] / [] / Tab / []\nvar matchHotKey = function (hotKey, event) {\n    if (hotKey === \"\") {\n        return false;\n    }\n    // []\n    if (hotKey.indexOf(\"\") === -1 && hotKey.indexOf(\"\") === -1 && hotKey.indexOf(\"\") === -1) {\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey && event.code === hotKey) {\n            return true;\n        }\n        return false;\n    }\n    //  Tab\n    if (hotKey === \"Tab\") {\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.shiftKey && event.code === \"Tab\") {\n            return true;\n        }\n        return false;\n    }\n    var hotKeys = hotKey.split(\"\");\n    if (hotKey.startsWith(\"\")) {\n        //  [] / []\n        var keyCode = hotKeys.length === 3 ? hotKeys[2] : hotKeys[1];\n        if ((hotKeys.length === 3 ? (0,compatibility/* isCtrl */.yl)(event) : !(0,compatibility/* isCtrl */.yl)(event)) && event.altKey && !event.shiftKey &&\n            event.code === (/^[0-9]$/.test(keyCode) ? \"Digit\" : \"Key\") + keyCode) {\n            return true;\n        }\n        return false;\n    }\n    //  [] / []\n    if (hotKey === \"Enter\") {\n        hotKeys = [\"\", \"Enter\"];\n    }\n    var hasShift = hotKeys.length > 2 && (hotKeys[0] === \"\");\n    var key = (hasShift ? hotKeys[2] : hotKeys[1]);\n    if (hasShift && ((0,compatibility/* isFirefox */.vU)() || !/Mac/.test(navigator.platform))) {\n        if (key === \"-\") {\n            key = \"_\";\n        }\n        else if (key === \"=\") {\n            key = \"+\";\n        }\n    }\n    if ((0,compatibility/* isCtrl */.yl)(event) && event.key.toLowerCase() === key.toLowerCase() && !event.altKey\n        && ((!hasShift && !event.shiftKey) || (hasShift && event.shiftKey))) {\n        return true;\n    }\n    return false;\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/expandMarker.ts\n\n\nvar nextIsNode = function (range) {\n    var startContainer = range.startContainer;\n    if (startContainer.nodeType === 3 && startContainer.nodeValue.length !== range.startOffset) {\n        return false;\n    }\n    var nextNode = startContainer.nextSibling;\n    while (nextNode && nextNode.textContent === \"\") {\n        nextNode = nextNode.nextSibling;\n    }\n    if (!nextNode) {\n        // *em*|**string**\n        var markerElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-ir__marker\");\n        if (markerElement && !markerElement.nextSibling) {\n            var parentNextNode = startContainer.parentElement.parentElement.nextSibling;\n            if (parentNextNode && parentNextNode.nodeType !== 3 &&\n                parentNextNode.classList.contains(\"vditor-ir__node\")) {\n                return parentNextNode;\n            }\n        }\n        return false;\n    }\n    else if (nextNode && nextNode.nodeType !== 3 && nextNode.classList.contains(\"vditor-ir__node\") &&\n        !nextNode.getAttribute(\"data-block\")) {\n        // test|*em*\n        return nextNode;\n    }\n    return false;\n};\nvar previousIsNode = function (range) {\n    var startContainer = range.startContainer;\n    var previousNode = startContainer.previousSibling;\n    if (startContainer.nodeType === 3 && range.startOffset === 0 && previousNode && previousNode.nodeType !== 3 &&\n        // *em*|text\n        previousNode.classList.contains(\"vditor-ir__node\") && !previousNode.getAttribute(\"data-block\")) {\n        return previousNode;\n    }\n    return false;\n};\nvar expandMarker = function (range, vditor) {\n    vditor.ir.element.querySelectorAll(\".vditor-ir__node--expand\").forEach(function (item) {\n        item.classList.remove(\"vditor-ir__node--expand\");\n    });\n    var nodeElement = (0,hasClosest/* hasTopClosestByClassName */.JQ)(range.startContainer, \"vditor-ir__node\");\n    var nodeElementEnd = !range.collapsed && (0,hasClosest/* hasTopClosestByClassName */.JQ)(range.endContainer, \"vditor-ir__node\");\n    //  nodeElement \n    if (!range.collapsed && (!nodeElement || nodeElement !== nodeElementEnd)) {\n        return;\n    }\n    if (nodeElement) {\n        nodeElement.classList.add(\"vditor-ir__node--expand\");\n        nodeElement.classList.remove(\"vditor-ir__node--hidden\");\n        // https://github.com/Vanessa219/vditor/issues/615 safari\n        (0,selection/* setSelectionFocus */.Hc)(range);\n    }\n    var nextNode = nextIsNode(range);\n    if (nextNode) {\n        nextNode.classList.add(\"vditor-ir__node--expand\");\n        nextNode.classList.remove(\"vditor-ir__node--hidden\");\n        return;\n    }\n    var previousNode = previousIsNode(range);\n    if (previousNode) {\n        previousNode.classList.add(\"vditor-ir__node--expand\");\n        previousNode.classList.remove(\"vditor-ir__node--hidden\");\n        return;\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/processKeydown.ts\n\n\n\n\n\n\n\n\n\n\n\nvar processKeydown = function (vditor, event) {\n    vditor.ir.composingLock = event.isComposing;\n    if (event.isComposing) {\n        return false;\n    }\n    //  undo \n    if (event.key.indexOf(\"Arrow\") === -1 && event.key !== \"Meta\" && event.key !== \"Control\" && event.key !== \"Alt\" &&\n        event.key !== \"Shift\" && event.key !== \"CapsLock\" && event.key !== \"Escape\" && !/^F\\d{1,2}$/.test(event.key)) {\n        vditor.undo.recordFirstPosition(vditor, event);\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var startContainer = range.startContainer;\n    if (!fixGSKeyBackspace(event, vditor, startContainer)) {\n        return false;\n    }\n    fixCJKPosition(range, vditor, event);\n    fixHR(range);\n    // \n    if (event.key !== \"Enter\" && event.key !== \"Tab\" && event.key !== \"Backspace\" && event.key.indexOf(\"Arrow\") === -1\n        && !(0,compatibility/* isCtrl */.yl)(event) && event.key !== \"Escape\" && event.key !== \"Delete\") {\n        return false;\n    }\n    // \n    var newlineElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-newline\", \"1\");\n    if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey && event.key === \"Enter\" && newlineElement\n        && range.startOffset < newlineElement.textContent.length) {\n        var beforeMarkerElement = newlineElement.previousElementSibling;\n        if (beforeMarkerElement) {\n            range.insertNode(document.createTextNode(beforeMarkerElement.textContent));\n            range.collapse(false);\n        }\n        var afterMarkerElement = newlineElement.nextSibling;\n        if (afterMarkerElement) {\n            range.insertNode(document.createTextNode(afterMarkerElement.textContent));\n            range.collapse(true);\n        }\n    }\n    var pElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"P\");\n    // md \n    if (fixMarkdown(event, vditor, pElement, range)) {\n        return true;\n    }\n    // li\n    if (fixList(range, vditor, pElement, event)) {\n        return true;\n    }\n    // blockquote\n    if (fixBlockquote(vditor, range, event, pElement)) {\n        return true;\n    }\n    // \n    var preRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-ir__marker--pre\");\n    if (preRenderElement && preRenderElement.tagName === \"PRE\") {\n        var codeRenderElement = preRenderElement.firstChild;\n        if (fixCodeBlock(vditor, event, preRenderElement, range)) {\n            return true;\n        }\n        // \n        if ((codeRenderElement.getAttribute(\"data-type\") === \"math-block\"\n            || codeRenderElement.getAttribute(\"data-type\") === \"html-block\") &&\n            insertBeforeBlock(vditor, event, range, codeRenderElement, preRenderElement.parentElement)) {\n            return true;\n        }\n        // /table \n        if (insertAfterBlock(vditor, event, range, codeRenderElement, preRenderElement.parentElement)) {\n            return true;\n        }\n    }\n    // \n    var preBeforeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-info\");\n    if (preBeforeElement) {\n        if (event.key === \"Enter\" || event.key === \"Tab\") {\n            range.selectNodeContents(preBeforeElement.nextElementSibling.firstChild);\n            range.collapse(true);\n            event.preventDefault();\n            hidePanel(vditor, [\"hint\"]);\n            return true;\n        }\n        if (event.key === \"Backspace\") {\n            var start = (0,selection/* getSelectPosition */.im)(preBeforeElement, vditor.ir.element).start;\n            if (start === 1) { // \n                range.setStart(startContainer, 0);\n            }\n            if (start === 2) { // \n                vditor.hint.recentLanguage = \"\";\n            }\n        }\n        if (insertBeforeBlock(vditor, event, range, preBeforeElement, preBeforeElement.parentElement)) {\n            // \n            hidePanel(vditor, [\"hint\"]);\n            return true;\n        }\n    }\n    // table\n    var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n        (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n    if (event.key.indexOf(\"Arrow\") > -1 && cellElement) {\n        var tableElement = isFirstCell(cellElement);\n        if (tableElement && insertBeforeBlock(vditor, event, range, cellElement, tableElement)) {\n            return true;\n        }\n        var table2Element = isLastCell(cellElement);\n        if (table2Element && insertAfterBlock(vditor, event, range, cellElement, table2Element)) {\n            return true;\n        }\n    }\n    if (fixTable(vditor, event, range)) {\n        return true;\n    }\n    // task list\n    if (fixTask(vditor, range, event)) {\n        return true;\n    }\n    // tab\n    if (fixTab(vditor, range, event)) {\n        return true;\n    }\n    var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(startContainer);\n    if (headingElement) {\n        // enter++: \n        if (matchHotKey(\"=\", event)) {\n            var headingMarkerElement = headingElement.querySelector(\".vditor-ir__marker--heading\");\n            if (headingMarkerElement && headingMarkerElement.textContent.trim().length > 1) {\n                process_processHeading(vditor, headingMarkerElement.textContent.substr(1));\n            }\n            event.preventDefault();\n            return true;\n        }\n        // enter++: \n        if (matchHotKey(\"-\", event)) {\n            var headingMarkerElement = headingElement.querySelector(\".vditor-ir__marker--heading\");\n            if (headingMarkerElement && headingMarkerElement.textContent.trim().length < 6) {\n                process_processHeading(vditor, headingMarkerElement.textContent.trim() + \"# \");\n            }\n            event.preventDefault();\n            return true;\n        }\n    }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && range.toString() === \"\") {\n        if (fixDelete(vditor, range, event, pElement)) {\n            return true;\n        }\n        if (blockElement && blockElement.previousElementSibling\n            && blockElement.tagName !== \"UL\" && blockElement.tagName !== \"OL\"\n            && (blockElement.previousElementSibling.getAttribute(\"data-type\") === \"code-block\" ||\n                blockElement.previousElementSibling.getAttribute(\"data-type\") === \"math-block\")) {\n            var rangeStart = (0,selection/* getSelectPosition */.im)(blockElement, vditor.ir.element, range).start;\n            if (rangeStart === 0 || (rangeStart === 1 && blockElement.innerText.startsWith(constants/* Constants.ZWSP */.g.ZWSP))) {\n                //  keyup \n                range.selectNodeContents(blockElement.previousElementSibling.querySelector(\".vditor-ir__marker--pre code\"));\n                range.collapse(false);\n                expandMarker(range, vditor);\n                if (blockElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                    // \n                    blockElement.remove();\n                    process_processAfterRender(vditor);\n                }\n                event.preventDefault();\n                return true;\n            }\n        }\n        // marker \n        if (headingElement) {\n            var headingLength = headingElement.firstElementChild.textContent.length;\n            if ((0,selection/* getSelectPosition */.im)(headingElement, vditor.ir.element).start === headingLength) {\n                range.setStart(headingElement.firstElementChild.firstChild, headingLength - 1);\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n        }\n    }\n    if ((event.key === \"ArrowUp\" || event.key === \"ArrowDown\") && blockElement) {\n        // https://github.com/Vanessa219/vditor/issues/358\n        blockElement.querySelectorAll(\".vditor-ir__node\").forEach(function (item) {\n            if (!item.contains(startContainer)) {\n                item.classList.add(\"vditor-ir__node--hidden\");\n            }\n        });\n        if (fixFirefoxArrowUpTable(event, blockElement, range)) {\n            return true;\n        }\n    }\n    fixCursorDownInlineMath(range, event.key);\n    if (blockElement && keydownToc(blockElement, vditor, event, range)) {\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\n\n// EXTERNAL MODULE: ./src/ts/preview/image.ts\nvar preview_image = __webpack_require__(264);\n;// CONCATENATED MODULE: ./src/ts/sv/inputEvent.ts\n\n\n\n\nvar inputEvent = function (vditor, event) {\n    var _a;\n    var range = getSelection().getRangeAt(0).cloneRange();\n    var startContainer = range.startContainer;\n    if (range.startContainer.nodeType !== 3 && range.startContainer.tagName === \"DIV\") {\n        startContainer = range.startContainer.childNodes[range.startOffset - 1];\n    }\n    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-block\", \"0\");\n    //  lute \n    if (blockElement && event && (event.inputType === \"deleteContentBackward\" || event.data === \" \")) {\n        // \n        var startOffset = (0,selection/* getSelectPosition */.im)(blockElement, vditor.sv.element, range).start;\n        var startSpace = true;\n        for (var i = startOffset - 1; \n        // \n        i > blockElement.textContent.substr(0, startOffset).lastIndexOf(\"\\n\"); i--) {\n            if (blockElement.textContent.charAt(i) !== \" \" &&\n                //  tab  https://github.com/Vanessa219/vditor/issues/162 1\n                blockElement.textContent.charAt(i) !== \"\\t\") {\n                startSpace = false;\n                break;\n            }\n        }\n        if (startOffset === 0) {\n            startSpace = false;\n        }\n        if (startSpace) {\n            processAfterRender(vditor);\n            return;\n        }\n        if (event.inputType === \"deleteContentBackward\") {\n            // https://github.com/Vanessa219/vditor/issues/584  marker \n            var codeBlockMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-open-marker\") ||\n                (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-close-marker\");\n            if (codeBlockMarkerElement) {\n                if (codeBlockMarkerElement.getAttribute(\"data-type\") === \"code-block-close-marker\") {\n                    var openMarkerElement = getSideByType(startContainer, \"code-block-open-marker\");\n                    if (openMarkerElement) {\n                        openMarkerElement.textContent = codeBlockMarkerElement.textContent;\n                        processAfterRender(vditor);\n                        return;\n                    }\n                }\n                if (codeBlockMarkerElement.getAttribute(\"data-type\") === \"code-block-open-marker\") {\n                    var openMarkerElement = getSideByType(startContainer, \"code-block-close-marker\", false);\n                    if (openMarkerElement) {\n                        openMarkerElement.textContent = codeBlockMarkerElement.textContent;\n                        processAfterRender(vditor);\n                        return;\n                    }\n                }\n            }\n            // https://github.com/Vanessa219/vditor/issues/877 \n            var mathBlockMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"math-block-open-marker\");\n            if (mathBlockMarkerElement) {\n                var mathBlockCloseElement = mathBlockMarkerElement.nextElementSibling.nextElementSibling;\n                if (mathBlockCloseElement && mathBlockCloseElement.getAttribute(\"data-type\") === \"math-block-close-marker\") {\n                    mathBlockCloseElement.remove();\n                    processAfterRender(vditor);\n                }\n                return;\n            }\n            blockElement.querySelectorAll('[data-type=\"code-block-open-marker\"]').forEach(function (item) {\n                if (item.textContent.length === 1) {\n                    item.remove();\n                }\n            });\n            blockElement.querySelectorAll('[data-type=\"code-block-close-marker\"]').forEach(function (item) {\n                if (item.textContent.length === 1) {\n                    item.remove();\n                }\n            });\n            // \n            var headingElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"heading-marker\");\n            if (headingElement && headingElement.textContent.indexOf(\"#\") === -1) {\n                processAfterRender(vditor);\n                return;\n            }\n        }\n        //  format \n        if ((event.data === \" \" || event.inputType === \"deleteContentBackward\") &&\n            ((0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"padding\") // b  [> 1. a\\n>   b]\n                || (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"li-marker\") //  [* 1\\n* ]\n                || (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"task-marker\") //  [* [ ] ]\n                || (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"blockquote-marker\") //  [> ]\n            )) {\n            processAfterRender(vditor);\n            return;\n        }\n    }\n    if (blockElement && blockElement.textContent.trimRight() === \"$$\") {\n        // \n        processAfterRender(vditor);\n        return;\n    }\n    if (!blockElement) {\n        blockElement = vditor.sv.element;\n    }\n    if (((_a = blockElement.firstElementChild) === null || _a === void 0 ? void 0 : _a.getAttribute(\"data-type\")) === \"link-ref-defs-block\") {\n        // \n        blockElement = vditor.sv.element;\n    }\n    if ((0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"footnotes-link\")) {\n        // \n        blockElement = vditor.sv.element;\n    }\n    // \n    if (blockElement.textContent.indexOf(Lute.Caret) === -1) {\n        //  Caret\n        range.insertNode(document.createTextNode(Lute.Caret));\n    }\n    // \n    blockElement.querySelectorAll(\"[style]\").forEach(function (item) {\n        item.removeAttribute(\"style\");\n    });\n    blockElement.querySelectorAll(\"font\").forEach(function (item) {\n        item.outerHTML = item.innerHTML;\n    });\n    var html = blockElement.textContent;\n    var isSVElement = blockElement.isEqualNode(vditor.sv.element);\n    if (isSVElement) {\n        html = blockElement.textContent;\n    }\n    else {\n        // \n        if (blockElement.previousElementSibling) {\n            html = blockElement.previousElementSibling.textContent + html;\n            blockElement.previousElementSibling.remove();\n        }\n        if (blockElement.previousElementSibling && html.indexOf(\"---\\n\") === 0) {\n            //  yaml-front \n            html = blockElement.previousElementSibling.textContent + html;\n            blockElement.previousElementSibling.remove();\n        }\n        // \n        vditor.sv.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item, index) {\n            if (index === 0 && item && !blockElement.isEqualNode(item.parentElement)) {\n                html += \"\\n\" + item.parentElement.textContent;\n                item.parentElement.remove();\n            }\n        });\n        // \n        vditor.sv.element.querySelectorAll(\"[data-type='footnotes-link']\").forEach(function (item, index) {\n            if (index === 0 && item && !blockElement.isEqualNode(item.parentElement)) {\n                html += \"\\n\" + item.parentElement.textContent;\n                item.parentElement.remove();\n            }\n        });\n    }\n    html = processSpinVditorSVDOM(html, vditor);\n    if (isSVElement) {\n        blockElement.innerHTML = html;\n    }\n    else {\n        blockElement.outerHTML = html;\n    }\n    var firstLinkRefDefElement;\n    var allLinkRefDefsElement = vditor.sv.element.querySelectorAll(\"[data-type='link-ref-defs-block']\");\n    allLinkRefDefsElement.forEach(function (item, index) {\n        if (index === 0) {\n            firstLinkRefDefElement = item.parentElement;\n        }\n        else {\n            firstLinkRefDefElement.lastElementChild.remove();\n            firstLinkRefDefElement.insertAdjacentHTML(\"beforeend\", \"\" + item.parentElement.innerHTML);\n            item.parentElement.remove();\n        }\n    });\n    if (allLinkRefDefsElement.length > 0) {\n        vditor.sv.element.insertAdjacentElement(\"beforeend\", firstLinkRefDefElement);\n    }\n    // \n    var firstFootnoteElement;\n    var allFootnoteElement = vditor.sv.element.querySelectorAll(\"[data-type='footnotes-link']\");\n    allFootnoteElement.forEach(function (item, index) {\n        if (index === 0) {\n            firstFootnoteElement = item.parentElement;\n        }\n        else {\n            firstFootnoteElement.lastElementChild.remove();\n            firstFootnoteElement.insertAdjacentHTML(\"beforeend\", \"\" + item.parentElement.innerHTML);\n            item.parentElement.remove();\n        }\n    });\n    if (allFootnoteElement.length > 0) {\n        vditor.sv.element.insertAdjacentElement(\"beforeend\", firstFootnoteElement);\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    scrollCenter(vditor);\n    processAfterRender(vditor, {\n        enableAddUndoStack: true,\n        enableHint: true,\n        enableInput: true,\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/sv/processKeydown.ts\n\n\n\n\n\n\n\nvar processKeydown_processKeydown = function (vditor, event) {\n    var _a, _b, _c, _d, _e;\n    vditor.sv.composingLock = event.isComposing;\n    if (event.isComposing) {\n        return false;\n    }\n    if (event.key.indexOf(\"Arrow\") === -1 && event.key !== \"Meta\" && event.key !== \"Control\" && event.key !== \"Alt\" &&\n        event.key !== \"Shift\" && event.key !== \"CapsLock\" && event.key !== \"Escape\" && !/^F\\d{1,2}$/.test(event.key)) {\n        vditor.undo.recordFirstPosition(vditor, event);\n    }\n    // \n    if (event.key !== \"Enter\" && event.key !== \"Tab\" && event.key !== \"Backspace\" && event.key.indexOf(\"Arrow\") === -1\n        && !(0,compatibility/* isCtrl */.yl)(event) && event.key !== \"Escape\") {\n        return false;\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var startContainer = range.startContainer;\n    if (range.startContainer.nodeType !== 3 && range.startContainer.tagName === \"DIV\") {\n        startContainer = range.startContainer.childNodes[range.startOffset - 1];\n    }\n    var textElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"text\");\n    // blockquote\n    var blockquoteMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"blockquote-marker\");\n    if (!blockquoteMarkerElement && range.startOffset === 0 && textElement && textElement.previousElementSibling &&\n        textElement.previousElementSibling.getAttribute(\"data-type\") === \"blockquote-marker\") {\n        blockquoteMarkerElement = textElement.previousElementSibling;\n    }\n    //  blockquote marker \n    if (blockquoteMarkerElement) {\n        if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey &&\n            blockquoteMarkerElement.nextElementSibling.textContent.trim() === \"\" &&\n            (0,selection/* getSelectPosition */.im)(blockquoteMarkerElement, vditor.sv.element, range).start ===\n                blockquoteMarkerElement.textContent.length) {\n            if (((_a = blockquoteMarkerElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.getAttribute(\"data-type\")) === \"padding\") {\n                //  BQ \n                blockquoteMarkerElement.previousElementSibling.setAttribute(\"data-action\", \"enter-remove\");\n            }\n            blockquoteMarkerElement.remove();\n            processAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // list item\n    var listMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"li-marker\");\n    var taskMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"task-marker\");\n    var listLastMarkerElement = listMarkerElement;\n    if (!listLastMarkerElement) {\n        if (taskMarkerElement && taskMarkerElement.nextElementSibling.getAttribute(\"data-type\") !== \"task-marker\") {\n            listLastMarkerElement = taskMarkerElement;\n        }\n    }\n    if (!listLastMarkerElement && range.startOffset === 0 && textElement && textElement.previousElementSibling &&\n        (textElement.previousElementSibling.getAttribute(\"data-type\") === \"li-marker\" ||\n            textElement.previousElementSibling.getAttribute(\"data-type\") === \"task-marker\")) {\n        listLastMarkerElement = textElement.previousElementSibling;\n    }\n    if (listLastMarkerElement) {\n        var startIndex = (0,selection/* getSelectPosition */.im)(listLastMarkerElement, vditor.sv.element, range).start;\n        var isTask = listLastMarkerElement.getAttribute(\"data-type\") === \"task-marker\";\n        var listFirstMarkerElement = listLastMarkerElement;\n        if (isTask) {\n            listFirstMarkerElement = listLastMarkerElement.previousElementSibling.previousElementSibling\n                .previousElementSibling;\n        }\n        if (startIndex === listLastMarkerElement.textContent.length) {\n            // \n            if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey &&\n                listLastMarkerElement.nextElementSibling.textContent.trim() === \"\") {\n                if (((_b = listFirstMarkerElement.previousElementSibling) === null || _b === void 0 ? void 0 : _b.getAttribute(\"data-type\")) === \"padding\") {\n                    listFirstMarkerElement.previousElementSibling.remove();\n                    inputEvent(vditor);\n                }\n                else {\n                    if (isTask) {\n                        listFirstMarkerElement.remove();\n                        listLastMarkerElement.previousElementSibling.previousElementSibling.remove();\n                        listLastMarkerElement.previousElementSibling.remove();\n                    }\n                    listLastMarkerElement.nextElementSibling.remove();\n                    listLastMarkerElement.remove();\n                    processAfterRender(vditor);\n                }\n                event.preventDefault();\n                return true;\n            }\n            //  marker  tab \n            if (event.key === \"Tab\") {\n                listFirstMarkerElement.insertAdjacentHTML(\"beforebegin\", \"<span data-type=\\\"padding\\\">\" + listFirstMarkerElement.textContent.replace(/\\S/g, \" \") + \"</span>\");\n                if (/^\\d/.test(listFirstMarkerElement.textContent)) {\n                    listFirstMarkerElement.textContent = listFirstMarkerElement.textContent.replace(/^\\d{1,}/, \"1\");\n                    range.selectNodeContents(listLastMarkerElement.firstChild);\n                    range.collapse(false);\n                }\n                inputEvent(vditor);\n                event.preventDefault();\n                return true;\n            }\n        }\n    }\n    // tab\n    if (fixTab(vditor, range, event)) {\n        return true;\n    }\n    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-block\", \"0\");\n    var spanElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(startContainer, \"SPAN\");\n    // \n    if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey && blockElement) {\n        var isFirst = false;\n        var newLineMatch = blockElement.textContent.match(/^\\n+/);\n        if ((0,selection/* getSelectPosition */.im)(blockElement, vditor.sv.element).start <= (newLineMatch ? newLineMatch[0].length : 0)) {\n            // \n            isFirst = true;\n        }\n        var newLineText = \"\\n\";\n        if (spanElement) {\n            if (((_c = spanElement.previousElementSibling) === null || _c === void 0 ? void 0 : _c.getAttribute(\"data-action\")) === \"enter-remove\") {\n                // https://github.com/Vanessa219/vditor/issues/596\n                spanElement.previousElementSibling.remove();\n                processAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                newLineText += processPreviousMarkers(spanElement);\n            }\n        }\n        range.insertNode(document.createTextNode(newLineText));\n        range.collapse(false);\n        if (blockElement && blockElement.textContent.trim() !== \"\" && !isFirst) {\n            inputEvent(vditor);\n        }\n        else {\n            processAfterRender(vditor);\n        }\n        event.preventDefault();\n        return true;\n    }\n    //  newline \n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey) {\n        if (spanElement && ((_d = spanElement.previousElementSibling) === null || _d === void 0 ? void 0 : _d.getAttribute(\"data-type\")) === \"newline\" &&\n            (0,selection/* getSelectPosition */.im)(spanElement, vditor.sv.element, range).start === 1 &&\n            //  inputEvent \n            spanElement.getAttribute(\"data-type\").indexOf(\"code-block-\") === -1) {\n            // \n            range.setStart(spanElement, 0);\n            range.extractContents();\n            if (spanElement.textContent.trim() !== \"\") {\n                inputEvent(vditor);\n            }\n            else {\n                processAfterRender(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        // \n        if (blockElement && (0,selection/* getSelectPosition */.im)(blockElement, vditor.sv.element, range).start === 0 &&\n            blockElement.previousElementSibling) {\n            range.extractContents();\n            var previousLastElement = blockElement.previousElementSibling.lastElementChild;\n            if (previousLastElement.getAttribute(\"data-type\") === \"newline\") {\n                previousLastElement.remove();\n                previousLastElement = blockElement.previousElementSibling.lastElementChild;\n            }\n            //  [```\\ntext\\n```\\n\\n]\n            if (previousLastElement.getAttribute(\"data-type\") !== \"newline\") {\n                previousLastElement.insertAdjacentHTML(\"afterend\", blockElement.innerHTML);\n                blockElement.remove();\n            }\n            if (blockElement.textContent.trim() !== \"\" && !((_e = blockElement.previousElementSibling) === null || _e === void 0 ? void 0 : _e.querySelector('[data-type=\"code-block-open-marker\"]'))) {\n                inputEvent(vditor);\n            }\n            else {\n                if (previousLastElement.getAttribute(\"data-type\") !== \"newline\") {\n                    // https://github.com/Vanessa219/vditor/issues/597\n                    range.selectNodeContents(previousLastElement.lastChild);\n                    range.collapse(false);\n                }\n                processAfterRender(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n    }\n    return false;\n};\n\n// EXTERNAL MODULE: ./src/ts/ui/setContentTheme.ts\nvar setContentTheme = __webpack_require__(958);\n;// CONCATENATED MODULE: ./src/ts/ui/setTheme.ts\nvar setTheme = function (vditor) {\n    if (vditor.options.theme === \"dark\") {\n        vditor.element.classList.add(\"vditor--dark\");\n    }\n    else {\n        vditor.element.classList.remove(\"vditor--dark\");\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/ui/initUI.ts\n\n\n\n\n\nvar initUI = function (vditor) {\n    vditor.element.innerHTML = \"\";\n    vditor.element.classList.add(\"vditor\");\n    setTheme(vditor);\n    (0,setContentTheme/* setContentTheme */.Z)(vditor.options.preview.theme.current, vditor.options.preview.theme.path);\n    if (typeof vditor.options.height === \"number\") {\n        vditor.element.style.height = vditor.options.height + \"px\";\n    }\n    if (typeof vditor.options.minHeight === \"number\") {\n        vditor.element.style.minHeight = vditor.options.minHeight + \"px\";\n    }\n    if (typeof vditor.options.width === \"number\") {\n        vditor.element.style.width = vditor.options.width + \"px\";\n    }\n    else {\n        vditor.element.style.width = vditor.options.width;\n    }\n    vditor.element.appendChild(vditor.toolbar.element);\n    var contentElement = document.createElement(\"div\");\n    contentElement.className = \"vditor-content\";\n    if (vditor.options.outline.position === \"left\") {\n        contentElement.appendChild(vditor.outline.element);\n    }\n    contentElement.appendChild(vditor.wysiwyg.element.parentElement);\n    contentElement.appendChild(vditor.sv.element);\n    contentElement.appendChild(vditor.ir.element.parentElement);\n    contentElement.appendChild(vditor.preview.element);\n    if (vditor.toolbar.elements.devtools) {\n        contentElement.appendChild(vditor.devtools.element);\n    }\n    if (vditor.options.outline.position === \"right\") {\n        vditor.outline.element.classList.add(\"vditor-outline--right\");\n        contentElement.appendChild(vditor.outline.element);\n    }\n    if (vditor.upload) {\n        contentElement.appendChild(vditor.upload.element);\n    }\n    if (vditor.options.resize.enable) {\n        contentElement.appendChild(vditor.resize.element);\n    }\n    contentElement.appendChild(vditor.hint.element);\n    contentElement.appendChild(vditor.tip.element);\n    vditor.element.appendChild(contentElement);\n    if (vditor.toolbar.elements.export) {\n        // for export pdf\n        vditor.element.insertAdjacentHTML(\"beforeend\", '<iframe style=\"width: 100%;height: 0;border: 0\"></iframe>');\n    }\n    setEditMode(vditor, vditor.options.mode, afterRender(vditor, contentElement));\n    document.execCommand(\"DefaultParagraphSeparator\", false, \"p\");\n    if (navigator.userAgent.indexOf(\"iPhone\") > -1 && typeof window.visualViewport !== \"undefined\") {\n        // https://github.com/Vanessa219/vditor/issues/379\n        var pendingUpdate_1 = false;\n        var viewportHandler = function (event) {\n            if (pendingUpdate_1) {\n                return;\n            }\n            pendingUpdate_1 = true;\n            requestAnimationFrame(function () {\n                pendingUpdate_1 = false;\n                var layoutViewport = vditor.toolbar.element;\n                layoutViewport.style.transform = \"none\";\n                if (layoutViewport.getBoundingClientRect().top < 0) {\n                    layoutViewport.style.transform = \"translate(0, \" + -layoutViewport.getBoundingClientRect().top + \"px)\";\n                }\n            });\n        };\n        window.visualViewport.addEventListener(\"scroll\", viewportHandler);\n        window.visualViewport.addEventListener(\"resize\", viewportHandler);\n    }\n};\nvar setPadding = function (vditor) {\n    var minPadding = window.innerWidth <= constants/* Constants.MOBILE_WIDTH */.g.MOBILE_WIDTH ? 10 : 35;\n    if (vditor.wysiwyg.element.parentElement.style.display !== \"none\") {\n        var padding = (vditor.wysiwyg.element.parentElement.clientWidth\n            - vditor.options.preview.maxWidth) / 2;\n        vditor.wysiwyg.element.style.padding = \"10px \" + Math.max(minPadding, padding) + \"px\";\n    }\n    if (vditor.ir.element.parentElement.style.display !== \"none\") {\n        var padding = (vditor.ir.element.parentElement.clientWidth\n            - vditor.options.preview.maxWidth) / 2;\n        vditor.ir.element.style.padding = \"10px \" + Math.max(minPadding, padding) + \"px\";\n    }\n    if (vditor.preview.element.style.display !== \"block\" || vditor.currentMode === \"sv\") {\n        vditor.toolbar.element.style.paddingLeft = Math.max(5, parseInt(vditor[vditor.currentMode].element.style.paddingLeft || \"0\", 10) +\n            (vditor.options.outline.position === \"left\" ? vditor.outline.element.offsetWidth : 0)) + \"px\";\n    }\n};\nvar setTypewriterPosition = function (vditor) {\n    if (!vditor.options.typewriterMode) {\n        return;\n    }\n    var height = window.innerHeight;\n    if (typeof vditor.options.height === \"number\") {\n        height = vditor.options.height;\n        if (typeof vditor.options.minHeight === \"number\") {\n            height = Math.max(height, vditor.options.minHeight);\n        }\n        height = Math.min(window.innerHeight, height);\n    }\n    if (vditor.element.classList.contains(\"vditor--fullscreen\")) {\n        height = window.innerHeight;\n    }\n    //  Firefox padding-bottom bug :after\n    vditor[vditor.currentMode].element.style.setProperty(\"--editor-bottom\", ((height - vditor.toolbar.element.offsetHeight) / 2) + \"px\");\n};\nvar afterRender = function (vditor, contentElement) {\n    setTypewriterPosition(vditor);\n    window.addEventListener(\"resize\", function () {\n        setPadding(vditor);\n        setTypewriterPosition(vditor);\n    });\n    // set default value\n    var initValue = (0,compatibility/* accessLocalStorage */.pK)() && localStorage.getItem(vditor.options.cache.id);\n    if (!vditor.options.cache.enable || !initValue) {\n        if (vditor.options.value) {\n            initValue = vditor.options.value;\n        }\n        else if (vditor.originalInnerHTML) {\n            initValue = vditor.lute.HTML2Md(vditor.originalInnerHTML);\n        }\n        else if (!vditor.options.cache.enable) {\n            initValue = \"\";\n        }\n    }\n    return initValue || \"\";\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/highlightToolbarIR.ts\n\n\n\n\n\nvar highlightToolbarIR = function (vditor) {\n    clearTimeout(vditor[vditor.currentMode].hlToolbarTimeoutId);\n    vditor[vditor.currentMode].hlToolbarTimeoutId = window.setTimeout(function () {\n        if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        if (!(0,selection/* selectIsEditor */.Gb)(vditor[vditor.currentMode].element)) {\n            return;\n        }\n        removeCurrentToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        enableToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        var range = (0,selection/* getEditorRange */.zh)(vditor);\n        var typeElement = range.startContainer;\n        if (range.startContainer.nodeType === 3) {\n            typeElement = range.startContainer.parentElement;\n        }\n        if (typeElement.classList.contains(\"vditor-reset\")) {\n            typeElement = typeElement.childNodes[range.startOffset];\n        }\n        var headingElement = vditor.currentMode === \"sv\" ?\n            (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"heading\") : (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(typeElement);\n        if (headingElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"headings\"]);\n        }\n        var quoteElement = vditor.currentMode === \"sv\" ? (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"blockquote\") :\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"BLOCKQUOTE\");\n        if (quoteElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"quote\"]);\n        }\n        var strongElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"strong\");\n        if (strongElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"bold\"]);\n        }\n        var emElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"em\");\n        if (emElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"italic\"]);\n        }\n        var sElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"s\");\n        if (sElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"strike\"]);\n        }\n        var aElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"a\");\n        if (aElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"link\"]);\n        }\n        var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"LI\");\n        if (liElement) {\n            if (liElement.classList.contains(\"vditor-task\")) {\n                setCurrentToolbar(vditor.toolbar.elements, [\"check\"]);\n            }\n            else if (liElement.parentElement.tagName === \"OL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"ordered-list\"]);\n            }\n            else if (liElement.parentElement.tagName === \"UL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"list\"]);\n            }\n            enableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        var codeBlockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"code-block\");\n        if (codeBlockElement) {\n            disableToolbar(vditor.toolbar.elements, [\"headings\", \"bold\", \"italic\", \"strike\", \"line\", \"quote\",\n                \"list\", \"ordered-list\", \"check\", \"code\", \"inline-code\", \"upload\", \"link\", \"table\", \"record\"]);\n            setCurrentToolbar(vditor.toolbar.elements, [\"code\"]);\n        }\n        var codeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"code\");\n        if (codeElement) {\n            disableToolbar(vditor.toolbar.elements, [\"headings\", \"bold\", \"italic\", \"strike\", \"line\", \"quote\",\n                \"list\", \"ordered-list\", \"check\", \"code\", \"upload\", \"link\", \"table\", \"record\"]);\n            setCurrentToolbar(vditor.toolbar.elements, [\"inline-code\"]);\n        }\n        var tableElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"table\");\n        if (tableElement) {\n            disableToolbar(vditor.toolbar.elements, [\"headings\", \"list\", \"ordered-list\", \"check\", \"line\",\n                \"quote\", \"code\", \"table\"]);\n        }\n    }, 200);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/afterRenderEvent.ts\n\n\nvar afterRenderEvent = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (options.enableHint) {\n        vditor.hint.render(vditor);\n    }\n    clearTimeout(vditor.wysiwyg.afterRenderTimeoutId);\n    vditor.wysiwyg.afterRenderTimeoutId = window.setTimeout(function () {\n        if (vditor.wysiwyg.composingLock) {\n            return;\n        }\n        var text = getMarkdown(vditor);\n        if (typeof vditor.options.input === \"function\" && options.enableInput) {\n            vditor.options.input(text);\n        }\n        if (vditor.options.counter.enable) {\n            vditor.counter.render(vditor, text);\n        }\n        if (vditor.options.cache.enable && (0,compatibility/* accessLocalStorage */.pK)()) {\n            localStorage.setItem(vditor.options.cache.id, text);\n            if (vditor.options.cache.after) {\n                vditor.options.cache.after(text);\n            }\n        }\n        if (vditor.devtools) {\n            vditor.devtools.renderEchart(vditor);\n        }\n        if (options.enableAddUndoStack) {\n            vditor.undo.addToUndoStack(vditor);\n        }\n    }, vditor.options.undoDelay);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/inlineTag.ts\n\n\nvar previoueIsEmptyA = function (node) {\n    var previousNode = node.previousSibling;\n    while (previousNode) {\n        if (previousNode.nodeType !== 3 && previousNode.tagName === \"A\" && !previousNode.previousSibling\n            && previousNode.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && previousNode.nextSibling) {\n            return previousNode;\n        }\n        previousNode = previousNode.previousSibling;\n    }\n    return false;\n};\nvar nextIsCode = function (range) {\n    var nextNode = range.startContainer.nextSibling;\n    while (nextNode && nextNode.textContent === \"\") {\n        nextNode = nextNode.nextSibling;\n    }\n    if (nextNode && nextNode.nodeType !== 3 && (nextNode.tagName === \"CODE\" ||\n        nextNode.getAttribute(\"data-type\") === \"math-inline\" ||\n        nextNode.getAttribute(\"data-type\") === \"html-entity\" ||\n        nextNode.getAttribute(\"data-type\") === \"html-inline\")) {\n        return true;\n    }\n    return false;\n};\nvar getNextHTML = function (node) {\n    var html = \"\";\n    var nextNode = node.nextSibling;\n    while (nextNode) {\n        if (nextNode.nodeType === 3) {\n            html += nextNode.textContent;\n        }\n        else {\n            html += nextNode.outerHTML;\n        }\n        nextNode = nextNode.nextSibling;\n    }\n    return html;\n};\nvar getPreviousHTML = function (node) {\n    var html = \"\";\n    var previousNode = node.previousSibling;\n    while (previousNode) {\n        if (previousNode.nodeType === 3) {\n            html = previousNode.textContent + html;\n        }\n        else {\n            html = previousNode.outerHTML + html;\n        }\n        previousNode = previousNode.previousSibling;\n    }\n    return html;\n};\nvar getRenderElementNextNode = function (blockCodeElement) {\n    var nextNode = blockCodeElement;\n    while (nextNode && !nextNode.nextSibling) {\n        nextNode = nextNode.parentElement;\n    }\n    return nextNode.nextSibling;\n};\nvar splitElement = function (range) {\n    var previousHTML = getPreviousHTML(range.startContainer);\n    var nextHTML = getNextHTML(range.startContainer);\n    var text = range.startContainer.textContent;\n    var offset = range.startOffset;\n    var beforeHTML = \"\";\n    var afterHTML = \"\";\n    if (text.substr(0, offset) !== \"\" && text.substr(0, offset) !== constants/* Constants.ZWSP */.g.ZWSP || previousHTML) {\n        beforeHTML = \"\" + previousHTML + text.substr(0, offset);\n    }\n    if (text.substr(offset) !== \"\" && text.substr(offset) !== constants/* Constants.ZWSP */.g.ZWSP || nextHTML) {\n        afterHTML = \"\" + text.substr(offset) + nextHTML;\n    }\n    return {\n        afterHTML: afterHTML,\n        beforeHTML: beforeHTML,\n    };\n};\nvar modifyPre = function (vditor, range) {\n    // \n    Array.from(vditor.wysiwyg.element.childNodes).find(function (node) {\n        if (node.nodeType === 3) {\n            var pElement = document.createElement(\"p\");\n            pElement.setAttribute(\"data-block\", \"0\");\n            pElement.textContent = node.textContent;\n            //  tab  tab = '    ' range.startContainer  node\n            var cloneRangeOffset = range.startContainer.nodeType === 3 ? range.startOffset : node.textContent.length;\n            node.parentNode.insertBefore(pElement, node);\n            node.remove();\n            range.setStart(pElement.firstChild, Math.min(pElement.firstChild.textContent.length, cloneRangeOffset));\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            return true;\n        }\n        else if (!node.getAttribute(\"data-block\")) {\n            if (node.tagName === \"P\") {\n                node.remove();\n            }\n            else {\n                if (node.tagName === \"DIV\") {\n                    range.insertNode(document.createElement(\"wbr\"));\n                    // firefox  div\n                    node.outerHTML = \"<p data-block=\\\"0\\\">\" + node.innerHTML + \"</p>\";\n                }\n                else {\n                    if (node.tagName === \"BR\") {\n                        // firefox  BR\n                        node.outerHTML = \"<p data-block=\\\"0\\\">\" + node.outerHTML + \"<wbr></p>\";\n                    }\n                    else {\n                        range.insertNode(document.createElement(\"wbr\"));\n                        node.outerHTML = \"<p data-block=\\\"0\\\">\" + node.outerHTML + \"</p>\";\n                    }\n                }\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n                range = getSelection().getRangeAt(0);\n            }\n            return true;\n        }\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/setHeading.ts\n\n\n\nvar setHeading = function (vditor, tagName) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (!blockElement) {\n        blockElement = range.startContainer.childNodes[range.startOffset];\n    }\n    if (!blockElement && vditor.wysiwyg.element.children.length === 0) {\n        blockElement = vditor.wysiwyg.element;\n    }\n    if (blockElement && !blockElement.classList.contains(\"vditor-wysiwyg__block\")) {\n        range.insertNode(document.createElement(\"wbr\"));\n        // Firefox  trim https://github.com/Vanessa219/vditor/issues/207\n        if (blockElement.innerHTML.trim() === \"<wbr>\") {\n            // Firefox  https://github.com/Vanessa219/vditor/issues/199 1\n            blockElement.innerHTML = \"<wbr><br>\";\n        }\n        if (blockElement.tagName === \"BLOCKQUOTE\" || blockElement.classList.contains(\"vditor-reset\")) {\n            blockElement.innerHTML = \"<\" + tagName + \" data-block=\\\"0\\\">\" + blockElement.innerHTML.trim() + \"</\" + tagName + \">\";\n        }\n        else {\n            blockElement.outerHTML = \"<\" + tagName + \" data-block=\\\"0\\\">\" + blockElement.innerHTML.trim() + \"</\" + tagName + \">\";\n        }\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        renderToc(vditor);\n    }\n};\nvar removeHeading = function (vditor) {\n    var range = getSelection().getRangeAt(0);\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (!blockElement) {\n        blockElement = range.startContainer.childNodes[range.startOffset];\n    }\n    if (blockElement) {\n        range.insertNode(document.createElement(\"wbr\"));\n        blockElement.outerHTML = \"<p data-block=\\\"0\\\">\" + blockElement.innerHTML + \"</p>\";\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n    }\n    vditor.wysiwyg.popover.style.display = \"none\";\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/showCode.ts\n\n\nvar showCode = function (previewElement, vditor, first) {\n    if (first === void 0) { first = true; }\n    var previousElement = previewElement.previousElementSibling;\n    var range = previousElement.ownerDocument.createRange();\n    if (previousElement.tagName === \"CODE\") {\n        previousElement.style.display = \"inline-block\";\n        if (first) {\n            range.setStart(previousElement.firstChild, 1);\n        }\n        else {\n            range.selectNodeContents(previousElement);\n        }\n    }\n    else {\n        previousElement.style.display = \"block\";\n        if (!previousElement.firstChild.firstChild) {\n            previousElement.firstChild.appendChild(document.createTextNode(\"\"));\n        }\n        range.selectNodeContents(previousElement.firstChild);\n    }\n    if (first) {\n        range.collapse(true);\n    }\n    else {\n        range.collapse(false);\n    }\n    (0,selection/* setSelectionFocus */.Hc)(range);\n    if (previewElement.firstElementChild.classList.contains(\"language-mindmap\")) {\n        return;\n    }\n    scrollCenter(vditor);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/processKeydown.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar wysiwyg_processKeydown_processKeydown = function (vditor, event) {\n    // Chrome firefox  compositionend  https://github.com/Vanessa219/vditor/issues/188\n    vditor.wysiwyg.composingLock = event.isComposing;\n    if (event.isComposing) {\n        return false;\n    }\n    //  undo \n    if (event.key.indexOf(\"Arrow\") === -1 && event.key !== \"Meta\" && event.key !== \"Control\" && event.key !== \"Alt\" &&\n        event.key !== \"Shift\" && event.key !== \"CapsLock\" && event.key !== \"Escape\" && !/^F\\d{1,2}$/.test(event.key)) {\n        vditor.undo.recordFirstPosition(vditor, event);\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var startContainer = range.startContainer;\n    if (!fixGSKeyBackspace(event, vditor, startContainer)) {\n        return false;\n    }\n    fixCJKPosition(range, vditor, event);\n    fixHR(range);\n    // \n    if (event.key !== \"Enter\" && event.key !== \"Tab\" && event.key !== \"Backspace\" && event.key.indexOf(\"Arrow\") === -1\n        && !(0,compatibility/* isCtrl */.yl)(event) && event.key !== \"Escape\" && event.key !== \"Delete\") {\n        return false;\n    }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n    var pElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"P\");\n    // md \n    if (fixMarkdown(event, vditor, pElement, range)) {\n        return true;\n    }\n    // li\n    if (fixList(range, vditor, pElement, event)) {\n        return true;\n    }\n    // table\n    if (fixTable(vditor, event, range)) {\n        return true;\n    }\n    // code render\n    var codeRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-wysiwyg__block\");\n    if (codeRenderElement) {\n        // esc: \n        if (event.key === \"Escape\" && codeRenderElement.children.length === 2) {\n            vditor.wysiwyg.popover.style.display = \"none\";\n            codeRenderElement.firstElementChild.style.display = \"none\";\n            vditor.wysiwyg.element.blur();\n            event.preventDefault();\n            return true;\n        }\n        // alt+enter:  https://github.com/Vanessa219/vditor/issues/54\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && event.altKey && event.key === \"Enter\" &&\n            codeRenderElement.getAttribute(\"data-type\") === \"code-block\") {\n            var inputElemment = vditor.wysiwyg.popover.querySelector(\".vditor-input\");\n            inputElemment.focus();\n            inputElemment.select();\n            event.preventDefault();\n            return true;\n        }\n        if (codeRenderElement.getAttribute(\"data-block\") === \"0\") {\n            if (fixCodeBlock(vditor, event, codeRenderElement.firstElementChild, range)) {\n                return true;\n            }\n            if (insertAfterBlock(vditor, event, range, codeRenderElement.firstElementChild, codeRenderElement)) {\n                return true;\n            }\n            if (codeRenderElement.getAttribute(\"data-type\") !== \"yaml-front-matter\" &&\n                insertBeforeBlock(vditor, event, range, codeRenderElement.firstElementChild, codeRenderElement)) {\n                return true;\n            }\n        }\n    }\n    // blockquote\n    if (fixBlockquote(vditor, range, event, pElement)) {\n        return true;\n    }\n    //  blockquote\n    var topBQElement = (0,hasClosest/* hasTopClosestByTag */.E2)(startContainer, \"BLOCKQUOTE\");\n    if (topBQElement) {\n        if (!event.shiftKey && event.altKey && event.key === \"Enter\") {\n            if (!(0,compatibility/* isCtrl */.yl)(event)) {\n                // alt+enter:  blockquote  https://github.com/Vanessa219/vditor/issues/51\n                range.setStartAfter(topBQElement);\n            }\n            else {\n                // ctrl+alt+enter:  blockquote \n                range.setStartBefore(topBQElement);\n            }\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            var node = document.createElement(\"p\");\n            node.setAttribute(\"data-block\", \"0\");\n            node.innerHTML = \"\\n\";\n            range.insertNode(node);\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            afterRenderEvent(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // h1-h6\n    var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(startContainer);\n    if (headingElement) {\n        if (headingElement.tagName === \"H6\" && startContainer.textContent.length === range.startOffset &&\n            !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Enter\") {\n            // enter: H6  https://github.com/Vanessa219/vditor/issues/48\n            var pTempElement = document.createElement(\"p\");\n            pTempElement.textContent = \"\\n\";\n            pTempElement.setAttribute(\"data-block\", \"0\");\n            startContainer.parentElement.insertAdjacentElement(\"afterend\", pTempElement);\n            range.setStart(pTempElement, 0);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            afterRenderEvent(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // enter++: \n        if (matchHotKey(\"=\", event)) {\n            var index = parseInt(headingElement.tagName.substr(1), 10) - 1;\n            if (index > 0) {\n                setHeading(vditor, \"h\" + index);\n                afterRenderEvent(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        // enter++: \n        if (matchHotKey(\"-\", event)) {\n            var index = parseInt(headingElement.tagName.substr(1), 10) + 1;\n            if (index < 7) {\n                setHeading(vditor, \"h\" + index);\n                afterRenderEvent(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey\n            && headingElement.textContent.length === 1) {\n            // \n            removeHeading(vditor);\n        }\n    }\n    // task list\n    if (fixTask(vditor, range, event)) {\n        return true;\n    }\n    // alt+enter\n    if (event.altKey && event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey) {\n        // \n        var aElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"A\");\n        var linRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"link-ref\");\n        var footnoteRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"footnotes-ref\");\n        if (aElement || linRefElement || footnoteRefElement ||\n            (headingElement && headingElement.tagName.length === 2)) {\n            var inputElement = vditor.wysiwyg.popover.querySelector(\"input\");\n            inputElement.focus();\n            inputElement.select();\n        }\n    }\n    // \n    if (removeBlockElement(vditor, event)) {\n        return true;\n    }\n    // \n    if (matchHotKey(\"U\", event)) {\n        var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"up\"]');\n        if (itemElement) {\n            itemElement.click();\n            event.preventDefault();\n            return true;\n        }\n    }\n    // \n    if (matchHotKey(\"D\", event)) {\n        var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"down\"]');\n        if (itemElement) {\n            itemElement.click();\n            event.preventDefault();\n            return true;\n        }\n    }\n    if (fixTab(vditor, range, event)) {\n        return true;\n    }\n    // shift+enter table/hr/heading cell block render li & p \n    if (!(0,compatibility/* isCtrl */.yl)(event) && event.shiftKey && !event.altKey && event.key === \"Enter\" &&\n        startContainer.parentElement.tagName !== \"LI\" && startContainer.parentElement.tagName !== \"P\") {\n        if ([\"STRONG\", \"STRIKE\", \"S\", \"I\", \"EM\", \"B\"].includes(startContainer.parentElement.tagName)) {\n            //  https://github.com/Vanessa219/vditor/issues/170\n            range.insertNode(document.createTextNode(\"\\n\" + constants/* Constants.ZWSP */.g.ZWSP));\n        }\n        else {\n            range.insertNode(document.createTextNode(\"\\n\"));\n        }\n        range.collapse(false);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        afterRenderEvent(vditor);\n        scrollCenter(vditor);\n        event.preventDefault();\n        return true;\n    }\n    // \n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && range.toString() === \"\") {\n        if (fixDelete(vditor, range, event, pElement)) {\n            return true;\n        }\n        if (blockElement) {\n            if (blockElement.previousElementSibling\n                && blockElement.previousElementSibling.classList.contains(\"vditor-wysiwyg__block\")\n                && blockElement.previousElementSibling.getAttribute(\"data-block\") === \"0\"\n                // https://github.com/Vanessa219/vditor/issues/946\n                && blockElement.tagName !== \"UL\" && blockElement.tagName !== \"OL\") {\n                var rangeStart = (0,selection/* getSelectPosition */.im)(blockElement, vditor.wysiwyg.element, range).start;\n                if ((rangeStart === 0 && range.startOffset === 0) || // https://github.com/Vanessa219/vditor/issues/894\n                    (rangeStart === 1 && blockElement.innerText.startsWith(constants/* Constants.ZWSP */.g.ZWSP))) {\n                    //  keyup \n                    showCode(blockElement.previousElementSibling.lastElementChild, vditor, false);\n                    if (blockElement.innerHTML.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                        // \n                        blockElement.remove();\n                        afterRenderEvent(vditor);\n                    }\n                    event.preventDefault();\n                    return true;\n                }\n            }\n            var rangeStartOffset = range.startOffset;\n            if (range.toString() === \"\" && startContainer.nodeType === 3 &&\n                startContainer.textContent.charAt(rangeStartOffset - 2) === \"\\n\" &&\n                startContainer.textContent.charAt(rangeStartOffset - 1) !== constants/* Constants.ZWSP */.g.ZWSP\n                && [\"STRONG\", \"STRIKE\", \"S\", \"I\", \"EM\", \"B\"].includes(startContainer.parentElement.tagName)) {\n                // \n                startContainer.textContent = startContainer.textContent.substring(0, rangeStartOffset - 1) +\n                    constants/* Constants.ZWSP */.g.ZWSP;\n                range.setStart(startContainer, rangeStartOffset);\n                range.collapse(true);\n                afterRenderEvent(vditor);\n                event.preventDefault();\n                return true;\n            }\n            // inline codemathhtml \n            if (startContainer.textContent === constants/* Constants.ZWSP */.g.ZWSP && range.startOffset === 1\n                && !startContainer.previousSibling && nextIsCode(range)) {\n                startContainer.textContent = \"\";\n                //  inline math/html  code \n            }\n            //  inline math/html, html-entity  code , \n            blockElement.querySelectorAll(\"span.vditor-wysiwyg__block[data-type='math-inline']\").forEach(function (item) {\n                item.firstElementChild.style.display = \"inline\";\n                item.lastElementChild.style.display = \"none\";\n            });\n            blockElement.querySelectorAll(\"span.vditor-wysiwyg__block[data-type='html-entity']\").forEach(function (item) {\n                item.firstElementChild.style.display = \"inline\";\n                item.lastElementChild.style.display = \"none\";\n            });\n        }\n    }\n    if ((0,compatibility/* isFirefox */.vU)() && range.startOffset === 1 && startContainer.textContent.indexOf(constants/* Constants.ZWSP */.g.ZWSP) > -1 &&\n        startContainer.previousSibling && startContainer.previousSibling.nodeType !== 3 &&\n        startContainer.previousSibling.tagName === \"CODE\" &&\n        (event.key === \"Backspace\" || event.key === \"ArrowLeft\")) {\n        // https://github.com/Vanessa219/vditor/issues/410\n        range.selectNodeContents(startContainer.previousSibling);\n        range.collapse(false);\n        event.preventDefault();\n        return true;\n    }\n    if (fixFirefoxArrowUpTable(event, blockElement, range)) {\n        event.preventDefault();\n        return true;\n    }\n    fixCursorDownInlineMath(range, event.key);\n    if (event.key === \"ArrowDown\") {\n        // \n        var nextElement = startContainer.nextSibling;\n        if (nextElement && nextElement.nodeType !== 3 && nextElement.getAttribute(\"data-type\") === \"math-inline\") {\n            range.setStartAfter(nextElement);\n        }\n    }\n    if (blockElement && keydownToc(blockElement, vditor, event, range)) {\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar removeBlockElement = function (vditor, event) {\n    // \n    if (matchHotKey(\"X\", event)) {\n        var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"remove\"]');\n        if (itemElement) {\n            itemElement.click();\n            event.preventDefault();\n            return true;\n        }\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/highlightToolbarWYSIWYG.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar highlightToolbarWYSIWYG = function (vditor) {\n    clearTimeout(vditor.wysiwyg.hlToolbarTimeoutId);\n    vditor.wysiwyg.hlToolbarTimeoutId = window.setTimeout(function () {\n        if (vditor.wysiwyg.element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        if (!(0,selection/* selectIsEditor */.Gb)(vditor.wysiwyg.element)) {\n            return;\n        }\n        removeCurrentToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        enableToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        var range = getSelection().getRangeAt(0);\n        var typeElement = range.startContainer;\n        if (range.startContainer.nodeType === 3) {\n            typeElement = range.startContainer.parentElement;\n        }\n        else {\n            typeElement = typeElement.childNodes[range.startOffset >= typeElement.childNodes.length\n                ? typeElement.childNodes.length - 1\n                : range.startOffset];\n        }\n        var footnotesElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"footnotes-block\");\n        if (footnotesElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genClose(footnotesElement, vditor);\n            setPopoverPosition(vditor, footnotesElement);\n            return;\n        }\n        // \n        var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"LI\");\n        if (liElement) {\n            if (liElement.classList.contains(\"vditor-task\")) {\n                setCurrentToolbar(vditor.toolbar.elements, [\"check\"]);\n            }\n            else if (liElement.parentElement.tagName === \"OL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"ordered-list\"]);\n            }\n            else if (liElement.parentElement.tagName === \"UL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"list\"]);\n            }\n            enableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"BLOCKQUOTE\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"quote\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"B\") ||\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"STRONG\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"bold\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"I\") ||\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"EM\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"italic\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"STRIKE\") ||\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"S\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"strike\"]);\n        }\n        // comments\n        vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-comment--focus\")\n            .forEach(function (item) {\n            item.classList.remove(\"vditor-comment--focus\");\n        });\n        var commentElement = (0,hasClosest/* hasClosestByClassName */.fb)(typeElement, \"vditor-comment\");\n        if (commentElement) {\n            var ids_1 = commentElement.getAttribute(\"data-cmtids\").split(\" \");\n            if (ids_1.length > 1 && commentElement.nextSibling.isSameNode(commentElement.nextElementSibling)) {\n                var nextIds_1 = commentElement.nextElementSibling\n                    .getAttribute(\"data-cmtids\")\n                    .split(\" \");\n                ids_1.find(function (id) {\n                    if (nextIds_1.includes(id)) {\n                        ids_1 = [id];\n                        return true;\n                    }\n                });\n            }\n            vditor.wysiwyg.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                if (item.getAttribute(\"data-cmtids\").indexOf(ids_1[0]) > -1) {\n                    item.classList.add(\"vditor-comment--focus\");\n                }\n            });\n        }\n        var aElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"A\");\n        if (aElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"link\"]);\n        }\n        var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"TABLE\");\n        var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(typeElement);\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"CODE\")) {\n            if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"PRE\")) {\n                disableToolbar(vditor.toolbar.elements, [\n                    \"headings\",\n                    \"bold\",\n                    \"italic\",\n                    \"strike\",\n                    \"line\",\n                    \"quote\",\n                    \"list\",\n                    \"ordered-list\",\n                    \"check\",\n                    \"code\",\n                    \"inline-code\",\n                    \"upload\",\n                    \"link\",\n                    \"table\",\n                    \"record\",\n                ]);\n                setCurrentToolbar(vditor.toolbar.elements, [\"code\"]);\n            }\n            else {\n                disableToolbar(vditor.toolbar.elements, [\n                    \"headings\",\n                    \"bold\",\n                    \"italic\",\n                    \"strike\",\n                    \"line\",\n                    \"quote\",\n                    \"list\",\n                    \"ordered-list\",\n                    \"check\",\n                    \"code\",\n                    \"upload\",\n                    \"link\",\n                    \"table\",\n                    \"record\",\n                ]);\n                setCurrentToolbar(vditor.toolbar.elements, [\"inline-code\"]);\n            }\n        }\n        else if (headingElement) {\n            disableToolbar(vditor.toolbar.elements, [\"bold\"]);\n            setCurrentToolbar(vditor.toolbar.elements, [\"headings\"]);\n        }\n        else if (tableElement) {\n            disableToolbar(vditor.toolbar.elements, [\"table\"]);\n        }\n        // toc popover\n        var tocElement = (0,hasClosest/* hasClosestByClassName */.fb)(typeElement, \"vditor-toc\");\n        if (tocElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genClose(tocElement, vditor);\n            setPopoverPosition(vditor, tocElement);\n            return;\n        }\n        // quote popover\n        var blockquoteElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(typeElement, \"BLOCKQUOTE\");\n        if (blockquoteElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genUp(range, blockquoteElement, vditor);\n            genDown(range, blockquoteElement, vditor);\n            genClose(blockquoteElement, vditor);\n            setPopoverPosition(vditor, blockquoteElement);\n        }\n        // list item popover\n        if (liElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genUp(range, liElement, vditor);\n            genDown(range, liElement, vditor);\n            genClose(liElement, vditor);\n            setPopoverPosition(vditor, liElement);\n        }\n        // table popover\n        if (tableElement) {\n            var lang = vditor.options.lang;\n            var options = vditor.options;\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            var updateTable_1 = function () {\n                var oldRow = tableElement.rows.length;\n                var oldColumn = tableElement.rows[0].cells.length;\n                var row = parseInt(input_1.value, 10) || oldRow;\n                var column = parseInt(input2_1.value, 10) || oldColumn;\n                if (row === oldRow && oldColumn === column) {\n                    return;\n                }\n                if (oldColumn !== column) {\n                    var columnDiff = column - oldColumn;\n                    for (var i = 0; i < tableElement.rows.length; i++) {\n                        if (columnDiff > 0) {\n                            for (var j = 0; j < columnDiff; j++) {\n                                if (i === 0) {\n                                    tableElement.rows[i].lastElementChild.insertAdjacentHTML(\"afterend\", \"<th> </th>\");\n                                }\n                                else {\n                                    tableElement.rows[i].lastElementChild.insertAdjacentHTML(\"afterend\", \"<td> </td>\");\n                                }\n                            }\n                        }\n                        else {\n                            for (var k = oldColumn - 1; k >= column; k--) {\n                                tableElement.rows[i].cells[k].remove();\n                            }\n                        }\n                    }\n                }\n                if (oldRow !== row) {\n                    var rowDiff = row - oldRow;\n                    if (rowDiff > 0) {\n                        var rowHTML = \"<tr>\";\n                        for (var m = 0; m < column; m++) {\n                            rowHTML += \"<td> </td>\";\n                        }\n                        for (var l = 0; l < rowDiff; l++) {\n                            if (tableElement.querySelector(\"tbody\")) {\n                                tableElement\n                                    .querySelector(\"tbody\")\n                                    .insertAdjacentHTML(\"beforeend\", rowHTML);\n                            }\n                            else {\n                                tableElement\n                                    .querySelector(\"thead\")\n                                    .insertAdjacentHTML(\"afterend\", rowHTML + \"</tr>\");\n                            }\n                        }\n                    }\n                    else {\n                        for (var m = oldRow - 1; m >= row; m--) {\n                            tableElement.rows[m].remove();\n                            if (tableElement.rows.length === 1) {\n                                tableElement.querySelector(\"tbody\").remove();\n                            }\n                        }\n                    }\n                }\n            };\n            var setAlign_1 = function (type) {\n                setTableAlign(tableElement, type);\n                if (type === \"right\") {\n                    left_1.classList.remove(\"vditor-icon--current\");\n                    center_1.classList.remove(\"vditor-icon--current\");\n                    right_1.classList.add(\"vditor-icon--current\");\n                }\n                else if (type === \"center\") {\n                    left_1.classList.remove(\"vditor-icon--current\");\n                    right_1.classList.remove(\"vditor-icon--current\");\n                    center_1.classList.add(\"vditor-icon--current\");\n                }\n                else {\n                    center_1.classList.remove(\"vditor-icon--current\");\n                    right_1.classList.remove(\"vditor-icon--current\");\n                    left_1.classList.add(\"vditor-icon--current\");\n                }\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                afterRenderEvent(vditor);\n            };\n            var td = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"TD\");\n            var th = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"TH\");\n            var alignType = \"left\";\n            if (td) {\n                alignType = td.getAttribute(\"align\") || \"left\";\n            }\n            else if (th) {\n                alignType = th.getAttribute(\"align\") || \"center\";\n            }\n            var left_1 = document.createElement(\"button\");\n            left_1.setAttribute(\"type\", \"button\");\n            left_1.setAttribute(\"aria-label\", window.VditorI18n.alignLeft + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"L\") + \">\");\n            left_1.setAttribute(\"data-type\", \"left\");\n            left_1.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-align-left\"></use></svg>';\n            left_1.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\" +\n                    (alignType === \"left\" ? \" vditor-icon--current\" : \"\");\n            left_1.onclick = function () {\n                setAlign_1(\"left\");\n            };\n            var center_1 = document.createElement(\"button\");\n            center_1.setAttribute(\"type\", \"button\");\n            center_1.setAttribute(\"aria-label\", window.VditorI18n.alignCenter + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"C\") + \">\");\n            center_1.setAttribute(\"data-type\", \"center\");\n            center_1.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-align-center\"></use></svg>';\n            center_1.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\" +\n                    (alignType === \"center\" ? \" vditor-icon--current\" : \"\");\n            center_1.onclick = function () {\n                setAlign_1(\"center\");\n            };\n            var right_1 = document.createElement(\"button\");\n            right_1.setAttribute(\"type\", \"button\");\n            right_1.setAttribute(\"aria-label\", window.VditorI18n.alignRight + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"R\") + \">\");\n            right_1.setAttribute(\"data-type\", \"right\");\n            right_1.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-align-right\"></use></svg>';\n            right_1.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\" +\n                    (alignType === \"right\" ? \" vditor-icon--current\" : \"\");\n            right_1.onclick = function () {\n                setAlign_1(\"right\");\n            };\n            var insertRowElement = document.createElement(\"button\");\n            insertRowElement.setAttribute(\"type\", \"button\");\n            insertRowElement.setAttribute(\"aria-label\", window.VditorI18n.insertRowBelow + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"=\") + \">\");\n            insertRowElement.setAttribute(\"data-type\", \"insertRow\");\n            insertRowElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-row\"></use></svg>';\n            insertRowElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertRowElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertRow(vditor, range, cellElement);\n                }\n            };\n            var insertRowBElement = document.createElement(\"button\");\n            insertRowBElement.setAttribute(\"type\", \"button\");\n            insertRowBElement.setAttribute(\"aria-label\", window.VditorI18n.insertRowAbove + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"F\") + \">\");\n            insertRowBElement.setAttribute(\"data-type\", \"insertRow\");\n            insertRowBElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-rowb\"></use></svg>';\n            insertRowBElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertRowBElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertRowAbove(vditor, range, cellElement);\n                }\n            };\n            var insertColumnElement = document.createElement(\"button\");\n            insertColumnElement.setAttribute(\"type\", \"button\");\n            insertColumnElement.setAttribute(\"aria-label\", window.VditorI18n.insertColumnRight + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"=\") + \">\");\n            insertColumnElement.setAttribute(\"data-type\", \"insertColumn\");\n            insertColumnElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-column\"></use></svg>';\n            insertColumnElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertColumnElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertColumn(vditor, tableElement, cellElement);\n                }\n            };\n            var insertColumnBElement = document.createElement(\"button\");\n            insertColumnBElement.setAttribute(\"type\", \"button\");\n            insertColumnBElement.setAttribute(\"aria-label\", window.VditorI18n.insertColumnLeft + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"G\") + \">\");\n            insertColumnBElement.setAttribute(\"data-type\", \"insertColumn\");\n            insertColumnBElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-columnb\"></use></svg>';\n            insertColumnBElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertColumnBElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertColumn(vditor, tableElement, cellElement, \"beforebegin\");\n                }\n            };\n            var deleteRowElement = document.createElement(\"button\");\n            deleteRowElement.setAttribute(\"type\", \"button\");\n            deleteRowElement.setAttribute(\"aria-label\", window.VditorI18n[\"delete-row\"] + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"-\") + \">\");\n            deleteRowElement.setAttribute(\"data-type\", \"deleteRow\");\n            deleteRowElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-delete-row\"></use></svg>';\n            deleteRowElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            deleteRowElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    deleteRow(vditor, range, cellElement);\n                }\n            };\n            var deleteColumnElement = document.createElement(\"button\");\n            deleteColumnElement.setAttribute(\"type\", \"button\");\n            deleteColumnElement.setAttribute(\"aria-label\", window.VditorI18n[\"delete-column\"] + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"-\") + \">\");\n            deleteColumnElement.setAttribute(\"data-type\", \"deleteColumn\");\n            deleteColumnElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-delete-column\"></use></svg>';\n            deleteColumnElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            deleteColumnElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    deleteColumn(vditor, range, tableElement, cellElement);\n                }\n            };\n            var inputWrap = document.createElement(\"span\");\n            inputWrap.setAttribute(\"aria-label\", window.VditorI18n.row);\n            inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input_1 = document.createElement(\"input\");\n            inputWrap.appendChild(input_1);\n            input_1.type = \"number\";\n            input_1.min = \"1\";\n            input_1.className = \"vditor-input\";\n            input_1.style.width = \"42px\";\n            input_1.style.textAlign = \"center\";\n            input_1.setAttribute(\"placeholder\", window.VditorI18n.row);\n            input_1.value = tableElement.rows.length.toString();\n            input_1.oninput = function () {\n                updateTable_1();\n            };\n            input_1.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (event.key === \"Tab\") {\n                    input2_1.focus();\n                    input2_1.select();\n                    event.preventDefault();\n                    return;\n                }\n                removeBlockElement(vditor, event);\n            };\n            var input2Wrap = document.createElement(\"span\");\n            input2Wrap.setAttribute(\"aria-label\", window.VditorI18n.column);\n            input2Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input2_1 = document.createElement(\"input\");\n            input2Wrap.appendChild(input2_1);\n            input2_1.type = \"number\";\n            input2_1.min = \"1\";\n            input2_1.className = \"vditor-input\";\n            input2_1.style.width = \"42px\";\n            input2_1.style.textAlign = \"center\";\n            input2_1.setAttribute(\"placeholder\", window.VditorI18n.column);\n            input2_1.value = tableElement.rows[0].cells.length.toString();\n            input2_1.oninput = function () {\n                updateTable_1();\n            };\n            input2_1.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (event.key === \"Tab\") {\n                    input_1.focus();\n                    input_1.select();\n                    event.preventDefault();\n                    return;\n                }\n                removeBlockElement(vditor, event);\n            };\n            genUp(range, tableElement, vditor);\n            genDown(range, tableElement, vditor);\n            genClose(tableElement, vditor);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", left_1);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", center_1);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", right_1);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertRowBElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertRowElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertColumnBElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertColumnElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", deleteRowElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", deleteColumnElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n            vditor.wysiwyg.popover.insertAdjacentHTML(\"beforeend\", \" x \");\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input2Wrap);\n            setPopoverPosition(vditor, tableElement);\n        }\n        // link ref popover\n        var linkRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"link-ref\");\n        if (linkRefElement) {\n            genLinkRefPopover(vditor, linkRefElement);\n        }\n        // footnote popover\n        var footnotesRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"footnotes-ref\");\n        if (footnotesRefElement) {\n            var lang = vditor.options.lang;\n            var options = vditor.options;\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            var inputWrap = document.createElement(\"span\");\n            inputWrap.setAttribute(\"aria-label\", window.VditorI18n.footnoteRef + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"Enter\") + \">\");\n            inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input_2 = document.createElement(\"input\");\n            inputWrap.appendChild(input_2);\n            input_2.className = \"vditor-input\";\n            input_2.setAttribute(\"placeholder\", window.VditorI18n.footnoteRef + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"Enter\") + \">\");\n            input_2.style.width = \"120px\";\n            input_2.value = footnotesRefElement.getAttribute(\"data-footnotes-label\");\n            input_2.oninput = function () {\n                if (input_2.value.trim() !== \"\") {\n                    footnotesRefElement.setAttribute(\"data-footnotes-label\", input_2.value);\n                }\n            };\n            input_2.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (!(0,compatibility/* isCtrl */.yl)(event) &&\n                    !event.shiftKey &&\n                    event.altKey &&\n                    event.key === \"Enter\") {\n                    range.selectNodeContents(footnotesRefElement);\n                    range.collapse(false);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                    event.preventDefault();\n                    return;\n                }\n                removeBlockElement(vditor, event);\n            };\n            genClose(footnotesRefElement, vditor);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n            setPopoverPosition(vditor, footnotesRefElement);\n        }\n        var blockRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(typeElement, \"vditor-wysiwyg__block\");\n        // block popover: math-inline, math-block, html-block, html-inline, code-block, html-entity\n        if (blockRenderElement &&\n            blockRenderElement.getAttribute(\"data-type\").indexOf(\"block\") > -1) {\n            var lang = vditor.options.lang;\n            var options = vditor.options;\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genUp(range, blockRenderElement, vditor);\n            genDown(range, blockRenderElement, vditor);\n            genClose(blockRenderElement, vditor);\n            if (blockRenderElement.getAttribute(\"data-type\") === \"code-block\") {\n                var languageWrap = document.createElement(\"span\");\n                languageWrap.setAttribute(\"aria-label\", window.VditorI18n.language + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"Enter\") + \">\");\n                languageWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n                var language_1 = document.createElement(\"input\");\n                languageWrap.appendChild(language_1);\n                var codeElement_1 = blockRenderElement.firstElementChild.firstElementChild;\n                language_1.className = \"vditor-input\";\n                language_1.setAttribute(\"placeholder\", window.VditorI18n.language + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"Enter\") + \">\");\n                language_1.value =\n                    codeElement_1.className.indexOf(\"language-\") > -1\n                        ? codeElement_1.className.split(\"-\")[1].split(\" \")[0]\n                        : \"\";\n                language_1.oninput = function () {\n                    if (language_1.value.trim() !== \"\") {\n                        codeElement_1.className = \"language-\" + language_1.value;\n                    }\n                    else {\n                        codeElement_1.className = \"\";\n                        vditor.hint.recentLanguage = \"\";\n                    }\n                    if (blockRenderElement.lastElementChild.classList.contains(\"vditor-wysiwyg__preview\")) {\n                        blockRenderElement.lastElementChild.innerHTML =\n                            blockRenderElement.firstElementChild.innerHTML;\n                        processCodeRender(blockRenderElement.lastElementChild, vditor);\n                    }\n                    afterRenderEvent(vditor);\n                };\n                language_1.onkeydown = function (event) {\n                    if (event.isComposing) {\n                        return;\n                    }\n                    if (removeBlockElement(vditor, event)) {\n                        return;\n                    }\n                    if (event.key === \"Escape\" &&\n                        vditor.hint.element.style.display === \"block\") {\n                        vditor.hint.element.style.display = \"none\";\n                        event.preventDefault();\n                        return;\n                    }\n                    if (!(0,compatibility/* isCtrl */.yl)(event) &&\n                        !event.shiftKey &&\n                        event.altKey &&\n                        event.key === \"Enter\") {\n                        range.setStart(codeElement_1.firstChild, 0);\n                        range.collapse(true);\n                        (0,selection/* setSelectionFocus */.Hc)(range);\n                    }\n                    vditor.hint.select(event, vditor);\n                };\n                language_1.onkeyup = function (event) {\n                    if (event.isComposing ||\n                        event.key === \"Enter\" ||\n                        event.key === \"ArrowUp\" ||\n                        event.key === \"Escape\" ||\n                        event.key === \"ArrowDown\") {\n                        return;\n                    }\n                    var matchLangData = [];\n                    var key = language_1.value.substring(0, language_1.selectionStart);\n                    constants/* Constants.CODE_LANGUAGES.forEach */.g.CODE_LANGUAGES.forEach(function (keyName) {\n                        if (keyName.indexOf(key.toLowerCase()) > -1) {\n                            matchLangData.push({\n                                html: keyName,\n                                value: keyName,\n                            });\n                        }\n                    });\n                    vditor.hint.genHTML(matchLangData, key, vditor);\n                    event.preventDefault();\n                };\n                vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", languageWrap);\n            }\n            setPopoverPosition(vditor, blockRenderElement);\n        }\n        else {\n            if (!blockRenderElement) {\n                vditor.wysiwyg.element\n                    .querySelectorAll(\".vditor-wysiwyg__preview\")\n                    .forEach(function (itemElement) {\n                    var previousElement = itemElement.previousElementSibling;\n                    previousElement.style.display = \"none\";\n                });\n            }\n            blockRenderElement = undefined;\n        }\n        if (headingElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            var inputWrap = document.createElement(\"span\");\n            inputWrap.setAttribute(\"aria-label\", \"ID\" + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"Enter\") + \">\");\n            inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input_3 = document.createElement(\"input\");\n            inputWrap.appendChild(input_3);\n            input_3.className = \"vditor-input\";\n            input_3.setAttribute(\"placeholder\", \"ID\" + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"Enter\") + \">\");\n            input_3.style.width = \"120px\";\n            input_3.value = headingElement.getAttribute(\"data-id\") || \"\";\n            input_3.oninput = function () {\n                headingElement.setAttribute(\"data-id\", input_3.value);\n            };\n            input_3.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (!(0,compatibility/* isCtrl */.yl)(event) &&\n                    !event.shiftKey &&\n                    event.altKey &&\n                    event.key === \"Enter\") {\n                    range.selectNodeContents(headingElement);\n                    range.collapse(false);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                    event.preventDefault();\n                    return;\n                }\n                removeBlockElement(vditor, event);\n            };\n            genUp(range, headingElement, vditor);\n            genDown(range, headingElement, vditor);\n            genClose(headingElement, vditor);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n            setPopoverPosition(vditor, headingElement);\n        }\n        // a popover\n        if (aElement) {\n            genAPopover(vditor, aElement);\n        }\n        if (!blockquoteElement &&\n            !liElement &&\n            !tableElement &&\n            !blockRenderElement &&\n            !aElement &&\n            !linkRefElement &&\n            !footnotesRefElement &&\n            !headingElement &&\n            !tocElement) {\n            var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-block\", \"0\");\n            if (blockElement &&\n                blockElement.parentElement.isEqualNode(vditor.wysiwyg.element)) {\n                vditor.wysiwyg.popover.innerHTML = \"\";\n                genUp(range, blockElement, vditor);\n                genDown(range, blockElement, vditor);\n                genClose(blockElement, vditor);\n                setPopoverPosition(vditor, blockElement);\n            }\n            else {\n                vditor.wysiwyg.popover.style.display = \"none\";\n            }\n        }\n        // \n        vditor.wysiwyg.element\n            .querySelectorAll('span[data-type=\"backslash\"] > span')\n            .forEach(function (item) {\n            item.style.display = \"none\";\n        });\n        var backslashElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"backslash\");\n        if (backslashElement) {\n            backslashElement.querySelector(\"span\").style.display = \"inline\";\n        }\n    }, 200);\n};\nvar setPopoverPosition = function (vditor, element) {\n    var targetElement = element;\n    var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(element, \"TABLE\");\n    if (tableElement) {\n        targetElement = tableElement;\n    }\n    vditor.wysiwyg.popover.style.left = \"0\";\n    vditor.wysiwyg.popover.style.display = \"block\";\n    vditor.wysiwyg.popover.style.top =\n        Math.max(-8, targetElement.offsetTop - 21 - vditor.wysiwyg.element.scrollTop) + \"px\";\n    vditor.wysiwyg.popover.style.left =\n        Math.min(targetElement.offsetLeft, vditor.wysiwyg.element.clientWidth - vditor.wysiwyg.popover.clientWidth) + \"px\";\n    vditor.wysiwyg.popover.setAttribute(\"data-top\", (targetElement.offsetTop - 21).toString());\n};\nvar genLinkRefPopover = function (vditor, linkRefElement) {\n    vditor.wysiwyg.popover.innerHTML = \"\";\n    var updateLinkRef = function () {\n        if (input.value.trim() !== \"\") {\n            if (linkRefElement.tagName === \"IMG\") {\n                linkRefElement.setAttribute(\"alt\", input.value);\n            }\n            else {\n                linkRefElement.textContent = input.value;\n            }\n        }\n        // data-link-label\n        if (input1.value.trim() !== \"\") {\n            linkRefElement.setAttribute(\"data-link-label\", input1.value);\n        }\n    };\n    var inputWrap = document.createElement(\"span\");\n    inputWrap.setAttribute(\"aria-label\", window.VditorI18n.textIsNotEmpty);\n    inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input = document.createElement(\"input\");\n    inputWrap.appendChild(input);\n    input.className = \"vditor-input\";\n    input.setAttribute(\"placeholder\", window.VditorI18n.textIsNotEmpty);\n    input.style.width = \"120px\";\n    input.value =\n        linkRefElement.getAttribute(\"alt\") || linkRefElement.textContent;\n    input.oninput = function () {\n        updateLinkRef();\n    };\n    input.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        linkHotkey(vditor, linkRefElement, event, input1);\n    };\n    var input1Wrap = document.createElement(\"span\");\n    input1Wrap.setAttribute(\"aria-label\", window.VditorI18n.linkRef);\n    input1Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input1 = document.createElement(\"input\");\n    input1Wrap.appendChild(input1);\n    input1.className = \"vditor-input\";\n    input1.setAttribute(\"placeholder\", window.VditorI18n.linkRef);\n    input1.value = linkRefElement.getAttribute(\"data-link-label\");\n    input1.oninput = function () {\n        updateLinkRef();\n    };\n    input1.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        linkHotkey(vditor, linkRefElement, event, input);\n    };\n    genClose(linkRefElement, vditor);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input1Wrap);\n    setPopoverPosition(vditor, linkRefElement);\n};\nvar genUp = function (range, element, vditor) {\n    var previousElement = element.previousElementSibling;\n    if (!previousElement ||\n        (!element.parentElement.isEqualNode(vditor.wysiwyg.element) &&\n            element.tagName !== \"LI\")) {\n        return;\n    }\n    var upElement = document.createElement(\"button\");\n    upElement.setAttribute(\"type\", \"button\");\n    upElement.setAttribute(\"data-type\", \"up\");\n    upElement.setAttribute(\"aria-label\", window.VditorI18n.up + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"U\") + \">\");\n    upElement.innerHTML = '<svg><use xlink:href=\"#vditor-icon-up\"></use></svg>';\n    upElement.className = \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n    upElement.onclick = function () {\n        range.insertNode(document.createElement(\"wbr\"));\n        previousElement.insertAdjacentElement(\"beforebegin\", element);\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        afterRenderEvent(vditor);\n        highlightToolbarWYSIWYG(vditor);\n        scrollCenter(vditor);\n    };\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", upElement);\n};\nvar genDown = function (range, element, vditor) {\n    var nextElement = element.nextElementSibling;\n    if (!nextElement ||\n        (!element.parentElement.isEqualNode(vditor.wysiwyg.element) &&\n            element.tagName !== \"LI\")) {\n        return;\n    }\n    var downElement = document.createElement(\"button\");\n    downElement.setAttribute(\"type\", \"button\");\n    downElement.setAttribute(\"data-type\", \"down\");\n    downElement.setAttribute(\"aria-label\", window.VditorI18n.down + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"D\") + \">\");\n    downElement.innerHTML =\n        '<svg><use xlink:href=\"#vditor-icon-down\"></use></svg>';\n    downElement.className =\n        \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n    downElement.onclick = function () {\n        range.insertNode(document.createElement(\"wbr\"));\n        nextElement.insertAdjacentElement(\"afterend\", element);\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        afterRenderEvent(vditor);\n        highlightToolbarWYSIWYG(vditor);\n        scrollCenter(vditor);\n    };\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", downElement);\n};\nvar genClose = function (element, vditor) {\n    var close = document.createElement(\"button\");\n    close.setAttribute(\"type\", \"button\");\n    close.setAttribute(\"data-type\", \"remove\");\n    close.setAttribute(\"aria-label\", window.VditorI18n.remove + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"X\") + \">\");\n    close.innerHTML =\n        '<svg><use xlink:href=\"#vditor-icon-trashcan\"></use></svg>';\n    close.className = \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n    close.onclick = function () {\n        var range = (0,selection/* getEditorRange */.zh)(vditor);\n        range.setStartAfter(element);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        element.remove();\n        afterRenderEvent(vditor);\n        highlightToolbarWYSIWYG(vditor);\n    };\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", close);\n};\nvar linkHotkey = function (vditor, element, event, nextInputElement) {\n    if (event.isComposing) {\n        return;\n    }\n    if (event.key === \"Tab\") {\n        nextInputElement.focus();\n        nextInputElement.select();\n        event.preventDefault();\n        return;\n    }\n    if (!(0,compatibility/* isCtrl */.yl)(event) &&\n        !event.shiftKey &&\n        event.altKey &&\n        event.key === \"Enter\") {\n        var range = (0,selection/* getEditorRange */.zh)(vditor);\n        // firefox  link https://github.com/Vanessa219/vditor/issues/193\n        element.insertAdjacentHTML(\"afterend\", constants/* Constants.ZWSP */.g.ZWSP);\n        range.setStartAfter(element.nextSibling);\n        range.collapse(true);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        event.preventDefault();\n    }\n};\nvar genAPopover = function (vditor, aElement) {\n    var lang = vditor.options.lang;\n    var options = vditor.options;\n    vditor.wysiwyg.popover.innerHTML = \"\";\n    var updateA = function () {\n        if (input.value.trim() !== \"\") {\n            aElement.innerHTML = input.value;\n        }\n        aElement.setAttribute(\"href\", input1.value);\n        aElement.setAttribute(\"title\", input2.value);\n    };\n    aElement.querySelectorAll(\"[data-marker]\").forEach(function (item) {\n        item.removeAttribute(\"data-marker\");\n    });\n    var inputWrap = document.createElement(\"span\");\n    inputWrap.setAttribute(\"aria-label\", window.VditorI18n.textIsNotEmpty);\n    inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input = document.createElement(\"input\");\n    inputWrap.appendChild(input);\n    input.className = \"vditor-input\";\n    input.setAttribute(\"placeholder\", window.VditorI18n.textIsNotEmpty);\n    input.style.width = \"120px\";\n    input.value = aElement.innerHTML || \"\";\n    input.oninput = function () {\n        updateA();\n    };\n    input.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        linkHotkey(vditor, aElement, event, input1);\n    };\n    var input1Wrap = document.createElement(\"span\");\n    input1Wrap.setAttribute(\"aria-label\", window.VditorI18n.link);\n    input1Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input1 = document.createElement(\"input\");\n    input1Wrap.appendChild(input1);\n    input1.className = \"vditor-input\";\n    input1.setAttribute(\"placeholder\", window.VditorI18n.link);\n    input1.value = aElement.getAttribute(\"href\") || \"\";\n    input1.oninput = function () {\n        updateA();\n    };\n    input1.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        linkHotkey(vditor, aElement, event, input2);\n    };\n    var input2Wrap = document.createElement(\"span\");\n    input2Wrap.setAttribute(\"aria-label\", window.VditorI18n.tooltipText);\n    input2Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input2 = document.createElement(\"input\");\n    input2Wrap.appendChild(input2);\n    input2.className = \"vditor-input\";\n    input2.setAttribute(\"placeholder\", window.VditorI18n.tooltipText);\n    input2.style.width = \"60px\";\n    input2.value = aElement.getAttribute(\"title\") || \"\";\n    input2.oninput = function () {\n        updateA();\n    };\n    input2.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        linkHotkey(vditor, aElement, event, input);\n    };\n    genClose(aElement, vditor);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input1Wrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input2Wrap);\n    setPopoverPosition(vditor, aElement);\n};\nvar genImagePopover = function (event, vditor) {\n    var imgElement = event.target;\n    vditor.wysiwyg.popover.innerHTML = \"\";\n    var updateImg = function () {\n        imgElement.setAttribute(\"src\", inputElement.value);\n        imgElement.setAttribute(\"alt\", alt.value);\n        imgElement.setAttribute(\"title\", title.value);\n    };\n    var inputWrap = document.createElement(\"span\");\n    inputWrap.setAttribute(\"aria-label\", window.VditorI18n.imageURL);\n    inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var inputElement = document.createElement(\"input\");\n    inputWrap.appendChild(inputElement);\n    inputElement.className = \"vditor-input\";\n    inputElement.setAttribute(\"placeholder\", window.VditorI18n.imageURL);\n    inputElement.value = imgElement.getAttribute(\"src\") || \"\";\n    inputElement.oninput = function () {\n        updateImg();\n    };\n    inputElement.onkeydown = function (elementEvent) {\n        removeBlockElement(vditor, elementEvent);\n    };\n    var altWrap = document.createElement(\"span\");\n    altWrap.setAttribute(\"aria-label\", window.VditorI18n.alternateText);\n    altWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var alt = document.createElement(\"input\");\n    altWrap.appendChild(alt);\n    alt.className = \"vditor-input\";\n    alt.setAttribute(\"placeholder\", window.VditorI18n.alternateText);\n    alt.style.width = \"52px\";\n    alt.value = imgElement.getAttribute(\"alt\") || \"\";\n    alt.oninput = function () {\n        updateImg();\n    };\n    alt.onkeydown = function (elementEvent) {\n        removeBlockElement(vditor, elementEvent);\n    };\n    var titleWrap = document.createElement(\"span\");\n    titleWrap.setAttribute(\"aria-label\", window.VditorI18n.title);\n    titleWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var title = document.createElement(\"input\");\n    titleWrap.appendChild(title);\n    title.className = \"vditor-input\";\n    title.setAttribute(\"placeholder\", window.VditorI18n.title);\n    title.value = imgElement.getAttribute(\"title\") || \"\";\n    title.oninput = function () {\n        updateImg();\n    };\n    title.onkeydown = function (elementEvent) {\n        removeBlockElement(vditor, elementEvent);\n    };\n    genClose(imgElement, vditor);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", altWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", titleWrap);\n    setPopoverPosition(vditor, imgElement);\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/highlightToolbar.ts\n\n\nvar highlightToolbar = function (vditor) {\n    if (vditor.currentMode === \"wysiwyg\") {\n        highlightToolbarWYSIWYG(vditor);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        highlightToolbarIR(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/renderDomByMd.ts\n\n\nvar renderDomByMd = function (vditor, md, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    var editorElement = vditor.wysiwyg.element;\n    editorElement.innerHTML = vditor.lute.Md2VditorDOM(md);\n    editorElement.querySelectorAll(\".vditor-wysiwyg__preview[data-render='2']\").forEach(function (item) {\n        processCodeRender(item, vditor);\n        item.previousElementSibling.setAttribute(\"style\", \"display:none\");\n    });\n    afterRenderEvent(vditor, options);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/toolbarEvent.ts\n\n\n\n\n\n\n\n\n\nvar cancelBES = function (range, vditor, commandName) {\n    var element = range.startContainer.parentElement;\n    var jump = false;\n    var lastTagName = \"\";\n    var lastEndTagName = \"\";\n    var splitHTML = splitElement(range);\n    var lastBeforeHTML = splitHTML.beforeHTML;\n    var lastAfterHTML = splitHTML.afterHTML;\n    while (element && !jump) {\n        var tagName = element.tagName;\n        if (tagName === \"STRIKE\") {\n            tagName = \"S\";\n        }\n        if (tagName === \"I\") {\n            tagName = \"EM\";\n        }\n        if (tagName === \"B\") {\n            tagName = \"STRONG\";\n        }\n        if (tagName === \"S\" || tagName === \"STRONG\" || tagName === \"EM\") {\n            var insertHTML = \"\";\n            var previousHTML = \"\";\n            var nextHTML = \"\";\n            if (element.parentElement.getAttribute(\"data-block\") !== \"0\") {\n                previousHTML = getPreviousHTML(element);\n                nextHTML = getNextHTML(element);\n            }\n            if (lastBeforeHTML || previousHTML) {\n                insertHTML = previousHTML + \"<\" + tagName + \">\" + lastBeforeHTML + \"</\" + tagName + \">\";\n                lastBeforeHTML = insertHTML;\n            }\n            if ((commandName === \"bold\" && tagName === \"STRONG\") ||\n                (commandName === \"italic\" && tagName === \"EM\") ||\n                (commandName === \"strikeThrough\" && tagName === \"S\")) {\n                // \n                insertHTML += \"\" + lastTagName + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr>\" + lastEndTagName;\n                jump = true;\n            }\n            if (lastAfterHTML || nextHTML) {\n                lastAfterHTML = \"<\" + tagName + \">\" + lastAfterHTML + \"</\" + tagName + \">\" + nextHTML;\n                insertHTML += lastAfterHTML;\n            }\n            if (element.parentElement.getAttribute(\"data-block\") !== \"0\") {\n                element = element.parentElement;\n                element.innerHTML = insertHTML;\n            }\n            else {\n                element.outerHTML = insertHTML;\n                element = element.parentElement;\n            }\n            lastTagName = \"<\" + tagName + \">\" + lastTagName;\n            lastEndTagName = \"</\" + tagName + \">\" + lastEndTagName;\n        }\n        else {\n            jump = true;\n        }\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n};\nvar toolbarEvent = function (vditor, actionBtn, event) {\n    if (vditor.wysiwyg.composingLock // Mac Chrome  https://github.com/Vanessa219/vditor/issues/188\n        && event instanceof CustomEvent //  https://github.com/Vanessa219/vditor/issues/473\n    ) {\n        return;\n    }\n    var useHighlight = true;\n    var useRender = true;\n    if (vditor.wysiwyg.element.querySelector(\"wbr\")) {\n        vditor.wysiwyg.element.querySelector(\"wbr\").remove();\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var commandName = actionBtn.getAttribute(\"data-type\");\n    // \n    if (actionBtn.classList.contains(\"vditor-menu--current\")) {\n        if (commandName === \"strike\") {\n            commandName = \"strikeThrough\";\n        }\n        if (commandName === \"quote\") {\n            var quoteElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"BLOCKQUOTE\");\n            if (!quoteElement) {\n                quoteElement = range.startContainer.childNodes[range.startOffset];\n            }\n            if (quoteElement) {\n                useHighlight = false;\n                actionBtn.classList.remove(\"vditor-menu--current\");\n                range.insertNode(document.createElement(\"wbr\"));\n                quoteElement.outerHTML = quoteElement.innerHTML.trim() === \"\" ?\n                    \"<p data-block=\\\"0\\\">\" + quoteElement.innerHTML + \"</p>\" : quoteElement.innerHTML;\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else if (commandName === \"inline-code\") {\n            var inlineCodeElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"CODE\");\n            if (!inlineCodeElement) {\n                inlineCodeElement = range.startContainer.childNodes[range.startOffset];\n            }\n            if (inlineCodeElement) {\n                inlineCodeElement.outerHTML = inlineCodeElement.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") + \"<wbr>\";\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else if (commandName === \"link\") {\n            if (!range.collapsed) {\n                document.execCommand(\"unlink\", false, \"\");\n            }\n            else {\n                range.selectNode(range.startContainer.parentElement);\n                document.execCommand(\"unlink\", false, \"\");\n            }\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName);\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            useHighlight = false;\n            actionBtn.classList.remove(\"vditor-menu--current\");\n        }\n        else {\n            // bold, italic, strike\n            useHighlight = false;\n            actionBtn.classList.remove(\"vditor-menu--current\");\n            if (range.toString() === \"\") {\n                cancelBES(range, vditor, commandName);\n            }\n            else {\n                document.execCommand(commandName, false, \"\");\n            }\n        }\n    }\n    else {\n        // \n        if (vditor.wysiwyg.element.childNodes.length === 0) {\n            vditor.wysiwyg.element.innerHTML = '<p data-block=\"0\"><wbr></p>';\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        }\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n        if (commandName === \"quote\") {\n            if (!blockElement) {\n                blockElement = range.startContainer.childNodes[range.startOffset];\n            }\n            if (blockElement) {\n                useHighlight = false;\n                actionBtn.classList.add(\"vditor-menu--current\");\n                range.insertNode(document.createElement(\"wbr\"));\n                var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n                // li \n                if (liElement && blockElement.contains(liElement)) {\n                    liElement.innerHTML = \"<blockquote data-block=\\\"0\\\">\" + liElement.innerHTML + \"</blockquote>\";\n                }\n                else {\n                    blockElement.outerHTML = \"<blockquote data-block=\\\"0\\\">\" + blockElement.outerHTML + \"</blockquote>\";\n                }\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName, false);\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            useHighlight = false;\n            removeCurrentToolbar(vditor.toolbar.elements, [\"check\", \"list\", \"ordered-list\"]);\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"inline-code\") {\n            if (range.toString() === \"\") {\n                var node = document.createElement(\"code\");\n                node.textContent = constants/* Constants.ZWSP */.g.ZWSP;\n                range.insertNode(node);\n                range.setStart(node.firstChild, 1);\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else if (range.startContainer.nodeType === 3) {\n                var node = document.createElement(\"code\");\n                range.surroundContents(node);\n                range.insertNode(node);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"code\") {\n            var node = document.createElement(\"div\");\n            node.className = \"vditor-wysiwyg__block\";\n            node.setAttribute(\"data-type\", \"code-block\");\n            node.setAttribute(\"data-block\", \"0\");\n            node.setAttribute(\"data-marker\", \"```\");\n            if (range.toString() === \"\") {\n                node.innerHTML = \"<pre><code><wbr>\\n</code></pre>\";\n            }\n            else {\n                node.innerHTML = \"<pre><code>\" + range.toString() + \"<wbr></code></pre>\";\n                range.deleteContents();\n            }\n            range.insertNode(node);\n            if (blockElement) {\n                blockElement.outerHTML = vditor.lute.SpinVditorDOM(blockElement.outerHTML);\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            vditor.wysiwyg.element.querySelectorAll(\".vditor-wysiwyg__preview[data-render='2']\").forEach(function (item) {\n                processCodeRender(item, vditor);\n            });\n            actionBtn.classList.add(\"vditor-menu--disabled\");\n        }\n        else if (commandName === \"link\") {\n            if (range.toString() === \"\") {\n                var aElement = document.createElement(\"a\");\n                aElement.innerText = constants/* Constants.ZWSP */.g.ZWSP;\n                range.insertNode(aElement);\n                range.setStart(aElement.firstChild, 1);\n                range.collapse(true);\n                genAPopover(vditor, aElement);\n                var textInputElement = vditor.wysiwyg.popover.querySelector(\"input\");\n                textInputElement.value = \"\";\n                textInputElement.focus();\n                useRender = false;\n            }\n            else {\n                var node = document.createElement(\"a\");\n                node.setAttribute(\"href\", \"\");\n                node.innerHTML = range.toString();\n                range.surroundContents(node);\n                range.insertNode(node);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                genAPopover(vditor, node);\n                var textInputElements = vditor.wysiwyg.popover.querySelectorAll(\"input\");\n                textInputElements[0].value = node.innerText;\n                textInputElements[1].focus();\n            }\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"table\") {\n            var tableHTML_1 = \"<table data-block=\\\"0\\\"><thead><tr><th>col1<wbr></th><th>col2</th><th>col3</th></tr></thead><tbody><tr><td> </td><td> </td><td> </td></tr><tr><td> </td><td> </td><td> </td></tr></tbody></table>\";\n            if (range.toString().trim() === \"\") {\n                if (blockElement && blockElement.innerHTML.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                    blockElement.outerHTML = tableHTML_1;\n                }\n                else {\n                    document.execCommand(\"insertHTML\", false, tableHTML_1);\n                }\n                range.selectNode(vditor.wysiwyg.element.querySelector(\"wbr\").previousSibling);\n                vditor.wysiwyg.element.querySelector(\"wbr\").remove();\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else {\n                tableHTML_1 = \"<table data-block=\\\"0\\\"><thead><tr>\";\n                var tableText = range.toString().split(\"\\n\");\n                var delimiter_1 = tableText[0].split(\",\").length > tableText[0].split(\"\\t\").length ? \",\" : \"\\t\";\n                tableText.forEach(function (rows, index) {\n                    if (index === 0) {\n                        rows.split(delimiter_1).forEach(function (header, subIndex) {\n                            if (subIndex === 0) {\n                                tableHTML_1 += \"<th>\" + header + \"<wbr></th>\";\n                            }\n                            else {\n                                tableHTML_1 += \"<th>\" + header + \"</th>\";\n                            }\n                        });\n                        tableHTML_1 += \"</tr></thead>\";\n                    }\n                    else {\n                        if (index === 1) {\n                            tableHTML_1 += \"<tbody><tr>\";\n                        }\n                        else {\n                            tableHTML_1 += \"<tr>\";\n                        }\n                        rows.split(delimiter_1).forEach(function (cell) {\n                            tableHTML_1 += \"<td>\" + cell + \"</td>\";\n                        });\n                        tableHTML_1 += \"</tr>\";\n                    }\n                });\n                tableHTML_1 += \"</tbody></table>\";\n                document.execCommand(\"insertHTML\", false, tableHTML_1);\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--disabled\");\n        }\n        else if (commandName === \"line\") {\n            if (blockElement) {\n                var hrHTML = '<hr data-block=\"0\"><p data-block=\"0\"><wbr>\\n</p>';\n                if (blockElement.innerHTML.trim() === \"\") {\n                    blockElement.outerHTML = hrHTML;\n                }\n                else {\n                    blockElement.insertAdjacentHTML(\"afterend\", hrHTML);\n                }\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else {\n            // bold, italic, strike\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--current\");\n            if (commandName === \"strike\") {\n                commandName = \"strikeThrough\";\n            }\n            if (range.toString() === \"\" && (commandName === \"bold\" || commandName === \"italic\" || commandName === \"strikeThrough\")) {\n                var tagName = \"strong\";\n                if (commandName === \"italic\") {\n                    tagName = \"em\";\n                }\n                else if (commandName === \"strikeThrough\") {\n                    tagName = \"s\";\n                }\n                var node = document.createElement(tagName);\n                node.textContent = constants/* Constants.ZWSP */.g.ZWSP;\n                range.insertNode(node);\n                if (node.previousSibling && node.previousSibling.textContent === constants/* Constants.ZWSP */.g.ZWSP) {\n                    //  zwsp\n                    node.previousSibling.textContent = \"\";\n                }\n                range.setStart(node.firstChild, 1);\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else {\n                document.execCommand(commandName, false, \"\");\n            }\n        }\n    }\n    if (useHighlight) {\n        highlightToolbarWYSIWYG(vditor);\n    }\n    if (useRender) {\n        afterRenderEvent(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/MenuItem.ts\n\n\n\n\n\n\nvar MenuItem = /** @class */ (function () {\n    function MenuItem(vditor, menuItem) {\n        var _a;\n        var _this = this;\n        this.element = document.createElement(\"div\");\n        if (menuItem.className) {\n            (_a = this.element.classList).add.apply(_a, menuItem.className.split(\" \"));\n        }\n        var hotkey = menuItem.hotkey ? \" <\" + (0,compatibility/* updateHotkeyTip */.ns)(menuItem.hotkey) + \">\" : \"\";\n        if (menuItem.level === 2) {\n            hotkey = menuItem.hotkey ? \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(menuItem.hotkey) + \"&gt;\" : \"\";\n        }\n        var tip = menuItem.tip ? menuItem.tip + hotkey : \"\" + window.VditorI18n[menuItem.name] + hotkey;\n        var tagName = menuItem.name === \"upload\" ? \"div\" : \"button\";\n        if (menuItem.level === 2) {\n            this.element.innerHTML = \"<\" + tagName + \" data-type=\\\"\" + menuItem.name + \"\\\">\" + tip + \"</\" + tagName + \">\";\n        }\n        else {\n            this.element.classList.add(\"vditor-toolbar__item\");\n            var iconElement = document.createElement(tagName);\n            iconElement.setAttribute(\"data-type\", menuItem.name);\n            iconElement.className = \"vditor-tooltipped vditor-tooltipped__\" + menuItem.tipPosition;\n            iconElement.setAttribute(\"aria-label\", tip);\n            iconElement.innerHTML = menuItem.icon;\n            this.element.appendChild(iconElement);\n        }\n        if (!menuItem.prefix) {\n            return;\n        }\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            if (vditor.currentMode === \"wysiwyg\") {\n                toolbarEvent(vditor, _this.element.children[0], event);\n            }\n            else if (vditor.currentMode === \"ir\") {\n                process_processToolbar(vditor, _this.element.children[0], menuItem.prefix || \"\", menuItem.suffix || \"\");\n            }\n            else {\n                processToolbar(vditor, _this.element.children[0], menuItem.prefix || \"\", menuItem.suffix || \"\");\n            }\n        });\n    }\n    return MenuItem;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/EditMode.ts\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar setEditMode = function (vditor, type, event) {\n    var markdownText;\n    if (typeof event !== \"string\") {\n        hidePanel(vditor, [\"subToolbar\", \"hint\"]);\n        event.preventDefault();\n        markdownText = getMarkdown(vditor);\n    }\n    else {\n        markdownText = event;\n    }\n    if (vditor.currentMode === type && typeof event !== \"string\") {\n        return;\n    }\n    if (vditor.devtools) {\n        vditor.devtools.renderEchart(vditor);\n    }\n    if (vditor.options.preview.mode === \"both\" && type === \"sv\") {\n        vditor.preview.element.style.display = \"block\";\n    }\n    else {\n        vditor.preview.element.style.display = \"none\";\n    }\n    enableToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n    removeCurrentToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n    disableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n    if (type === \"ir\") {\n        hideToolbar(vditor.toolbar.elements, [\"both\"]);\n        showToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\", \"outline\", \"insert-before\", \"insert-after\"]);\n        vditor.sv.element.style.display = \"none\";\n        vditor.wysiwyg.element.parentElement.style.display = \"none\";\n        vditor.ir.element.parentElement.style.display = \"block\";\n        vditor.lute.SetVditorIR(true);\n        vditor.lute.SetVditorWYSIWYG(false);\n        vditor.lute.SetVditorSV(false);\n        vditor.currentMode = \"ir\";\n        vditor.ir.element.innerHTML = vditor.lute.Md2VditorIRDOM(markdownText);\n        process_processAfterRender(vditor, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n        setPadding(vditor);\n        vditor.ir.element.querySelectorAll(\".vditor-ir__preview[data-render='2']\").forEach(function (item) {\n            processCodeRender(item, vditor);\n        });\n        vditor.ir.element.querySelectorAll(\".vditor-toc\").forEach(function (item) {\n            (0,mathRender/* mathRender */.H)(item, {\n                cdn: vditor.options.cdn,\n                math: vditor.options.preview.math,\n            });\n        });\n    }\n    else if (type === \"wysiwyg\") {\n        hideToolbar(vditor.toolbar.elements, [\"both\"]);\n        showToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\", \"outline\", \"insert-before\", \"insert-after\"]);\n        vditor.sv.element.style.display = \"none\";\n        vditor.wysiwyg.element.parentElement.style.display = \"block\";\n        vditor.ir.element.parentElement.style.display = \"none\";\n        vditor.lute.SetVditorIR(false);\n        vditor.lute.SetVditorWYSIWYG(true);\n        vditor.lute.SetVditorSV(false);\n        vditor.currentMode = \"wysiwyg\";\n        setPadding(vditor);\n        renderDomByMd(vditor, markdownText, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n        vditor.wysiwyg.element.querySelectorAll(\".vditor-toc\").forEach(function (item) {\n            (0,mathRender/* mathRender */.H)(item, {\n                cdn: vditor.options.cdn,\n                math: vditor.options.preview.math,\n            });\n        });\n        vditor.wysiwyg.popover.style.display = \"none\";\n    }\n    else if (type === \"sv\") {\n        showToolbar(vditor.toolbar.elements, [\"both\"]);\n        hideToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\", \"outline\", \"insert-before\", \"insert-after\"]);\n        vditor.wysiwyg.element.parentElement.style.display = \"none\";\n        vditor.ir.element.parentElement.style.display = \"none\";\n        if (vditor.options.preview.mode === \"both\") {\n            vditor.sv.element.style.display = \"block\";\n        }\n        else if (vditor.options.preview.mode === \"editor\") {\n            vditor.sv.element.style.display = \"block\";\n        }\n        vditor.lute.SetVditorIR(false);\n        vditor.lute.SetVditorWYSIWYG(false);\n        vditor.lute.SetVditorSV(true);\n        vditor.currentMode = \"sv\";\n        var svHTML = processSpinVditorSVDOM(markdownText, vditor);\n        if (svHTML === \"<div data-block='0'></div>\") {\n            // https://github.com/Vanessa219/vditor/issues/654 SV  Placeholder \n            svHTML = \"\";\n        }\n        vditor.sv.element.innerHTML = svHTML;\n        processAfterRender(vditor, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n        setPadding(vditor);\n    }\n    vditor.undo.resetIcon(vditor);\n    if (typeof event !== \"string\") {\n        //  focus\n        vditor[vditor.currentMode].element.focus();\n        highlightToolbar(vditor);\n    }\n    renderToc(vditor);\n    setTypewriterPosition(vditor);\n    if (vditor.toolbar.elements[\"edit-mode\"]) {\n        vditor.toolbar.elements[\"edit-mode\"].querySelectorAll(\"button\").forEach(function (item) {\n            item.classList.remove(\"vditor-menu--current\");\n        });\n        vditor.toolbar.elements[\"edit-mode\"].querySelector(\"button[data-mode=\\\"\" + vditor.currentMode + \"\\\"]\").classList.add(\"vditor-menu--current\");\n    }\n    vditor.outline.toggle(vditor, vditor.currentMode !== \"sv\" && vditor.options.outline.enable);\n};\nvar EditMode = /** @class */ (function (_super) {\n    __extends(EditMode, _super);\n    function EditMode(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\" + (menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        panelElement.innerHTML = \"<button data-mode=\\\"wysiwyg\\\">\" + window.VditorI18n.wysiwyg + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"7\") + \"></button>\\n<button data-mode=\\\"ir\\\">\" + window.VditorI18n.instantRendering + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"8\") + \"></button>\\n<button data-mode=\\\"sv\\\">\" + window.VditorI18n.splitView + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"9\") + \"></button>\";\n        _this.element.appendChild(panelElement);\n        _this._bindEvent(vditor, panelElement, menuItem);\n        return _this;\n    }\n    EditMode.prototype._bindEvent = function (vditor, panelElement, menuItem) {\n        var actionBtn = this.element.children[0];\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        panelElement.children.item(0).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            // wysiwyg\n            setEditMode(vditor, \"wysiwyg\", event);\n            event.preventDefault();\n            event.stopPropagation();\n        });\n        panelElement.children.item(1).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            // ir\n            setEditMode(vditor, \"ir\", event);\n            event.preventDefault();\n            event.stopPropagation();\n        });\n        panelElement.children.item(2).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            // markdown\n            setEditMode(vditor, \"sv\", event);\n            event.preventDefault();\n            event.stopPropagation();\n        });\n    };\n    return EditMode;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/util/getSelectText.ts\n\nvar getSelectText = function (editor, range) {\n    if ((0,selection/* selectIsEditor */.Gb)(editor, range)) {\n        return getSelection().toString();\n    }\n    return \"\";\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/editorCommonEvent.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar focusEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"focus\", function () {\n        if (vditor.options.focus) {\n            vditor.options.focus(getMarkdown(vditor));\n        }\n        hidePanel(vditor, [\"subToolbar\"]);\n    });\n};\nvar dblclickEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"dblclick\", function (event) {\n        if (event.target.tagName === \"IMG\") {\n            (0,preview_image/* previewImage */.E)(event.target, vditor.options.lang, vditor.options.theme);\n        }\n    });\n};\nvar blurEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"blur\", function (event) {\n        if (vditor.currentMode === \"ir\") {\n            var expandElement = vditor.ir.element.querySelector(\".vditor-ir__node--expand\");\n            if (expandElement) {\n                expandElement.classList.remove(\"vditor-ir__node--expand\");\n            }\n        }\n        else if (vditor.currentMode === \"wysiwyg\" &&\n            !vditor.wysiwyg.selectPopover.contains(event.relatedTarget)) {\n            vditor.wysiwyg.hideComment();\n        }\n        vditor[vditor.currentMode].range = (0,selection/* getEditorRange */.zh)(vditor);\n        if (vditor.options.blur) {\n            vditor.options.blur(getMarkdown(vditor));\n        }\n    });\n};\nvar dropEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"dragstart\", function (event) {\n        // \n        event.dataTransfer.setData(constants/* Constants.DROP_EDITOR */.g.DROP_EDITOR, constants/* Constants.DROP_EDITOR */.g.DROP_EDITOR);\n    });\n    editorElement.addEventListener(\"drop\", function (event) {\n        if (event.dataTransfer.getData(constants/* Constants.DROP_EDITOR */.g.DROP_EDITOR)) {\n            // \n            execAfterRender(vditor);\n        }\n        else if (event.dataTransfer.types[0] === \"Files\" || event.dataTransfer.types.includes(\"text/html\")) {\n            // \n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    document.execCommand(\"insertHTML\", false, code);\n                },\n            });\n        }\n    });\n};\nvar copyEvent = function (vditor, editorElement, copy) {\n    editorElement.addEventListener(\"copy\", function (event) { return copy(event, vditor); });\n};\nvar cutEvent = function (vditor, editorElement, copy) {\n    editorElement.addEventListener(\"cut\", function (event) {\n        copy(event, vditor);\n        //  comment\n        if (vditor.options.comment.enable && vditor.currentMode === \"wysiwyg\") {\n            vditor.wysiwyg.getComments(vditor);\n        }\n        document.execCommand(\"delete\");\n    });\n};\nvar scrollCenter = function (vditor) {\n    if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n        vditor.options.comment.adjustTop(vditor.wysiwyg.getComments(vditor, true));\n    }\n    if (!vditor.options.typewriterMode) {\n        return;\n    }\n    var editorElement = vditor[vditor.currentMode].element;\n    var cursorTop = (0,selection/* getCursorPosition */.Ny)(editorElement).top;\n    if (typeof vditor.options.height === \"string\" && !vditor.element.classList.contains(\"vditor--fullscreen\")) {\n        window.scrollTo(window.scrollX, cursorTop + vditor.element.offsetTop + vditor.toolbar.element.offsetHeight - window.innerHeight / 2 + 10);\n    }\n    if (typeof vditor.options.height === \"number\" || vditor.element.classList.contains(\"vditor--fullscreen\")) {\n        editorElement.scrollTop = cursorTop + editorElement.scrollTop - editorElement.clientHeight / 2 + 10;\n    }\n};\nvar hotkeyEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"keydown\", function (event) {\n        // hint: \n        if ((vditor.options.hint.extend.length > 1 || vditor.toolbar.elements.emoji) &&\n            vditor.hint.select(event, vditor)) {\n            return;\n        }\n        //  comment\n        if (vditor.options.comment.enable && vditor.currentMode === \"wysiwyg\" &&\n            (event.key === \"Backspace\" || matchHotKey(\"X\", event))) {\n            vditor.wysiwyg.getComments(vditor);\n        }\n        if (vditor.currentMode === \"sv\") {\n            if (processKeydown_processKeydown(vditor, event)) {\n                return;\n            }\n        }\n        else if (vditor.currentMode === \"wysiwyg\") {\n            if (wysiwyg_processKeydown_processKeydown(vditor, event)) {\n                return;\n            }\n        }\n        else if (vditor.currentMode === \"ir\") {\n            if (processKeydown(vditor, event)) {\n                return;\n            }\n        }\n        if (vditor.options.ctrlEnter && matchHotKey(\"Enter\", event)) {\n            vditor.options.ctrlEnter(getMarkdown(vditor));\n            event.preventDefault();\n            return;\n        }\n        // undo\n        if (matchHotKey(\"Z\", event) && !vditor.toolbar.elements.undo) {\n            vditor.undo.undo(vditor);\n            event.preventDefault();\n            return;\n        }\n        // redo\n        if (matchHotKey(\"Y\", event) && !vditor.toolbar.elements.redo) {\n            vditor.undo.redo(vditor);\n            event.preventDefault();\n            return;\n        }\n        // esc\n        if (event.key === \"Escape\") {\n            if (vditor.hint.element.style.display === \"block\") {\n                vditor.hint.element.style.display = \"none\";\n            }\n            else if (vditor.options.esc && !event.isComposing) {\n                vditor.options.esc(getMarkdown(vditor));\n            }\n            event.preventDefault();\n            return;\n        }\n        // h1 - h6 hotkey\n        if ((0,compatibility/* isCtrl */.yl)(event) && event.altKey && !event.shiftKey && /^Digit[1-6]$/.test(event.code)) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                var tagName = event.code.replace(\"Digit\", \"H\");\n                if ((0,hasClosest/* hasClosestByMatchTag */.lG)(getSelection().getRangeAt(0).startContainer, tagName)) {\n                    removeHeading(vditor);\n                }\n                else {\n                    setHeading(vditor, tagName);\n                }\n                afterRenderEvent(vditor);\n            }\n            else if (vditor.currentMode === \"sv\") {\n                processHeading(vditor, \"#\".repeat(parseInt(event.code.replace(\"Digit\", \"\"), 10)) + \" \");\n            }\n            else if (vditor.currentMode === \"ir\") {\n                process_processHeading(vditor, \"#\".repeat(parseInt(event.code.replace(\"Digit\", \"\"), 10)) + \" \");\n            }\n            event.preventDefault();\n            return true;\n        }\n        // toggle edit mode\n        if ((0,compatibility/* isCtrl */.yl)(event) && event.altKey && !event.shiftKey && /^Digit[7-9]$/.test(event.code)) {\n            if (event.code === \"Digit7\") {\n                setEditMode(vditor, \"wysiwyg\", event);\n            }\n            else if (event.code === \"Digit8\") {\n                setEditMode(vditor, \"ir\", event);\n            }\n            else if (event.code === \"Digit9\") {\n                setEditMode(vditor, \"sv\", event);\n            }\n            return true;\n        }\n        // toolbar action\n        vditor.options.toolbar.find(function (menuItem) {\n            if (!menuItem.hotkey || menuItem.toolbar) {\n                if (menuItem.toolbar) {\n                    var sub = menuItem.toolbar.find(function (subMenuItem) {\n                        if (!subMenuItem.hotkey) {\n                            return false;\n                        }\n                        if (matchHotKey(subMenuItem.hotkey, event)) {\n                            vditor.toolbar.elements[subMenuItem.name].children[0]\n                                .dispatchEvent(new CustomEvent((0,compatibility/* getEventName */.Le)()));\n                            event.preventDefault();\n                            return true;\n                        }\n                    });\n                    return sub ? true : false;\n                }\n                return false;\n            }\n            if (matchHotKey(menuItem.hotkey, event)) {\n                vditor.toolbar.elements[menuItem.name].children[0].dispatchEvent(new CustomEvent((0,compatibility/* getEventName */.Le)()));\n                event.preventDefault();\n                return true;\n            }\n        });\n    });\n};\nvar selectEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"selectstart\", function (event) {\n        editorElement.onmouseup = function () {\n            setTimeout(function () {\n                var selectText = getSelectText(vditor[vditor.currentMode].element);\n                if (selectText.trim()) {\n                    if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n                        if (!(0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"footnotes-block\") &&\n                            !(0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"link-ref-defs-block\")) {\n                            vditor.wysiwyg.showComment();\n                        }\n                        else {\n                            vditor.wysiwyg.hideComment();\n                        }\n                    }\n                    if (vditor.options.select) {\n                        vditor.options.select(selectText);\n                    }\n                }\n                else {\n                    if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n                        vditor.wysiwyg.hideComment();\n                    }\n                }\n            });\n        };\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/sv/process.ts\n\n\n\n\n\n\n\n\nvar processPaste = function (vditor, text) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    range.extractContents();\n    range.insertNode(document.createTextNode(Lute.Caret));\n    range.insertNode(document.createTextNode(text));\n    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-block\", \"0\");\n    if (!blockElement) {\n        blockElement = vditor.sv.element;\n    }\n    var html = \"<div data-block='0'>\" +\n        vditor.lute.Md2VditorSVDOM(blockElement.textContent).replace(/<span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span><span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span></g, '<span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span><span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span></div><div data-block=\"0\"><') +\n        \"</div>\";\n    if (blockElement.isEqualNode(vditor.sv.element)) {\n        blockElement.innerHTML = html;\n    }\n    else {\n        blockElement.outerHTML = html;\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    scrollCenter(vditor);\n};\nvar getSideByType = function (spanNode, type, isPrevious) {\n    if (isPrevious === void 0) { isPrevious = true; }\n    var sideElement = spanNode;\n    if (sideElement.nodeType === 3) {\n        sideElement = sideElement.parentElement;\n    }\n    while (sideElement) {\n        if (sideElement.getAttribute(\"data-type\") === type) {\n            return sideElement;\n        }\n        if (isPrevious) {\n            sideElement = sideElement.previousElementSibling;\n        }\n        else {\n            sideElement = sideElement.nextElementSibling;\n        }\n    }\n    return false;\n};\nvar processSpinVditorSVDOM = function (html, vditor) {\n    log(\"SpinVditorSVDOM\", html, \"argument\", vditor.options.debugger);\n    html = \"<div data-block='0'>\" +\n        vditor.lute.SpinVditorSVDOM(html).replace(/<span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span><span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span></g, '<span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span><span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span></div><div data-block=\"0\"><') +\n        \"</div>\";\n    log(\"SpinVditorSVDOM\", html, \"result\", vditor.options.debugger);\n    return html;\n};\nvar processPreviousMarkers = function (spanElement) {\n    var spanType = spanElement.getAttribute(\"data-type\");\n    var previousElement = spanElement.previousElementSibling;\n    // / marker \n    var markerText = (spanType && spanType !== \"text\" && spanType !== \"table\" && spanType !== \"heading-marker\" &&\n        spanType !== \"newline\" && spanType !== \"yaml-front-matter-open-marker\" && spanType !== \"yaml-front-matter-close-marker\"\n        && spanType !== \"code-block-info\" && spanType !== \"code-block-close-marker\" && spanType !== \"code-block-open-marker\") ?\n        spanElement.textContent : \"\";\n    var hasNL = false;\n    if (spanType === \"newline\") {\n        hasNL = true;\n    }\n    while (previousElement && !hasNL) {\n        var previousType = previousElement.getAttribute(\"data-type\");\n        if (previousType === \"li-marker\" || previousType === \"blockquote-marker\" || previousType === \"task-marker\" ||\n            previousType === \"padding\") {\n            var previousText = previousElement.textContent;\n            if (previousType === \"li-marker\" &&\n                (spanType === \"code-block-open-marker\" || spanType === \"code-block-info\")) {\n                // https://github.com/Vanessa219/vditor/issues/586\n                markerText = previousText.replace(/\\S/g, \" \") + markerText;\n            }\n            else if (spanType === \"code-block-close-marker\" &&\n                previousElement.nextElementSibling.isSameNode(spanElement)) {\n                // https://github.com/Vanessa219/vditor/issues/594\n                var openMarker = getSideByType(spanElement, \"code-block-open-marker\");\n                if (openMarker && openMarker.previousElementSibling) {\n                    previousElement = openMarker.previousElementSibling;\n                    markerText = previousText + markerText;\n                }\n            }\n            else {\n                markerText = previousText + markerText;\n            }\n        }\n        else if (previousType === \"newline\") {\n            hasNL = true;\n        }\n        previousElement = previousElement.previousElementSibling;\n    }\n    return markerText;\n};\nvar processAfterRender = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (options.enableHint) {\n        vditor.hint.render(vditor);\n    }\n    vditor.preview.render(vditor);\n    var text = getMarkdown(vditor);\n    if (typeof vditor.options.input === \"function\" && options.enableInput) {\n        vditor.options.input(text);\n    }\n    if (vditor.options.counter.enable) {\n        vditor.counter.render(vditor, text);\n    }\n    if (vditor.options.cache.enable && (0,compatibility/* accessLocalStorage */.pK)()) {\n        localStorage.setItem(vditor.options.cache.id, text);\n        if (vditor.options.cache.after) {\n            vditor.options.cache.after(text);\n        }\n    }\n    if (vditor.devtools) {\n        vditor.devtools.renderEchart(vditor);\n    }\n    clearTimeout(vditor.sv.processTimeoutId);\n    vditor.sv.processTimeoutId = window.setTimeout(function () {\n        if (options.enableAddUndoStack && !vditor.sv.composingLock) {\n            vditor.undo.addToUndoStack(vditor);\n        }\n    }, vditor.options.undoDelay);\n};\nvar processHeading = function (vditor, value) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var headingElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"SPAN\");\n    if (headingElement && headingElement.textContent.trim() !== \"\") {\n        value = \"\\n\" + value;\n    }\n    range.collapse(true);\n    document.execCommand(\"insertHTML\", false, value);\n};\nvar processToolbar = function (vditor, actionBtn, prefix, suffix) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var commandName = actionBtn.getAttribute(\"data-type\");\n    // \n    if (vditor.sv.element.childNodes.length === 0) {\n        vditor.sv.element.innerHTML = \"<span data-type=\\\"p\\\" data-block=\\\"0\\\"><span data-type=\\\"text\\\"><wbr></span></span><span data-type=\\\"newline\\\"><br><span style=\\\"display: none\\\">\\n</span></span>\";\n        (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    var spanElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"SPAN\");\n    if (!blockElement) {\n        return;\n    }\n    if (commandName === \"link\") {\n        var html = void 0;\n        if (range.toString() === \"\") {\n            html = \"\" + prefix + Lute.Caret + suffix;\n        }\n        else {\n            html = \"\" + prefix + range.toString() + suffix.replace(\")\", Lute.Caret + \")\");\n        }\n        document.execCommand(\"insertHTML\", false, html);\n        return;\n    }\n    else if (commandName === \"italic\" || commandName === \"bold\" || commandName === \"strike\" ||\n        commandName === \"inline-code\" || commandName === \"code\" || commandName === \"table\" || commandName === \"line\") {\n        var html = void 0;\n        // https://github.com/Vanessa219/vditor/issues/563  ```\n        if (range.toString() === \"\") {\n            html = \"\" + prefix + Lute.Caret + (commandName === \"code\" ? \"\" : suffix);\n        }\n        else {\n            html = \"\" + prefix + range.toString() + Lute.Caret + (commandName === \"code\" ? \"\" : suffix);\n        }\n        if (commandName === \"table\" || (commandName === \"code\" && spanElement && spanElement.textContent !== \"\")) {\n            html = \"\\n\\n\" + html;\n        }\n        else if (commandName === \"line\") {\n            html = \"\\n\\n\" + prefix + \"\\n\" + Lute.Caret;\n        }\n        document.execCommand(\"insertHTML\", false, html);\n        return;\n    }\n    else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\" ||\n        commandName === \"quote\") {\n        if (spanElement) {\n            var marker = \"* \";\n            if (commandName === \"check\") {\n                marker = \"* [ ] \";\n            }\n            else if (commandName === \"ordered-list\") {\n                marker = \"1. \";\n            }\n            else if (commandName === \"quote\") {\n                marker = \"> \";\n            }\n            var newLine = getSideByType(spanElement, \"newline\");\n            if (newLine) {\n                newLine.insertAdjacentText(\"afterend\", marker);\n            }\n            else {\n                blockElement.insertAdjacentText(\"afterbegin\", marker);\n            }\n            inputEvent(vditor);\n            return;\n        }\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    processAfterRender(vditor);\n};\n\n;// CONCATENATED MODULE: ./src/ts/upload/getElement.ts\nvar getElement = function (vditor) {\n    switch (vditor.currentMode) {\n        case \"ir\":\n            return vditor.ir.element;\n        case \"wysiwyg\":\n            return vditor.wysiwyg.element;\n        case \"sv\":\n            return vditor.sv.element;\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/upload/setHeaders.ts\nvar setHeaders = function (vditor, xhr) {\n    if (vditor.options.upload.setHeaders) {\n        vditor.options.upload.headers = vditor.options.upload.setHeaders();\n    }\n    if (vditor.options.upload.headers) {\n        Object.keys(vditor.options.upload.headers).forEach(function (key) {\n            xhr.setRequestHeader(key, vditor.options.upload.headers[key]);\n        });\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/upload/index.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\nvar Upload = /** @class */ (function () {\n    function Upload() {\n        this.isUploading = false;\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-upload\";\n    }\n    return Upload;\n}());\nvar validateFile = function (vditor, files) {\n    vditor.tip.hide();\n    var uploadFileList = [];\n    var errorTip = \"\";\n    var uploadingStr = \"\";\n    var lang = vditor.options.lang;\n    var options = vditor.options;\n    var _loop_1 = function (iMax, i) {\n        var file = files[i];\n        var validate = true;\n        if (!file.name) {\n            errorTip += \"<li>\" + window.VditorI18n.nameEmpty + \"</li>\";\n            validate = false;\n        }\n        if (file.size > vditor.options.upload.max) {\n            errorTip += \"<li>\" + file.name + \" \" + window.VditorI18n.over + \" \" + vditor.options.upload.max / 1024 / 1024 + \"M</li>\";\n            validate = false;\n        }\n        var lastIndex = file.name.lastIndexOf(\".\");\n        var fileExt = file.name.substr(lastIndex);\n        var filename = vditor.options.upload.filename(file.name.substr(0, lastIndex)) + fileExt;\n        if (vditor.options.upload.accept) {\n            var isAccept = vditor.options.upload.accept.split(\",\").some(function (item) {\n                var type = item.trim();\n                if (type.indexOf(\".\") === 0) {\n                    if (fileExt.toLowerCase() === type.toLowerCase()) {\n                        return true;\n                    }\n                }\n                else {\n                    if (file.type.split(\"/\")[0] === type.split(\"/\")[0]) {\n                        return true;\n                    }\n                }\n                return false;\n            });\n            if (!isAccept) {\n                errorTip += \"<li>\" + file.name + \" \" + window.VditorI18n.fileTypeError + \"</li>\";\n                validate = false;\n            }\n        }\n        if (validate) {\n            uploadFileList.push(file);\n            uploadingStr += \"<li>\" + filename + \" \" + window.VditorI18n.uploading + \"</li>\";\n        }\n    };\n    for (var iMax = files.length, i = 0; i < iMax; i++) {\n        _loop_1(iMax, i);\n    }\n    vditor.tip.show(\"<ul>\" + errorTip + uploadingStr + \"</ul>\");\n    return uploadFileList;\n};\nvar genUploadedLabel = function (responseText, vditor) {\n    var editorElement = getElement(vditor);\n    editorElement.focus();\n    var response = JSON.parse(responseText);\n    var errorTip = \"\";\n    if (response.code === 1) {\n        errorTip = \"\" + response.msg;\n    }\n    if (response.data.errFiles && response.data.errFiles.length > 0) {\n        errorTip = \"<ul><li>\" + errorTip + \"</li>\";\n        response.data.errFiles.forEach(function (data) {\n            var lastIndex = data.lastIndexOf(\".\");\n            var filename = vditor.options.upload.filename(data.substr(0, lastIndex)) + data.substr(lastIndex);\n            errorTip += \"<li>\" + filename + \" \" + window.VditorI18n.uploadError + \"</li>\";\n        });\n        errorTip += \"</ul>\";\n    }\n    if (errorTip) {\n        vditor.tip.show(errorTip);\n    }\n    else {\n        vditor.tip.hide();\n    }\n    var succFileText = \"\";\n    Object.keys(response.data.succMap).forEach(function (key) {\n        var path = response.data.succMap[key];\n        var lastIndex = key.lastIndexOf(\".\");\n        var type = key.substr(lastIndex);\n        var filename = vditor.options.upload.filename(key.substr(0, lastIndex)) + type;\n        type = type.toLowerCase();\n        if (type.indexOf(\".wav\") === 0 || type.indexOf(\".mp3\") === 0 || type.indexOf(\".ogg\") === 0) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                succFileText += \"<div class=\\\"vditor-wysiwyg__block\\\" data-type=\\\"html-block\\\"\\n data-block=\\\"0\\\"><pre><code>&lt;audio controls=\\\"controls\\\" src=\\\"\" + path + \"\\\"&gt;&lt;/audio&gt;</code></pre>\";\n            }\n            else if (vditor.currentMode === \"ir\") {\n                succFileText += \"<audio controls=\\\"controls\\\" src=\\\"\" + path + \"\\\"></audio>\\n\";\n            }\n            else {\n                succFileText += \"[\" + filename + \"](\" + path + \")\\n\";\n            }\n        }\n        else if (type.indexOf(\".apng\") === 0\n            || type.indexOf(\".bmp\") === 0\n            || type.indexOf(\".gif\") === 0\n            || type.indexOf(\".ico\") === 0 || type.indexOf(\".cur\") === 0\n            || type.indexOf(\".jpg\") === 0 || type.indexOf(\".jpeg\") === 0 || type.indexOf(\".jfif\") === 0 || type.indexOf(\".pjp\") === 0 || type.indexOf(\".pjpeg\") === 0\n            || type.indexOf(\".png\") === 0\n            || type.indexOf(\".svg\") === 0\n            || type.indexOf(\".webp\") === 0) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                succFileText += \"<img alt=\\\"\" + filename + \"\\\" src=\\\"\" + path + \"\\\">\";\n            }\n            else {\n                succFileText += \"![\" + filename + \"](\" + path + \")\\n\";\n            }\n        }\n        else {\n            if (vditor.currentMode === \"wysiwyg\") {\n                succFileText += \"<a href=\\\"\" + path + \"\\\">\" + filename + \"</a>\";\n            }\n            else {\n                succFileText += \"[\" + filename + \"](\" + path + \")\\n\";\n            }\n        }\n    });\n    (0,selection/* setSelectionFocus */.Hc)(vditor.upload.range);\n    document.execCommand(\"insertHTML\", false, succFileText);\n    vditor.upload.range = getSelection().getRangeAt(0).cloneRange();\n};\nvar uploadFiles = function (vditor, files, element) { return __awaiter(void 0, void 0, void 0, function () {\n    var fileList, filesMax, i, fileItem, isValidate, isValidate, editorElement, validateResult, formData, extraData, _i, _a, key, i, iMax, xhr;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                fileList = [];\n                filesMax = vditor.options.upload.multiple === true ? files.length : 1;\n                for (i = 0; i < filesMax; i++) {\n                    fileItem = files[i];\n                    if (fileItem instanceof DataTransferItem) {\n                        fileItem = fileItem.getAsFile();\n                    }\n                    fileList.push(fileItem);\n                }\n                if (vditor.options.upload.handler) {\n                    isValidate = vditor.options.upload.handler(fileList);\n                    if (typeof isValidate === \"string\") {\n                        vditor.tip.show(isValidate);\n                        return [2 /*return*/];\n                    }\n                    return [2 /*return*/];\n                }\n                if (!vditor.options.upload.url || !vditor.upload) {\n                    if (element) {\n                        element.value = \"\";\n                    }\n                    vditor.tip.show(\"please config: options.upload.url\");\n                    return [2 /*return*/];\n                }\n                if (!vditor.options.upload.file) return [3 /*break*/, 2];\n                return [4 /*yield*/, vditor.options.upload.file(fileList)];\n            case 1:\n                fileList = _b.sent();\n                _b.label = 2;\n            case 2:\n                if (vditor.options.upload.validate) {\n                    isValidate = vditor.options.upload.validate(fileList);\n                    if (typeof isValidate === \"string\") {\n                        vditor.tip.show(isValidate);\n                        return [2 /*return*/];\n                    }\n                }\n                editorElement = getElement(vditor);\n                vditor.upload.range = (0,selection/* getEditorRange */.zh)(vditor);\n                validateResult = validateFile(vditor, fileList);\n                if (validateResult.length === 0) {\n                    if (element) {\n                        element.value = \"\";\n                    }\n                    return [2 /*return*/];\n                }\n                formData = new FormData();\n                extraData = vditor.options.upload.extraData;\n                for (_i = 0, _a = Object.keys(extraData); _i < _a.length; _i++) {\n                    key = _a[_i];\n                    formData.append(key, extraData[key]);\n                }\n                for (i = 0, iMax = validateResult.length; i < iMax; i++) {\n                    formData.append(vditor.options.upload.fieldName, validateResult[i]);\n                }\n                xhr = new XMLHttpRequest();\n                xhr.open(\"POST\", vditor.options.upload.url);\n                if (vditor.options.upload.token) {\n                    xhr.setRequestHeader(\"X-Upload-Token\", vditor.options.upload.token);\n                }\n                if (vditor.options.upload.withCredentials) {\n                    xhr.withCredentials = true;\n                }\n                setHeaders(vditor, xhr);\n                vditor.upload.isUploading = true;\n                editorElement.setAttribute(\"contenteditable\", \"false\");\n                xhr.onreadystatechange = function () {\n                    if (xhr.readyState === XMLHttpRequest.DONE) {\n                        vditor.upload.isUploading = false;\n                        editorElement.setAttribute(\"contenteditable\", \"true\");\n                        if (xhr.status >= 200 && xhr.status < 300) {\n                            if (vditor.options.upload.success) {\n                                vditor.options.upload.success(editorElement, xhr.responseText);\n                            }\n                            else {\n                                var responseText = xhr.responseText;\n                                if (vditor.options.upload.format) {\n                                    responseText = vditor.options.upload.format(files, xhr.responseText);\n                                }\n                                genUploadedLabel(responseText, vditor);\n                            }\n                        }\n                        else {\n                            if (vditor.options.upload.error) {\n                                vditor.options.upload.error(xhr.responseText);\n                            }\n                            else {\n                                vditor.tip.show(xhr.responseText);\n                            }\n                        }\n                        if (element) {\n                            element.value = \"\";\n                        }\n                        vditor.upload.element.style.display = \"none\";\n                    }\n                };\n                xhr.upload.onprogress = function (event) {\n                    if (!event.lengthComputable) {\n                        return;\n                    }\n                    var progress = event.loaded / event.total * 100;\n                    vditor.upload.element.style.display = \"block\";\n                    var progressBar = vditor.upload.element;\n                    progressBar.style.width = progress + \"%\";\n                };\n                xhr.send(formData);\n                return [2 /*return*/];\n        }\n    });\n}); };\n\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/input.ts\n\n\n\n\n\n\n\n\nvar input_input = function (vditor, range, event) {\n    var _a;\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (!blockElement) {\n        //  innerHTML\n        blockElement = vditor.wysiwyg.element;\n    }\n    if (event && event.inputType !== \"formatItalic\"\n        && event.inputType !== \"deleteByDrag\"\n        && event.inputType !== \"insertFromDrop\"\n        && event.inputType !== \"formatBold\"\n        && event.inputType !== \"formatRemove\"\n        && event.inputType !== \"formatStrikeThrough\"\n        && event.inputType !== \"insertUnorderedList\"\n        && event.inputType !== \"insertOrderedList\"\n        && event.inputType !== \"formatOutdent\"\n        && event.inputType !== \"formatIndent\"\n        && event.inputType !== \"\" // document.execCommand('unlink', false)\n        || !event) {\n        var previousAEmptyElement = previoueIsEmptyA(range.startContainer);\n        if (previousAEmptyElement) {\n            //  https://github.com/Vanessa219/vditor/issues/163\n            previousAEmptyElement.remove();\n        }\n        // \n        vditor.wysiwyg.element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n            wbr.remove();\n        });\n        range.insertNode(document.createElement(\"wbr\"));\n        // \n        blockElement.querySelectorAll(\"[style]\").forEach(function (item) {\n            item.removeAttribute(\"style\");\n        });\n        // \n        blockElement.querySelectorAll(\".vditor-comment\").forEach(function (item) {\n            if (item.textContent.trim() === \"\") {\n                item.classList.remove(\"vditor-comment\", \"vditor-comment--focus\");\n                item.removeAttribute(\"data-cmtids\");\n            }\n        });\n        //  \n        (_a = blockElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\".vditor-comment\").forEach(function (item) {\n            if (item.textContent.trim() === \"\") {\n                item.classList.remove(\"vditor-comment\", \"vditor-comment--focus\");\n                item.removeAttribute(\"data-cmtids\");\n            }\n        });\n        var html_1 = \"\";\n        if (blockElement.getAttribute(\"data-type\") === \"link-ref-defs-block\") {\n            // \n            blockElement = vditor.wysiwyg.element;\n        }\n        var isWYSIWYGElement = blockElement.isEqualNode(vditor.wysiwyg.element);\n        var footnoteElement = (0,hasClosest/* hasClosestByAttribute */.a1)(blockElement, \"data-type\", \"footnotes-block\");\n        if (!isWYSIWYGElement) {\n            // \n            var topListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n            if (topListElement && !footnoteElement) {\n                var blockquoteElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"BLOCKQUOTE\");\n                if (blockquoteElement) {\n                    // li  blockquote  blockquote\n                    blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer) || blockElement;\n                }\n                else {\n                    blockElement = topListElement;\n                }\n            }\n            // \n            if (footnoteElement) {\n                blockElement = footnoteElement;\n            }\n            html_1 = blockElement.outerHTML;\n            if (blockElement.tagName === \"UL\" || blockElement.tagName === \"OL\") {\n                // \n                var listPrevElement = blockElement.previousElementSibling;\n                var listNextElement = blockElement.nextElementSibling;\n                if (listPrevElement && (listPrevElement.tagName === \"UL\" || listPrevElement.tagName === \"OL\")) {\n                    html_1 = listPrevElement.outerHTML + html_1;\n                    listPrevElement.remove();\n                }\n                if (listNextElement && (listNextElement.tagName === \"UL\" || listNextElement.tagName === \"OL\")) {\n                    html_1 = html_1 + listNextElement.outerHTML;\n                    listNextElement.remove();\n                }\n                // firefox  list item https://github.com/Vanessa219/vditor/issues/194\n                html_1 = html_1.replace(\"<div><wbr><br></div>\", \"<li><p><wbr><br></p></li>\");\n            }\n            // \n            vditor.wysiwyg.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item) {\n                if (item && !blockElement.isEqualNode(item)) {\n                    html_1 += item.outerHTML;\n                    item.remove();\n                }\n            });\n            // \n            vditor.wysiwyg.element.querySelectorAll(\"[data-type='footnotes-block']\").forEach(function (item) {\n                if (item && !blockElement.isEqualNode(item)) {\n                    html_1 += item.outerHTML;\n                    item.remove();\n                }\n            });\n        }\n        else {\n            html_1 = blockElement.innerHTML;\n        }\n        //  em strongs commonmark \n        html_1 = html_1.replace(/<\\/(strong|b)><strong data-marker=\"\\W{2}\">/g, \"\")\n            .replace(/<\\/(em|i)><em data-marker=\"\\W{1}\">/g, \"\")\n            .replace(/<\\/(s|strike)><s data-marker=\"~{1,2}\">/g, \"\");\n        if (html_1 === '<p data-block=\"0\">```<wbr></p>' && vditor.hint.recentLanguage) {\n            html_1 = '<p data-block=\"0\">```<wbr></p>'.replace(\"```\", \"```\" + vditor.hint.recentLanguage);\n        }\n        log(\"SpinVditorDOM\", html_1, \"argument\", vditor.options.debugger);\n        html_1 = vditor.lute.SpinVditorDOM(html_1);\n        log(\"SpinVditorDOM\", html_1, \"result\", vditor.options.debugger);\n        if (isWYSIWYGElement) {\n            blockElement.innerHTML = html_1;\n        }\n        else {\n            blockElement.outerHTML = html_1;\n            if (footnoteElement) {\n                //  tip\n                var footnoteItemElement = (0,hasClosest/* hasTopClosestByTag */.E2)(vditor.wysiwyg.element.querySelector(\"wbr\"), \"LI\");\n                if (footnoteItemElement) {\n                    var footnoteRefElement = vditor.wysiwyg.element.querySelector(\"sup[data-type=\\\"footnotes-ref\\\"][data-footnotes-label=\\\"\" + footnoteItemElement.getAttribute(\"data-marker\") + \"\\\"]\");\n                    if (footnoteRefElement) {\n                        footnoteRefElement.setAttribute(\"aria-label\", footnoteItemElement.textContent.trim().substr(0, 24));\n                    }\n                }\n            }\n        }\n        var firstLinkRefDefElement_1;\n        var allLinkRefDefsElement = vditor.wysiwyg.element.querySelectorAll(\"[data-type='link-ref-defs-block']\");\n        allLinkRefDefsElement.forEach(function (item, index) {\n            if (index === 0) {\n                firstLinkRefDefElement_1 = item;\n            }\n            else {\n                firstLinkRefDefElement_1.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n                item.remove();\n            }\n        });\n        if (allLinkRefDefsElement.length > 0) {\n            vditor.wysiwyg.element.insertAdjacentElement(\"beforeend\", allLinkRefDefsElement[0]);\n        }\n        // \n        var firstFootnoteElement_1;\n        var allFootnoteElement = vditor.wysiwyg.element.querySelectorAll(\"[data-type='footnotes-block']\");\n        allFootnoteElement.forEach(function (item, index) {\n            if (index === 0) {\n                firstFootnoteElement_1 = item;\n            }\n            else {\n                firstFootnoteElement_1.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n                item.remove();\n            }\n        });\n        if (allFootnoteElement.length > 0) {\n            vditor.wysiwyg.element.insertAdjacentElement(\"beforeend\", allFootnoteElement[0]);\n        }\n        // \n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        vditor.wysiwyg.element.querySelectorAll(\".vditor-wysiwyg__preview[data-render='2']\")\n            .forEach(function (item) {\n            processCodeRender(item, vditor);\n        });\n        if (event && (event.inputType === \"deleteContentBackward\" || event.inputType === \"deleteContentForward\") &&\n            vditor.options.comment.enable) {\n            vditor.wysiwyg.triggerRemoveComment(vditor);\n            vditor.options.comment.adjustTop(vditor.wysiwyg.getComments(vditor, true));\n        }\n    }\n    renderToc(vditor);\n    afterRenderEvent(vditor, {\n        enableAddUndoStack: true,\n        enableHint: true,\n        enableInput: true,\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/fixBrowserBehavior.ts\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar fixBrowserBehavior_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar fixBrowserBehavior_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// https://github.com/Vanessa219/vditor/issues/508 \nvar fixGSKeyBackspace = function (event, vditor, startContainer) {\n    if (event.keyCode === 229 && event.code === \"\" && event.key === \"Unidentified\" && vditor.currentMode !== \"sv\") {\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n        //  299\n        if (blockElement && blockElement.textContent.trim() === \"\") {\n            vditor[vditor.currentMode].composingLock = true;\n            return false;\n        }\n    }\n    return true;\n};\n// https://github.com/Vanessa219/vditor/issues/361 \nvar fixCJKPosition = function (range, vditor, event) {\n    if (event.key === \"Enter\" || event.key === \"Tab\" || event.key === \"Backspace\" || event.key.indexOf(\"Arrow\") > -1\n        || (0,compatibility/* isCtrl */.yl)(event) || event.key === \"Escape\" || event.shiftKey || event.altKey) {\n        return;\n    }\n    var pLiElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"P\") ||\n        (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n    if (pLiElement && (0,selection/* getSelectPosition */.im)(pLiElement, vditor[vditor.currentMode].element, range).start === 0) {\n        var zwspNode = document.createTextNode(constants/* Constants.ZWSP */.g.ZWSP);\n        range.insertNode(zwspNode);\n        range.setStartAfter(zwspNode);\n    }\n};\n// https://github.com/Vanessa219/vditor/issues/381 \nvar fixCursorDownInlineMath = function (range, key) {\n    if (key === \"ArrowDown\" || key === \"ArrowUp\") {\n        var inlineElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"math-inline\") ||\n            (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"html-entity\") ||\n            (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"html-inline\");\n        if (inlineElement) {\n            if (key === \"ArrowDown\") {\n                range.setStartAfter(inlineElement.parentElement);\n            }\n            if (key === \"ArrowUp\") {\n                range.setStartBefore(inlineElement.parentElement);\n            }\n        }\n    }\n};\nvar insertEmptyBlock = function (vditor, position) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (blockElement) {\n        blockElement.insertAdjacentHTML(position, \"<p data-block=\\\"0\\\">\" + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr>\\n</p>\");\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        highlightToolbar(vditor);\n        execAfterRender(vditor);\n    }\n};\nvar isFirstCell = function (cellElement) {\n    var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(cellElement, \"TABLE\");\n    if (tableElement && tableElement.rows[0].cells[0].isSameNode(cellElement)) {\n        return tableElement;\n    }\n    return false;\n};\nvar isLastCell = function (cellElement) {\n    var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(cellElement, \"TABLE\");\n    if (tableElement && tableElement.lastElementChild.lastElementChild.lastElementChild.isSameNode(cellElement)) {\n        return tableElement;\n    }\n    return false;\n};\n// \nvar goPreviousCell = function (cellElement, range, isSelected) {\n    if (isSelected === void 0) { isSelected = true; }\n    var previousElement = cellElement.previousElementSibling;\n    if (!previousElement) {\n        if (cellElement.parentElement.previousElementSibling) {\n            previousElement = cellElement.parentElement.previousElementSibling.lastElementChild;\n        }\n        else if (cellElement.parentElement.parentElement.tagName === \"TBODY\" &&\n            cellElement.parentElement.parentElement.previousElementSibling) {\n            previousElement = cellElement.parentElement\n                .parentElement.previousElementSibling.lastElementChild.lastElementChild;\n        }\n        else {\n            previousElement = null;\n        }\n    }\n    if (previousElement) {\n        range.selectNodeContents(previousElement);\n        if (!isSelected) {\n            range.collapse(false);\n        }\n        (0,selection/* setSelectionFocus */.Hc)(range);\n    }\n    return previousElement;\n};\nvar insertAfterBlock = function (vditor, event, range, element, blockElement) {\n    var position = (0,selection/* getSelectPosition */.im)(element, vditor[vditor.currentMode].element, range);\n    if ((event.key === \"ArrowDown\" && element.textContent.trimRight().substr(position.start).indexOf(\"\\n\") === -1) ||\n        (event.key === \"ArrowRight\" && position.start >= element.textContent.trimRight().length)) {\n        var nextElement = blockElement.nextElementSibling;\n        if (!nextElement ||\n            (nextElement && (nextElement.tagName === \"TABLE\" || nextElement.getAttribute(\"data-type\")))) {\n            blockElement.insertAdjacentHTML(\"afterend\", \"<p data-block=\\\"0\\\">\" + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr></p>\");\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        }\n        else {\n            range.selectNodeContents(nextElement);\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n        }\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar insertBeforeBlock = function (vditor, event, range, element, blockElement) {\n    var position = (0,selection/* getSelectPosition */.im)(element, vditor[vditor.currentMode].element, range);\n    if ((event.key === \"ArrowUp\" && element.textContent.substr(0, position.start).indexOf(\"\\n\") === -1) ||\n        ((event.key === \"ArrowLeft\" || (event.key === \"Backspace\" && range.toString() === \"\")) &&\n            position.start === 0)) {\n        var previousElement = blockElement.previousElementSibling;\n        // table || code\n        if (!previousElement ||\n            (previousElement && (previousElement.tagName === \"TABLE\" || previousElement.getAttribute(\"data-type\")))) {\n            blockElement.insertAdjacentHTML(\"beforebegin\", \"<p data-block=\\\"0\\\">\" + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr></p>\");\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        }\n        else {\n            range.selectNodeContents(previousElement);\n            range.collapse(false);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n        }\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar listToggle = function (vditor, range, type, cancel) {\n    if (cancel === void 0) { cancel = true; }\n    var itemElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n    vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n        wbr.remove();\n    });\n    range.insertNode(document.createElement(\"wbr\"));\n    if (cancel && itemElement) {\n        // \n        var pHTML = \"\";\n        for (var i = 0; i < itemElement.parentElement.childElementCount; i++) {\n            var inputElement = itemElement.parentElement.children[i].querySelector(\"input\");\n            if (inputElement) {\n                inputElement.remove();\n            }\n            pHTML += \"<p data-block=\\\"0\\\">\" + itemElement.parentElement.children[i].innerHTML.trimLeft() + \"</p>\";\n        }\n        itemElement.parentElement.insertAdjacentHTML(\"beforebegin\", pHTML);\n        itemElement.parentElement.remove();\n    }\n    else {\n        if (!itemElement) {\n            // \n            var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-block\", \"0\");\n            if (!blockElement) {\n                vditor[vditor.currentMode].element.querySelector(\"wbr\").remove();\n                blockElement = vditor[vditor.currentMode].element.querySelector(\"p\");\n                blockElement.innerHTML = \"<wbr>\";\n            }\n            if (type === \"check\") {\n                blockElement.insertAdjacentHTML(\"beforebegin\", \"<ul data-block=\\\"0\\\"><li class=\\\"vditor-task\\\"><input type=\\\"checkbox\\\" /> \" + blockElement.innerHTML + \"</li></ul>\");\n                blockElement.remove();\n            }\n            else if (type === \"list\") {\n                blockElement.insertAdjacentHTML(\"beforebegin\", \"<ul data-block=\\\"0\\\"><li>\" + blockElement.innerHTML + \"</li></ul>\");\n                blockElement.remove();\n            }\n            else if (type === \"ordered-list\") {\n                blockElement.insertAdjacentHTML(\"beforebegin\", \"<ol data-block=\\\"0\\\"><li>\" + blockElement.innerHTML + \"</li></ol>\");\n                blockElement.remove();\n            }\n        }\n        else {\n            // \n            if (type === \"check\") {\n                itemElement.parentElement.querySelectorAll(\"li\").forEach(function (item) {\n                    item.insertAdjacentHTML(\"afterbegin\", \"<input type=\\\"checkbox\\\" />\" + (item.textContent.indexOf(\" \") === 0 ? \"\" : \" \"));\n                    item.classList.add(\"vditor-task\");\n                });\n            }\n            else {\n                if (itemElement.querySelector(\"input\")) {\n                    itemElement.parentElement.querySelectorAll(\"li\").forEach(function (item) {\n                        item.querySelector(\"input\").remove();\n                        item.classList.remove(\"vditor-task\");\n                    });\n                }\n                var element = void 0;\n                if (type === \"list\") {\n                    element = document.createElement(\"ul\");\n                    element.setAttribute(\"data-marker\", \"*\");\n                }\n                else {\n                    element = document.createElement(\"ol\");\n                    element.setAttribute(\"data-marker\", \"1.\");\n                }\n                element.setAttribute(\"data-block\", \"0\");\n                element.setAttribute(\"data-tight\", itemElement.parentElement.getAttribute(\"data-tight\"));\n                element.innerHTML = itemElement.parentElement.innerHTML;\n                itemElement.parentElement.parentNode.replaceChild(element, itemElement.parentElement);\n            }\n        }\n    }\n};\nvar listIndent = function (vditor, liElement, range) {\n    var previousElement = liElement.previousElementSibling;\n    if (liElement && previousElement) {\n        var liElements_1 = [liElement];\n        Array.from(range.cloneContents().children).forEach(function (item, index) {\n            if (item.nodeType !== 3 && liElement && item.textContent.trim() !== \"\"\n                && liElement.getAttribute(\"data-node-id\") === item.getAttribute(\"data-node-id\")) {\n                if (index !== 0) {\n                    liElements_1.push(liElement);\n                }\n                liElement = liElement.nextElementSibling;\n            }\n        });\n        vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n            wbr.remove();\n        });\n        range.insertNode(document.createElement(\"wbr\"));\n        var liParentElement = previousElement.parentElement;\n        var liHTML_1 = \"\";\n        liElements_1.forEach(function (item) {\n            var marker = item.getAttribute(\"data-marker\");\n            if (marker.length !== 1) {\n                marker = \"1\" + marker.slice(-1);\n            }\n            liHTML_1 += \"<li data-node-id=\\\"\" + item.getAttribute(\"data-node-id\") + \"\\\" data-marker=\\\"\" + marker + \"\\\">\" + item.innerHTML + \"</li>\";\n            item.remove();\n        });\n        previousElement.insertAdjacentHTML(\"beforeend\", \"<\" + liParentElement.tagName + \" data-block=\\\"0\\\">\" + liHTML_1 + \"</\" + liParentElement.tagName + \">\");\n        if (vditor.currentMode === \"wysiwyg\") {\n            liParentElement.outerHTML = vditor.lute.SpinVditorDOM(liParentElement.outerHTML);\n        }\n        else {\n            liParentElement.outerHTML = vditor.lute.SpinVditorIRDOM(liParentElement.outerHTML);\n        }\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        var tempTopListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n        if (tempTopListElement) {\n            tempTopListElement.querySelectorAll(\".vditor-\" + vditor.currentMode + \"__preview[data-render='2']\")\n                .forEach(function (item) {\n                processCodeRender(item, vditor);\n                if (vditor.currentMode === \"wysiwyg\") {\n                    item.previousElementSibling.setAttribute(\"style\", \"display:none\");\n                }\n            });\n        }\n        execAfterRender(vditor);\n        highlightToolbar(vditor);\n    }\n    else {\n        vditor[vditor.currentMode].element.focus();\n    }\n};\nvar listOutdent = function (vditor, liElement, range, topListElement) {\n    var liParentLiElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(liElement.parentElement, \"LI\");\n    if (liParentLiElement) {\n        vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n            wbr.remove();\n        });\n        range.insertNode(document.createElement(\"wbr\"));\n        var liParentElement = liElement.parentElement;\n        var liParentAfterElement = liParentElement.cloneNode();\n        var liElements_2 = [liElement];\n        Array.from(range.cloneContents().children).forEach(function (item, index) {\n            if (item.nodeType !== 3 && liElement && item.textContent.trim() !== \"\" &&\n                liElement.getAttribute(\"data-node-id\") === item.getAttribute(\"data-node-id\")) {\n                if (index !== 0) {\n                    liElements_2.push(liElement);\n                }\n                liElement = liElement.nextElementSibling;\n            }\n        });\n        var isMatch_1 = false;\n        var afterHTML_1 = \"\";\n        liParentElement.querySelectorAll(\"li\").forEach(function (item) {\n            if (isMatch_1) {\n                afterHTML_1 += item.outerHTML;\n                if (!item.nextElementSibling && !item.previousElementSibling) {\n                    item.parentElement.remove();\n                }\n                else {\n                    item.remove();\n                }\n            }\n            if (item.isSameNode(liElements_2[liElements_2.length - 1])) {\n                isMatch_1 = true;\n            }\n        });\n        liElements_2.reverse().forEach(function (item) {\n            liParentLiElement.insertAdjacentElement(\"afterend\", item);\n        });\n        if (afterHTML_1) {\n            liParentAfterElement.innerHTML = afterHTML_1;\n            liElements_2[0].insertAdjacentElement(\"beforeend\", liParentAfterElement);\n        }\n        if (vditor.currentMode === \"wysiwyg\") {\n            topListElement.outerHTML = vditor.lute.SpinVditorDOM(topListElement.outerHTML);\n        }\n        else {\n            topListElement.outerHTML = vditor.lute.SpinVditorIRDOM(topListElement.outerHTML);\n        }\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        var tempTopListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n        if (tempTopListElement) {\n            tempTopListElement.querySelectorAll(\".vditor-\" + vditor.currentMode + \"__preview[data-render='2']\")\n                .forEach(function (item) {\n                processCodeRender(item, vditor);\n                if (vditor.currentMode === \"wysiwyg\") {\n                    item.previousElementSibling.setAttribute(\"style\", \"display:none\");\n                }\n            });\n        }\n        execAfterRender(vditor);\n        highlightToolbar(vditor);\n    }\n    else {\n        vditor[vditor.currentMode].element.focus();\n    }\n};\nvar setTableAlign = function (tableElement, type) {\n    var cell = getSelection().getRangeAt(0).startContainer.parentElement;\n    var columnCnt = tableElement.rows[0].cells.length;\n    var rowCnt = tableElement.rows.length;\n    var currentColumn = 0;\n    for (var i = 0; i < rowCnt; i++) {\n        for (var j = 0; j < columnCnt; j++) {\n            if (tableElement.rows[i].cells[j].isSameNode(cell)) {\n                currentColumn = j;\n                break;\n            }\n        }\n    }\n    for (var k = 0; k < rowCnt; k++) {\n        tableElement.rows[k].cells[currentColumn].setAttribute(\"align\", type);\n    }\n};\nvar isHrMD = function (text) {\n    // - _ *\n    var marker = text.trimRight().split(\"\\n\").pop();\n    if (marker === \"\") {\n        return false;\n    }\n    if (marker.replace(/ |-/g, \"\") === \"\"\n        || marker.replace(/ |_/g, \"\") === \"\"\n        || marker.replace(/ |\\*/g, \"\") === \"\") {\n        if (marker.replace(/ /g, \"\").length > 2) {\n            if (marker.indexOf(\"-\") > -1 && marker.trimLeft().indexOf(\" \") === -1\n                && text.trimRight().split(\"\\n\").length > 1) {\n                //  heading\n                return false;\n            }\n            if (marker.indexOf(\"    \") === 0 || marker.indexOf(\"\\t\") === 0) {\n                // \n                return false;\n            }\n            return true;\n        }\n        return false;\n    }\n    return false;\n};\nvar isHeadingMD = function (text) {\n    // - =\n    var textArray = text.trimRight().split(\"\\n\");\n    text = textArray.pop();\n    if (text.indexOf(\"    \") === 0 || text.indexOf(\"\\t\") === 0) {\n        return false;\n    }\n    text = text.trimLeft();\n    if (text === \"\" || textArray.length === 0) {\n        return false;\n    }\n    if (text.replace(/-/g, \"\") === \"\"\n        || text.replace(/=/g, \"\") === \"\") {\n        return true;\n    }\n    return false;\n};\nvar execAfterRender = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (vditor.currentMode === \"wysiwyg\") {\n        afterRenderEvent(vditor, options);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        process_processAfterRender(vditor, options);\n    }\n    else if (vditor.currentMode === \"sv\") {\n        processAfterRender(vditor, options);\n    }\n};\nvar fixList = function (range, vditor, pElement, event) {\n    var _a;\n    var startContainer = range.startContainer;\n    var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"LI\");\n    if (liElement) {\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\" &&\n            // fix li  P  P  li\n            (!event.shiftKey && pElement && liElement.contains(pElement) && pElement.nextElementSibling)) {\n            if (liElement && !liElement.textContent.endsWith(\"\\n\")) {\n                // li  \\n\n                liElement.insertAdjacentText(\"beforeend\", \"\\n\");\n            }\n            range.insertNode(document.createTextNode(\"\\n\\n\"));\n            range.collapse(false);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Backspace\" &&\n            !liElement.previousElementSibling && range.toString() === \"\" &&\n            (0,selection/* getSelectPosition */.im)(liElement, vditor[vditor.currentMode].element, range).start === 0) {\n            //  li \n            if (liElement.nextElementSibling) {\n                liElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<p data-block=\\\"0\\\"><wbr>\" + liElement.innerHTML + \"</p>\");\n                liElement.remove();\n            }\n            else {\n                liElement.parentElement.outerHTML = \"<p data-block=\\\"0\\\"><wbr>\" + liElement.innerHTML + \"</p>\";\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // \n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Backspace\" &&\n            liElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" &&\n            range.toString() === \"\" && ((_a = liElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.tagName) === \"LI\") {\n            liElement.previousElementSibling.insertAdjacentText(\"beforeend\", \"\\n\\n\");\n            range.selectNodeContents(liElement.previousElementSibling);\n            range.collapse(false);\n            liElement.remove();\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Tab\") {\n            // /tab \n            var isFirst = false;\n            if (range.startOffset === 0\n                && ((startContainer.nodeType === 3 && !startContainer.previousSibling)\n                    || (startContainer.nodeType !== 3 && startContainer.nodeName === \"LI\"))) {\n                // /\n                isFirst = true;\n            }\n            else if (liElement.classList.contains(\"vditor-task\") && range.startOffset === 1\n                && startContainer.previousSibling.nodeType !== 3\n                && startContainer.previousSibling.tagName === \"INPUT\") {\n                // \n                isFirst = true;\n            }\n            if (isFirst || range.toString() !== \"\") {\n                if (event.shiftKey) {\n                    listOutdent(vditor, liElement, range, liElement.parentElement);\n                }\n                else {\n                    listIndent(vditor, liElement, range);\n                }\n                event.preventDefault();\n                return true;\n            }\n        }\n    }\n    return false;\n};\n// tab : block code render, table,  tab \nvar fixTab = function (vditor, range, event) {\n    if (vditor.options.tab && event.key === \"Tab\") {\n        if (event.shiftKey) {\n            // TODO shift+tab\n        }\n        else {\n            if (range.toString() === \"\") {\n                range.insertNode(document.createTextNode(vditor.options.tab));\n                range.collapse(false);\n            }\n            else {\n                range.extractContents();\n                range.insertNode(document.createTextNode(vditor.options.tab));\n                range.collapse(false);\n            }\n        }\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        execAfterRender(vditor);\n        event.preventDefault();\n        return true;\n    }\n};\nvar fixMarkdown = function (event, vditor, pElement, range) {\n    if (!pElement) {\n        return;\n    }\n    if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\") {\n        var pText = String.raw(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\", \"\"], [\"\", \"\"])), pElement.textContent).replace(/\\\\\\|/g, \"\").trim();\n        var pTextList = pText.split(\"|\");\n        if (pText.startsWith(\"|\") && pText.endsWith(\"|\") && pTextList.length > 3) {\n            // table \n            var tableHeaderMD = pTextList.map(function () { return \"---\"; }).join(\"|\");\n            tableHeaderMD =\n                pElement.textContent + \"\\n\" + tableHeaderMD.substring(3, tableHeaderMD.length - 3) + \"\\n|<wbr>\";\n            pElement.outerHTML = vditor.lute.SpinVditorDOM(tableHeaderMD);\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // hr \n        if (isHrMD(pElement.innerHTML) && pElement.previousElementSibling) {\n            //  hr \n            var pInnerHTML = \"\";\n            var innerHTMLList = pElement.innerHTML.trimRight().split(\"\\n\");\n            if (innerHTMLList.length > 1) {\n                innerHTMLList.pop();\n                pInnerHTML = \"<p data-block=\\\"0\\\">\" + innerHTMLList.join(\"\\n\") + \"</p>\";\n            }\n            pElement.insertAdjacentHTML(\"afterend\", pInnerHTML + \"<hr data-block=\\\"0\\\"><p data-block=\\\"0\\\"><wbr>\\n</p>\");\n            pElement.remove();\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (isHeadingMD(pElement.innerHTML)) {\n            // heading \n            if (vditor.currentMode === \"wysiwyg\") {\n                pElement.outerHTML = vditor.lute.SpinVditorDOM(pElement.innerHTML + '<p data-block=\"0\"><wbr>\\n</p>');\n            }\n            else {\n                pElement.outerHTML = vditor.lute.SpinVditorIRDOM(pElement.innerHTML + '<p data-block=\"0\"><wbr>\\n</p>');\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    //  https://github.com/Vanessa219/vditor/issues/220\n    if (range.collapsed && pElement.previousElementSibling && event.key === \"Backspace\" &&\n        !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey &&\n        pElement.textContent.trimRight().split(\"\\n\").length > 1 &&\n        (0,selection/* getSelectPosition */.im)(pElement, vditor[vditor.currentMode].element, range).start === 0) {\n        var lastElement = (0,hasClosest/* getLastNode */.DX)(pElement.previousElementSibling);\n        if (!lastElement.textContent.endsWith(\"\\n\")) {\n            lastElement.textContent = lastElement.textContent + \"\\n\";\n        }\n        lastElement.parentElement.insertAdjacentHTML(\"beforeend\", \"<wbr>\" + pElement.innerHTML);\n        pElement.remove();\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        return false;\n    }\n    return false;\n};\nvar insertRow = function (vditor, range, cellElement) {\n    var rowHTML = \"\";\n    for (var m = 0; m < cellElement.parentElement.childElementCount; m++) {\n        rowHTML += \"<td align=\\\"\" + cellElement.parentElement.children[m].getAttribute(\"align\") + \"\\\"> </td>\";\n    }\n    if (cellElement.tagName === \"TH\") {\n        cellElement.parentElement.parentElement.insertAdjacentHTML(\"afterend\", \"<tbody><tr>\" + rowHTML + \"</tr></tbody>\");\n    }\n    else {\n        cellElement.parentElement.insertAdjacentHTML(\"afterend\", \"<tr>\" + rowHTML + \"</tr>\");\n    }\n    execAfterRender(vditor);\n};\nvar insertRowAbove = function (vditor, range, cellElement) {\n    var rowHTML = \"\";\n    for (var m = 0; m < cellElement.parentElement.childElementCount; m++) {\n        if (cellElement.tagName === \"TH\") {\n            rowHTML += \"<th align=\\\"\" + cellElement.parentElement.children[m].getAttribute(\"align\") + \"\\\"> </th>\";\n        }\n        else {\n            rowHTML += \"<td align=\\\"\" + cellElement.parentElement.children[m].getAttribute(\"align\") + \"\\\"> </td>\";\n        }\n    }\n    if (cellElement.tagName === \"TH\") {\n        cellElement.parentElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<thead><tr>\" + rowHTML + \"</tr></thead>\");\n        range.insertNode(document.createElement(\"wbr\"));\n        var theadHTML = cellElement.parentElement.innerHTML.replace(/<th>/g, \"<td>\").replace(/<\\/th>/g, \"</td>\");\n        cellElement.parentElement.parentElement.nextElementSibling.insertAdjacentHTML(\"afterbegin\", theadHTML);\n        cellElement.parentElement.parentElement.remove();\n        (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n    }\n    else {\n        cellElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<tr>\" + rowHTML + \"</tr>\");\n    }\n    execAfterRender(vditor);\n};\nvar insertColumn = function (vditor, tableElement, cellElement, type) {\n    if (type === void 0) { type = \"afterend\"; }\n    var index = 0;\n    var previousElement = cellElement.previousElementSibling;\n    while (previousElement) {\n        index++;\n        previousElement = previousElement.previousElementSibling;\n    }\n    for (var i = 0; i < tableElement.rows.length; i++) {\n        if (i === 0) {\n            tableElement.rows[i].cells[index].insertAdjacentHTML(type, \"<th> </th>\");\n        }\n        else {\n            tableElement.rows[i].cells[index].insertAdjacentHTML(type, \"<td> </td>\");\n        }\n    }\n    execAfterRender(vditor);\n};\nvar deleteRow = function (vditor, range, cellElement) {\n    if (cellElement.tagName === \"TD\") {\n        var tbodyElement = cellElement.parentElement.parentElement;\n        if (cellElement.parentElement.previousElementSibling) {\n            range.selectNodeContents(cellElement.parentElement.previousElementSibling.lastElementChild);\n        }\n        else {\n            range.selectNodeContents(tbodyElement.previousElementSibling.lastElementChild.lastElementChild);\n        }\n        if (tbodyElement.childElementCount === 1) {\n            tbodyElement.remove();\n        }\n        else {\n            cellElement.parentElement.remove();\n        }\n        range.collapse(false);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        execAfterRender(vditor);\n    }\n};\nvar deleteColumn = function (vditor, range, tableElement, cellElement) {\n    var index = 0;\n    var previousElement = cellElement.previousElementSibling;\n    while (previousElement) {\n        index++;\n        previousElement = previousElement.previousElementSibling;\n    }\n    if (cellElement.previousElementSibling || cellElement.nextElementSibling) {\n        range.selectNodeContents(cellElement.previousElementSibling || cellElement.nextElementSibling);\n        range.collapse(true);\n    }\n    for (var i = 0; i < tableElement.rows.length; i++) {\n        var cells = tableElement.rows[i].cells;\n        if (cells.length === 1) {\n            tableElement.remove();\n            highlightToolbar(vditor);\n            break;\n        }\n        cells[index].remove();\n    }\n    (0,selection/* setSelectionFocus */.Hc)(range);\n    execAfterRender(vditor);\n};\nvar fixTable = function (vditor, event, range) {\n    var startContainer = range.startContainer;\n    var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n        (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n    if (cellElement) {\n        //  cell  br\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\") {\n            if (!cellElement.lastElementChild ||\n                (cellElement.lastElementChild && (!cellElement.lastElementChild.isSameNode(cellElement.lastChild) ||\n                    cellElement.lastElementChild.tagName !== \"BR\"))) {\n                cellElement.insertAdjacentHTML(\"beforeend\", \"<br>\");\n            }\n            var brElement = document.createElement(\"br\");\n            range.insertNode(brElement);\n            range.setStartAfter(brElement);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // tab cell\n        if (event.key === \"Tab\") {\n            if (event.shiftKey) {\n                // shift + tab  cell\n                goPreviousCell(cellElement, range);\n                event.preventDefault();\n                return true;\n            }\n            var nextElement = cellElement.nextElementSibling;\n            if (!nextElement) {\n                if (cellElement.parentElement.nextElementSibling) {\n                    nextElement = cellElement.parentElement.nextElementSibling.firstElementChild;\n                }\n                else if (cellElement.parentElement.parentElement.tagName === \"THEAD\" &&\n                    cellElement.parentElement.parentElement.nextElementSibling) {\n                    nextElement =\n                        cellElement.parentElement.parentElement.nextElementSibling.firstElementChild.firstElementChild;\n                }\n                else {\n                    nextElement = null;\n                }\n            }\n            if (nextElement) {\n                range.selectNodeContents(nextElement);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            event.preventDefault();\n            return true;\n        }\n        var tableElement = cellElement.parentElement.parentElement.parentElement;\n        if (event.key === \"ArrowUp\") {\n            event.preventDefault();\n            if (cellElement.tagName === \"TH\") {\n                if (tableElement.previousElementSibling) {\n                    range.selectNodeContents(tableElement.previousElementSibling);\n                    range.collapse(false);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                }\n                else {\n                    insertEmptyBlock(vditor, \"beforebegin\");\n                }\n                return true;\n            }\n            var m = 0;\n            var trElement = cellElement.parentElement;\n            for (; m < trElement.cells.length; m++) {\n                if (trElement.cells[m].isSameNode(cellElement)) {\n                    break;\n                }\n            }\n            var previousElement = trElement.previousElementSibling;\n            if (!previousElement) {\n                previousElement = trElement.parentElement.previousElementSibling.firstChild;\n            }\n            range.selectNodeContents(previousElement.cells[m]);\n            range.collapse(false);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            return true;\n        }\n        if (event.key === \"ArrowDown\") {\n            event.preventDefault();\n            var trElement = cellElement.parentElement;\n            if (!trElement.nextElementSibling && cellElement.tagName === \"TD\") {\n                if (tableElement.nextElementSibling) {\n                    range.selectNodeContents(tableElement.nextElementSibling);\n                    range.collapse(true);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                }\n                else {\n                    insertEmptyBlock(vditor, \"afterend\");\n                }\n                return true;\n            }\n            var m = 0;\n            for (; m < trElement.cells.length; m++) {\n                if (trElement.cells[m].isSameNode(cellElement)) {\n                    break;\n                }\n            }\n            var nextElement = trElement.nextElementSibling;\n            if (!nextElement) {\n                nextElement = trElement.parentElement.nextElementSibling.firstChild;\n            }\n            range.selectNodeContents(nextElement.cells[m]);\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            return true;\n        }\n        // focus row input, only wysiwyg\n        if (vditor.currentMode === \"wysiwyg\" &&\n            !(0,compatibility/* isCtrl */.yl)(event) && event.key === \"Enter\" && !event.shiftKey && event.altKey) {\n            var inputElement = vditor.wysiwyg.popover.querySelector(\".vditor-input\");\n            inputElement.focus();\n            inputElement.select();\n            event.preventDefault();\n            return true;\n        }\n        // Backspace cell\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Backspace\"\n            && range.startOffset === 0 && range.toString() === \"\") {\n            var previousCellElement = goPreviousCell(cellElement, range, false);\n            if (!previousCellElement && tableElement) {\n                if (tableElement.textContent.trim() === \"\") {\n                    tableElement.outerHTML = \"<p data-block=\\\"0\\\"><wbr>\\n</p>\";\n                    (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n                }\n                else {\n                    range.setStartBefore(tableElement);\n                    range.collapse(true);\n                }\n                execAfterRender(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        // \n        if (matchHotKey(\"F\", event)) {\n            insertRowAbove(vditor, range, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        //  https://github.com/Vanessa219/vditor/issues/46\n        if (matchHotKey(\"=\", event)) {\n            insertRow(vditor, range, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // \n        if (matchHotKey(\"G\", event)) {\n            insertColumn(vditor, tableElement, cellElement, \"beforebegin\");\n            event.preventDefault();\n            return true;\n        }\n        // \n        if (matchHotKey(\"=\", event)) {\n            insertColumn(vditor, tableElement, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // \n        if (matchHotKey(\"-\", event)) {\n            deleteRow(vditor, range, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // \n        if (matchHotKey(\"-\", event)) {\n            deleteColumn(vditor, range, tableElement, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // \n        if (matchHotKey(\"L\", event)) {\n            if (vditor.currentMode === \"ir\") {\n                setTableAlign(tableElement, \"left\");\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"left\"]');\n                if (itemElement) {\n                    itemElement.click();\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        }\n        // \n        if (matchHotKey(\"C\", event)) {\n            if (vditor.currentMode === \"ir\") {\n                setTableAlign(tableElement, \"center\");\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"center\"]');\n                if (itemElement) {\n                    itemElement.click();\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        }\n        // \n        if (matchHotKey(\"R\", event)) {\n            if (vditor.currentMode === \"ir\") {\n                setTableAlign(tableElement, \"right\");\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"right\"]');\n                if (itemElement) {\n                    itemElement.click();\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n};\nvar fixCodeBlock = function (vditor, event, codeRenderElement, range) {\n    //  command + a\n    if (codeRenderElement.tagName === \"PRE\" && matchHotKey(\"A\", event)) {\n        range.selectNodeContents(codeRenderElement.firstElementChild);\n        event.preventDefault();\n        return true;\n    }\n    // tab\n    // TODO shift + tab, shift and \n    if (vditor.options.tab && event.key === \"Tab\" && !event.shiftKey && range.toString() === \"\") {\n        range.insertNode(document.createTextNode(vditor.options.tab));\n        range.collapse(false);\n        execAfterRender(vditor);\n        event.preventDefault();\n        return true;\n    }\n    // Backspace: \n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey) {\n        var codePosition = (0,selection/* getSelectPosition */.im)(codeRenderElement, vditor[vditor.currentMode].element, range);\n        if ((codePosition.start === 0 ||\n            (codePosition.start === 1 && codeRenderElement.innerText === \"\\n\")) //  \\n \n            && range.toString() === \"\") {\n            codeRenderElement.parentElement.outerHTML =\n                \"<p data-block=\\\"0\\\"><wbr>\" + codeRenderElement.firstElementChild.innerHTML + \"</p>\";\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // \n    if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\") {\n        if (!codeRenderElement.firstElementChild.textContent.endsWith(\"\\n\")) {\n            codeRenderElement.firstElementChild.insertAdjacentText(\"beforeend\", \"\\n\");\n        }\n        range.extractContents();\n        range.insertNode(document.createTextNode(\"\\n\"));\n        range.collapse(false);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        if (!(0,compatibility/* isFirefox */.vU)()) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                input_input(vditor, range);\n            }\n            else {\n                input(vditor, range);\n            }\n        }\n        scrollCenter(vditor);\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar fixBlockquote = function (vditor, range, event, pElement) {\n    var startContainer = range.startContainer;\n    var blockquoteElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"BLOCKQUOTE\");\n    if (blockquoteElement && range.toString() === \"\") {\n        if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey &&\n            (0,selection/* getSelectPosition */.im)(blockquoteElement, vditor[vditor.currentMode].element, range).start === 0) {\n            // Backspace: \n            range.insertNode(document.createElement(\"wbr\"));\n            blockquoteElement.outerHTML = blockquoteElement.innerHTML;\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (pElement && event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey\n            && pElement.parentElement.tagName === \"BLOCKQUOTE\") {\n            // Enter: \n            var isEmpty = false;\n            if (pElement.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\\n\" ||\n                pElement.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                //  P\n                isEmpty = true;\n                pElement.remove();\n            }\n            else if (pElement.innerHTML.endsWith(\"\\n\\n\") &&\n                (0,selection/* getSelectPosition */.im)(pElement, vditor[vditor.currentMode].element, range).start ===\n                    pElement.textContent.length - 1) {\n                // \n                pElement.innerHTML = pElement.innerHTML.substr(0, pElement.innerHTML.length - 2);\n                isEmpty = true;\n            }\n            if (isEmpty) {\n                //  undo\n                blockquoteElement.insertAdjacentHTML(\"afterend\", \"<p data-block=\\\"0\\\">\" + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr>\\n</p>\");\n                (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n        }\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n        if (vditor.currentMode === \"wysiwyg\" && blockElement && matchHotKey(\";\", event)) {\n            //  blockquote\n            range.insertNode(document.createElement(\"wbr\"));\n            blockElement.outerHTML = \"<blockquote data-block=\\\"0\\\">\" + blockElement.outerHTML + \"</blockquote>\";\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            afterRenderEvent(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (insertAfterBlock(vditor, event, range, blockquoteElement, blockquoteElement)) {\n            return true;\n        }\n        if (insertBeforeBlock(vditor, event, range, blockquoteElement, blockquoteElement)) {\n            return true;\n        }\n    }\n    return false;\n};\nvar fixTask = function (vditor, range, event) {\n    var startContainer = range.startContainer;\n    var taskItemElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-task\");\n    if (taskItemElement) {\n        if (matchHotKey(\"J\", event)) {\n            // ctrl + shift: toggle checked\n            var inputElement = taskItemElement.firstElementChild;\n            if (inputElement.checked) {\n                inputElement.removeAttribute(\"checked\");\n            }\n            else {\n                inputElement.setAttribute(\"checked\", \"checked\");\n            }\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // Backspace: \n        if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && range.toString() === \"\"\n            && range.startOffset === 1\n            && ((startContainer.nodeType === 3 && startContainer.previousSibling &&\n                startContainer.previousSibling.tagName === \"INPUT\")\n                || startContainer.nodeType !== 3)) {\n            var previousElement = taskItemElement.previousElementSibling;\n            taskItemElement.querySelector(\"input\").remove();\n            if (previousElement) {\n                var lastNode = (0,hasClosest/* getLastNode */.DX)(previousElement);\n                lastNode.parentElement.insertAdjacentHTML(\"beforeend\", \"<wbr>\" + taskItemElement.innerHTML.trim());\n                taskItemElement.remove();\n            }\n            else {\n                taskItemElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<p data-block=\\\"0\\\"><wbr>\" + (taskItemElement.innerHTML.trim() || \"\\n\") + \"</p>\");\n                if (taskItemElement.nextElementSibling) {\n                    taskItemElement.remove();\n                }\n                else {\n                    taskItemElement.parentElement.remove();\n                }\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey) {\n            if (taskItemElement.textContent.trim() === \"\") {\n                // \n                if ((0,hasClosest/* hasClosestByClassName */.fb)(taskItemElement.parentElement, \"vditor-task\")) {\n                    // \n                    var topListElement = (0,hasClosest/* getTopList */.O9)(startContainer);\n                    if (topListElement) {\n                        listOutdent(vditor, taskItemElement, range, topListElement);\n                    }\n                }\n                else {\n                    // \n                    if (taskItemElement.nextElementSibling) {\n                        // \n                        var afterHTML_2 = \"\";\n                        var beforeHTML_1 = \"\";\n                        var isAfter_1 = false;\n                        Array.from(taskItemElement.parentElement.children).forEach(function (taskItem) {\n                            if (taskItemElement.isSameNode(taskItem)) {\n                                isAfter_1 = true;\n                            }\n                            else {\n                                if (isAfter_1) {\n                                    afterHTML_2 += taskItem.outerHTML;\n                                }\n                                else {\n                                    beforeHTML_1 += taskItem.outerHTML;\n                                }\n                            }\n                        });\n                        var parentTagName = taskItemElement.parentElement.tagName;\n                        var dataMarker = taskItemElement.parentElement.tagName === \"OL\" ? \"\" : \" data-marker=\\\"\" + taskItemElement.parentElement.getAttribute(\"data-marker\") + \"\\\"\";\n                        var startAttribute = \"\";\n                        if (beforeHTML_1) {\n                            startAttribute = taskItemElement.parentElement.tagName === \"UL\" ? \"\" : \" start=\\\"1\\\"\";\n                            beforeHTML_1 = \"<\" + parentTagName + \" data-tight=\\\"true\\\"\" + dataMarker + \" data-block=\\\"0\\\">\" + beforeHTML_1 + \"</\" + parentTagName + \">\";\n                        }\n                        // <p data-block=\"0\">\\n<wbr></p> => <p data-block=\"0\"><wbr>\\n</p>\n                        // https://github.com/Vanessa219/vditor/issues/430\n                        taskItemElement.parentElement.outerHTML = beforeHTML_1 + \"<p data-block=\\\"0\\\"><wbr>\\n</p><\" + parentTagName + \"\\n data-tight=\\\"true\\\"\" + dataMarker + \" data-block=\\\"0\\\"\" + startAttribute + \">\" + afterHTML_2 + \"</\" + parentTagName + \">\";\n                    }\n                    else {\n                        // \n                        taskItemElement.parentElement.insertAdjacentHTML(\"afterend\", \"<p data-block=\\\"0\\\"><wbr>\\n</p>\");\n                        if (taskItemElement.parentElement.querySelectorAll(\"li\").length === 1) {\n                            //  p \n                            taskItemElement.parentElement.remove();\n                        }\n                        else {\n                            // \n                            taskItemElement.remove();\n                        }\n                    }\n                }\n            }\n            else if (startContainer.nodeType !== 3 && range.startOffset === 0 &&\n                startContainer.firstChild.tagName === \"INPUT\") {\n                //  input \n                range.setStart(startContainer.childNodes[1], 1);\n            }\n            else {\n                // \n                range.setEndAfter(taskItemElement.lastChild);\n                taskItemElement.insertAdjacentHTML(\"afterend\", \"<li class=\\\"vditor-task\\\" data-marker=\\\"\" + taskItemElement.getAttribute(\"data-marker\") + \"\\\"><input type=\\\"checkbox\\\"> <wbr></li>\");\n                document.querySelector(\"wbr\").after(range.extractContents());\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    return false;\n};\nvar fixDelete = function (vditor, range, event, pElement) {\n    if (range.startContainer.nodeType !== 3) {\n        //  hr hr \n        var rangeElement = range.startContainer.children[range.startOffset];\n        if (rangeElement && rangeElement.tagName === \"HR\") {\n            range.selectNodeContents(rangeElement.previousElementSibling);\n            range.collapse(false);\n            event.preventDefault();\n            return true;\n        }\n    }\n    if (pElement) {\n        var previousElement = pElement.previousElementSibling;\n        if (previousElement && (0,selection/* getSelectPosition */.im)(pElement, vditor[vditor.currentMode].element, range).start === 0 &&\n            (((0,compatibility/* isFirefox */.vU)() && previousElement.tagName === \"HR\") || previousElement.tagName === \"TABLE\")) {\n            if (previousElement.tagName === \"TABLE\") {\n                // table  https://github.com/Vanessa219/vditor/issues/243\n                var lastCellElement = previousElement.lastElementChild.lastElementChild.lastElementChild;\n                lastCellElement.innerHTML =\n                    lastCellElement.innerHTML.trimLeft() + \"<wbr>\" + pElement.textContent.trim();\n                pElement.remove();\n            }\n            else {\n                //  hr \n                previousElement.remove();\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    return false;\n};\nvar fixHR = function (range) {\n    if ((0,compatibility/* isFirefox */.vU)() && range.startContainer.nodeType !== 3 &&\n        range.startContainer.tagName === \"HR\") {\n        range.setStartBefore(range.startContainer);\n    }\n};\n// firefox https://github.com/Vanessa219/vditor/issues/407\nvar fixFirefoxArrowUpTable = function (event, blockElement, range) {\n    var _a, _b;\n    if (!(0,compatibility/* isFirefox */.vU)()) {\n        return false;\n    }\n    if (event.key === \"ArrowUp\" && blockElement && ((_a = blockElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.tagName) === \"TABLE\") {\n        var tableElement = blockElement.previousElementSibling;\n        range.selectNodeContents(tableElement.rows[tableElement.rows.length - 1].lastElementChild);\n        range.collapse(false);\n        event.preventDefault();\n        return true;\n    }\n    if (event.key === \"ArrowDown\" && blockElement && ((_b = blockElement.nextElementSibling) === null || _b === void 0 ? void 0 : _b.tagName) === \"TABLE\") {\n        range.selectNodeContents(blockElement.nextElementSibling.rows[0].cells[0]);\n        range.collapse(true);\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar paste = function (vditor, event, callback) { return fixBrowserBehavior_awaiter(void 0, void 0, void 0, function () {\n    var textHTML, textPlain, files, renderers, renderLinkDest, doc, height, code, codeElement, position, tempElement, blockElement, range;\n    var _a;\n    return fixBrowserBehavior_generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                event.stopPropagation();\n                event.preventDefault();\n                if (\"clipboardData\" in event) {\n                    textHTML = event.clipboardData.getData(\"text/html\");\n                    textPlain = event.clipboardData.getData(\"text/plain\");\n                    files = event.clipboardData.files;\n                }\n                else {\n                    textHTML = event.dataTransfer.getData(\"text/html\");\n                    textPlain = event.dataTransfer.getData(\"text/plain\");\n                    if (event.dataTransfer.types[0] === \"Files\") {\n                        files = event.dataTransfer.items;\n                    }\n                }\n                renderers = {};\n                renderLinkDest = function (node, entering) {\n                    if (!entering) {\n                        return [\"\", Lute.WalkContinue];\n                    }\n                    var src = node.TokensStr();\n                    if (node.__internal_object__.Parent.Type === 34 && src && src.indexOf(\"file://\") === -1 &&\n                        vditor.options.upload.linkToImgUrl) {\n                        var xhr_1 = new XMLHttpRequest();\n                        xhr_1.open(\"POST\", vditor.options.upload.linkToImgUrl);\n                        if (vditor.options.upload.token) {\n                            xhr_1.setRequestHeader(\"X-Upload-Token\", vditor.options.upload.token);\n                        }\n                        if (vditor.options.upload.withCredentials) {\n                            xhr_1.withCredentials = true;\n                        }\n                        setHeaders(vditor, xhr_1);\n                        xhr_1.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\");\n                        xhr_1.onreadystatechange = function () {\n                            if (xhr_1.readyState === XMLHttpRequest.DONE) {\n                                if (xhr_1.status === 200) {\n                                    var responseText = xhr_1.responseText;\n                                    if (vditor.options.upload.linkToImgFormat) {\n                                        responseText = vditor.options.upload.linkToImgFormat(xhr_1.responseText);\n                                    }\n                                    var responseJSON_1 = JSON.parse(responseText);\n                                    if (responseJSON_1.code !== 0) {\n                                        vditor.tip.show(responseJSON_1.msg);\n                                        return;\n                                    }\n                                    var original_1 = responseJSON_1.data.originalURL;\n                                    if (vditor.currentMode === \"sv\") {\n                                        vditor.sv.element.querySelectorAll(\".vditor-sv__marker--link\")\n                                            .forEach(function (item) {\n                                            if (item.textContent === original_1) {\n                                                item.textContent = responseJSON_1.data.url;\n                                            }\n                                        });\n                                    }\n                                    else {\n                                        var imgElement = vditor[vditor.currentMode].element.querySelector(\"img[src=\\\"\" + original_1 + \"\\\"]\");\n                                        imgElement.src = responseJSON_1.data.url;\n                                        if (vditor.currentMode === \"ir\") {\n                                            imgElement.previousElementSibling.previousElementSibling.innerHTML =\n                                                responseJSON_1.data.url;\n                                        }\n                                    }\n                                    execAfterRender(vditor);\n                                }\n                                else {\n                                    vditor.tip.show(xhr_1.responseText);\n                                }\n                                if (vditor.options.upload.linkToImgCallback) {\n                                    vditor.options.upload.linkToImgCallback(xhr_1.responseText);\n                                }\n                            }\n                        };\n                        xhr_1.send(JSON.stringify({ url: src }));\n                    }\n                    if (vditor.currentMode === \"ir\") {\n                        return [\"<span class=\\\"vditor-ir__marker vditor-ir__marker--link\\\">\" + src + \"</span>\", Lute.WalkContinue];\n                    }\n                    else if (vditor.currentMode === \"wysiwyg\") {\n                        return [\"\", Lute.WalkContinue];\n                    }\n                    else {\n                        return [\"<span class=\\\"vditor-sv__marker--link\\\">\" + src + \"</span>\", Lute.WalkContinue];\n                    }\n                };\n                // \n                if (textHTML.replace(/&amp;/g, \"&\").replace(/<(|\\/)(html|body|meta)[^>]*?>/ig, \"\").trim() ===\n                    \"<a href=\\\"\" + textPlain + \"\\\">\" + textPlain + \"</a>\" ||\n                    textHTML.replace(/&amp;/g, \"&\").replace(/<(|\\/)(html|body|meta)[^>]*?>/ig, \"\").trim() ===\n                        \"<!--StartFragment--><a href=\\\"\" + textPlain + \"\\\">\" + textPlain + \"</a><!--EndFragment-->\") {\n                    textHTML = \"\";\n                }\n                doc = new DOMParser().parseFromString(textHTML, \"text/html\");\n                if (doc.body) {\n                    textHTML = doc.body.innerHTML;\n                }\n                textHTML = Lute.Sanitize(textHTML);\n                vditor.wysiwyg.getComments(vditor);\n                height = vditor[vditor.currentMode].element.scrollHeight;\n                code = processPasteCode(textHTML, textPlain, vditor.currentMode);\n                codeElement = vditor.currentMode === \"sv\" ?\n                    (0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"code-block\") :\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"CODE\");\n                if (!codeElement) return [3 /*break*/, 1];\n                // \n                if (vditor.currentMode === \"sv\") {\n                    document.execCommand(\"insertHTML\", false, textPlain.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\"));\n                }\n                else {\n                    position = (0,selection/* getSelectPosition */.im)(event.target, vditor[vditor.currentMode].element);\n                    if (codeElement.parentElement.tagName !== \"PRE\") {\n                        // https://github.com/Vanessa219/vditor/issues/463\n                        textPlain += constants/* Constants.ZWSP */.g.ZWSP;\n                    }\n                    codeElement.textContent = codeElement.textContent.substring(0, position.start)\n                        + textPlain + codeElement.textContent.substring(position.end);\n                    (0,selection/* setSelectionByPosition */.$j)(position.start + textPlain.length, position.start + textPlain.length, codeElement.parentElement);\n                    if ((_a = codeElement.parentElement) === null || _a === void 0 ? void 0 : _a.nextElementSibling.classList.contains(\"vditor-\" + vditor.currentMode + \"__preview\")) {\n                        codeElement.parentElement.nextElementSibling.innerHTML = codeElement.outerHTML;\n                        processCodeRender(codeElement.parentElement.nextElementSibling, vditor);\n                    }\n                }\n                return [3 /*break*/, 6];\n            case 1:\n                if (!code) return [3 /*break*/, 2];\n                callback.pasteCode(code);\n                return [3 /*break*/, 6];\n            case 2:\n                if (!(textHTML.trim() !== \"\")) return [3 /*break*/, 3];\n                tempElement = document.createElement(\"div\");\n                tempElement.innerHTML = textHTML;\n                tempElement.querySelectorAll(\"[style]\").forEach(function (e) {\n                    e.removeAttribute(\"style\");\n                });\n                tempElement.querySelectorAll(\".vditor-copy\").forEach(function (e) {\n                    e.remove();\n                });\n                if (vditor.currentMode === \"ir\") {\n                    renderers.HTML2VditorIRDOM = { renderLinkDest: renderLinkDest };\n                    vditor.lute.SetJSRenderers({ renderers: renderers });\n                    (0,selection/* insertHTML */.oC)(vditor.lute.HTML2VditorIRDOM(tempElement.innerHTML), vditor);\n                }\n                else if (vditor.currentMode === \"wysiwyg\") {\n                    renderers.HTML2VditorDOM = { renderLinkDest: renderLinkDest };\n                    vditor.lute.SetJSRenderers({ renderers: renderers });\n                    (0,selection/* insertHTML */.oC)(vditor.lute.HTML2VditorDOM(tempElement.innerHTML), vditor);\n                }\n                else {\n                    renderers.Md2VditorSVDOM = { renderLinkDest: renderLinkDest };\n                    vditor.lute.SetJSRenderers({ renderers: renderers });\n                    processPaste(vditor, vditor.lute.HTML2Md(tempElement.innerHTML).trimRight());\n                }\n                vditor.outline.render(vditor);\n                return [3 /*break*/, 6];\n            case 3:\n                if (!(files.length > 0 && vditor.options.upload.url)) return [3 /*break*/, 5];\n                return [4 /*yield*/, uploadFiles(vditor, files)];\n            case 4:\n                _b.sent();\n                return [3 /*break*/, 6];\n            case 5:\n                if (textPlain.trim() !== \"\" && files.length === 0) {\n                    if (vditor.currentMode === \"ir\") {\n                        renderers.Md2VditorIRDOM = { renderLinkDest: renderLinkDest };\n                        vditor.lute.SetJSRenderers({ renderers: renderers });\n                        (0,selection/* insertHTML */.oC)(vditor.lute.Md2VditorIRDOM(textPlain), vditor);\n                    }\n                    else if (vditor.currentMode === \"wysiwyg\") {\n                        renderers.Md2VditorDOM = { renderLinkDest: renderLinkDest };\n                        vditor.lute.SetJSRenderers({ renderers: renderers });\n                        (0,selection/* insertHTML */.oC)(vditor.lute.Md2VditorDOM(textPlain), vditor);\n                    }\n                    else {\n                        renderers.Md2VditorSVDOM = { renderLinkDest: renderLinkDest };\n                        vditor.lute.SetJSRenderers({ renderers: renderers });\n                        processPaste(vditor, textPlain);\n                    }\n                    vditor.outline.render(vditor);\n                }\n                _b.label = 6;\n            case 6:\n                if (vditor.currentMode !== \"sv\") {\n                    blockElement = (0,hasClosest/* hasClosestBlock */.F9)((0,selection/* getEditorRange */.zh)(vditor).startContainer);\n                    if (blockElement) {\n                        range = (0,selection/* getEditorRange */.zh)(vditor);\n                        vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n                            wbr.remove();\n                        });\n                        range.insertNode(document.createElement(\"wbr\"));\n                        if (vditor.currentMode === \"wysiwyg\") {\n                            blockElement.outerHTML = vditor.lute.SpinVditorDOM(blockElement.outerHTML);\n                        }\n                        else {\n                            blockElement.outerHTML = vditor.lute.SpinVditorIRDOM(blockElement.outerHTML);\n                        }\n                        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n                    }\n                    vditor[vditor.currentMode].element.querySelectorAll(\".vditor-\" + vditor.currentMode + \"__preview[data-render='2']\")\n                        .forEach(function (item) {\n                        processCodeRender(item, vditor);\n                    });\n                }\n                vditor.wysiwyg.triggerRemoveComment(vditor);\n                execAfterRender(vditor);\n                if (vditor[vditor.currentMode].element.scrollHeight - height >\n                    Math.min(vditor[vditor.currentMode].element.clientHeight, window.innerHeight) / 2) {\n                    scrollCenter(vditor);\n                }\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar templateObject_1;\n\n;// CONCATENATED MODULE: ./src/ts/ir/process.ts\n\n\n\n\n\n\n\n\n\nvar processHint = function (vditor) {\n    vditor.hint.render(vditor);\n    var startContainer = (0,selection/* getEditorRange */.zh)(vditor).startContainer;\n    // \n    var preBeforeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-info\");\n    if (preBeforeElement) {\n        if (preBeforeElement.textContent.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && vditor.hint.recentLanguage) {\n            preBeforeElement.textContent = constants/* Constants.ZWSP */.g.ZWSP + vditor.hint.recentLanguage;\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            range.selectNodeContents(preBeforeElement);\n        }\n        else {\n            var matchLangData_1 = [];\n            var key_1 = preBeforeElement.textContent.substring(0, (0,selection/* getSelectPosition */.im)(preBeforeElement, vditor.ir.element).start)\n                .replace(constants/* Constants.ZWSP */.g.ZWSP, \"\");\n            constants/* Constants.CODE_LANGUAGES.forEach */.g.CODE_LANGUAGES.forEach(function (keyName) {\n                if (keyName.indexOf(key_1.toLowerCase()) > -1) {\n                    matchLangData_1.push({\n                        html: keyName,\n                        value: keyName,\n                    });\n                }\n            });\n            vditor.hint.genHTML(matchLangData_1, key_1, vditor);\n        }\n    }\n};\nvar process_processAfterRender = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (options.enableHint) {\n        processHint(vditor);\n    }\n    clearTimeout(vditor.ir.processTimeoutId);\n    vditor.ir.processTimeoutId = window.setTimeout(function () {\n        if (vditor.ir.composingLock) {\n            return;\n        }\n        var text = getMarkdown(vditor);\n        if (typeof vditor.options.input === \"function\" && options.enableInput) {\n            vditor.options.input(text);\n        }\n        if (vditor.options.counter.enable) {\n            vditor.counter.render(vditor, text);\n        }\n        if (vditor.options.cache.enable && (0,compatibility/* accessLocalStorage */.pK)()) {\n            localStorage.setItem(vditor.options.cache.id, text);\n            if (vditor.options.cache.after) {\n                vditor.options.cache.after(text);\n            }\n        }\n        if (vditor.devtools) {\n            vditor.devtools.renderEchart(vditor);\n        }\n        if (options.enableAddUndoStack) {\n            vditor.undo.addToUndoStack(vditor);\n        }\n    }, vditor.options.undoDelay);\n};\nvar process_processHeading = function (vditor, value) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var headingElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer) || range.startContainer;\n    if (headingElement) {\n        var headingMarkerElement = headingElement.querySelector(\".vditor-ir__marker--heading\");\n        if (headingMarkerElement) {\n            headingMarkerElement.innerHTML = value;\n        }\n        else {\n            headingElement.insertAdjacentText(\"afterbegin\", value);\n            range.selectNodeContents(headingElement);\n            range.collapse(false);\n        }\n        input(vditor, range.cloneRange());\n        highlightToolbarIR(vditor);\n    }\n};\nvar removeInline = function (range, vditor, type) {\n    var inlineElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", type);\n    if (inlineElement) {\n        inlineElement.firstElementChild.remove();\n        inlineElement.lastElementChild.remove();\n        range.insertNode(document.createElement(\"wbr\"));\n        var tempElement = document.createElement(\"div\");\n        tempElement.innerHTML = vditor.lute.SpinVditorIRDOM(inlineElement.outerHTML);\n        inlineElement.outerHTML = tempElement.firstElementChild.innerHTML.trim();\n    }\n};\nvar process_processToolbar = function (vditor, actionBtn, prefix, suffix) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var commandName = actionBtn.getAttribute(\"data-type\");\n    var typeElement = range.startContainer;\n    if (typeElement.nodeType === 3) {\n        typeElement = typeElement.parentElement;\n    }\n    var useHighlight = true;\n    // \n    if (actionBtn.classList.contains(\"vditor-menu--current\")) {\n        if (commandName === \"quote\") {\n            var quoteElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"BLOCKQUOTE\");\n            if (quoteElement) {\n                range.insertNode(document.createElement(\"wbr\"));\n                quoteElement.outerHTML = quoteElement.innerHTML.trim() === \"\" ?\n                    \"<p data-block=\\\"0\\\">\" + quoteElement.innerHTML + \"</p>\" : quoteElement.innerHTML;\n            }\n        }\n        else if (commandName === \"link\") {\n            var aElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"a\");\n            if (aElement) {\n                var aTextElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__link\");\n                if (aTextElement) {\n                    range.insertNode(document.createElement(\"wbr\"));\n                    aElement.outerHTML = aTextElement.innerHTML;\n                }\n                else {\n                    aElement.outerHTML = aElement.querySelector(\".vditor-ir__link\").innerHTML + \"<wbr>\";\n                }\n            }\n        }\n        else if (commandName === \"italic\") {\n            removeInline(range, vditor, \"em\");\n        }\n        else if (commandName === \"bold\") {\n            removeInline(range, vditor, \"strong\");\n        }\n        else if (commandName === \"strike\") {\n            removeInline(range, vditor, \"s\");\n        }\n        else if (commandName === \"inline-code\") {\n            removeInline(range, vditor, \"code\");\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName);\n            useHighlight = false;\n            actionBtn.classList.remove(\"vditor-menu--current\");\n        }\n    }\n    else {\n        // \n        if (vditor.ir.element.childNodes.length === 0) {\n            vditor.ir.element.innerHTML = '<p data-block=\"0\"><wbr></p>';\n            (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n        }\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n        if (commandName === \"line\") {\n            if (blockElement) {\n                var hrHTML = '<hr data-block=\"0\"><p data-block=\"0\"><wbr>\\n</p>';\n                if (blockElement.innerHTML.trim() === \"\") {\n                    blockElement.outerHTML = hrHTML;\n                }\n                else {\n                    blockElement.insertAdjacentHTML(\"afterend\", hrHTML);\n                }\n            }\n        }\n        else if (commandName === \"quote\") {\n            if (blockElement) {\n                range.insertNode(document.createElement(\"wbr\"));\n                blockElement.outerHTML = \"<blockquote data-block=\\\"0\\\">\" + blockElement.outerHTML + \"</blockquote>\";\n                useHighlight = false;\n                actionBtn.classList.add(\"vditor-menu--current\");\n            }\n        }\n        else if (commandName === \"link\") {\n            var html = void 0;\n            if (range.toString() === \"\") {\n                html = prefix + \"<wbr>\" + suffix;\n            }\n            else {\n                html = \"\" + prefix + range.toString() + suffix.replace(\")\", \"<wbr>)\");\n            }\n            document.execCommand(\"insertHTML\", false, html);\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"italic\" || commandName === \"bold\" || commandName === \"strike\"\n            || commandName === \"inline-code\" || commandName === \"code\" || commandName === \"table\") {\n            var html = void 0;\n            if (range.toString() === \"\") {\n                html = prefix + \"<wbr>\" + suffix;\n            }\n            else {\n                if (commandName === \"code\" || commandName === \"table\") {\n                    html = \"\" + prefix + range.toString() + \"<wbr>\" + suffix;\n                }\n                else {\n                    html = \"\" + prefix + range.toString() + suffix + \"<wbr>\";\n                }\n                range.deleteContents();\n            }\n            if (commandName === \"table\" || commandName === \"code\") {\n                html = \"\\n\" + html + \"\\n\\n\";\n            }\n            var spanElement = document.createElement(\"span\");\n            spanElement.innerHTML = html;\n            range.insertNode(spanElement);\n            input(vditor, range);\n            if (commandName === \"table\") {\n                range.selectNodeContents(getSelection().getRangeAt(0).startContainer.parentElement);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName, false);\n            useHighlight = false;\n            removeCurrentToolbar(vditor.toolbar.elements, [\"check\", \"list\", \"ordered-list\"]);\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n    process_processAfterRender(vditor);\n    if (useHighlight) {\n        highlightToolbarIR(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/hint/index.ts\n\n\n\n\n\n\n\n\nvar Hint = /** @class */ (function () {\n    function Hint(hintExtends) {\n        var _this = this;\n        this.splitChar = \"\";\n        this.lastIndex = -1;\n        this.fillEmoji = function (element, vditor) {\n            _this.element.style.display = \"none\";\n            var value = decodeURIComponent(element.getAttribute(\"data-value\"));\n            var range = window.getSelection().getRangeAt(0);\n            // \n            if (vditor.currentMode === \"ir\") {\n                var preBeforeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"code-block-info\");\n                if (preBeforeElement) {\n                    preBeforeElement.textContent = constants/* Constants.ZWSP */.g.ZWSP + value.trimRight();\n                    range.selectNodeContents(preBeforeElement);\n                    range.collapse(false);\n                    process_processAfterRender(vditor);\n                    preBeforeElement.parentElement.querySelectorAll(\"code\").forEach(function (item) {\n                        item.className = \"language-\" + value.trimRight();\n                    });\n                    processCodeRender(preBeforeElement.parentElement.querySelector(\".vditor-ir__preview\"), vditor);\n                    _this.recentLanguage = value.trimRight();\n                    return;\n                }\n            }\n            if (vditor.currentMode === \"wysiwyg\" && range.startContainer.nodeType !== 3 &&\n                range.startContainer.firstElementChild.classList.contains(\"vditor-input\")) {\n                var inputElement = range.startContainer.firstElementChild;\n                inputElement.value = value.trimRight();\n                range.selectNodeContents(inputElement);\n                range.collapse(false);\n                inputElement.dispatchEvent(new CustomEvent(\"input\"));\n                _this.recentLanguage = value.trimRight();\n                return;\n            }\n            range.setStart(range.startContainer, _this.lastIndex);\n            range.deleteContents();\n            if (vditor.options.hint.parse) {\n                if (vditor.currentMode === \"sv\") {\n                    (0,selection/* insertHTML */.oC)(vditor.lute.SpinVditorSVDOM(value), vditor);\n                }\n                else if (vditor.currentMode === \"wysiwyg\") {\n                    (0,selection/* insertHTML */.oC)(vditor.lute.SpinVditorDOM(value), vditor);\n                }\n                else {\n                    (0,selection/* insertHTML */.oC)(vditor.lute.SpinVditorIRDOM(value), vditor);\n                }\n            }\n            else {\n                (0,selection/* insertHTML */.oC)(value, vditor);\n            }\n            if (_this.splitChar === \":\" && value.indexOf(\":\") > -1 && vditor.currentMode !== \"sv\") {\n                range.insertNode(document.createTextNode(\" \"));\n            }\n            range.collapse(false);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            if (vditor.currentMode === \"wysiwyg\") {\n                var preElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-wysiwyg__block\");\n                if (preElement && preElement.lastElementChild.classList.contains(\"vditor-wysiwyg__preview\")) {\n                    preElement.lastElementChild.innerHTML = preElement.firstElementChild.innerHTML;\n                    processCodeRender(preElement.lastElementChild, vditor);\n                }\n            }\n            else if (vditor.currentMode === \"ir\") {\n                var preElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__marker--pre\");\n                if (preElement && preElement.nextElementSibling.classList.contains(\"vditor-ir__preview\")) {\n                    preElement.nextElementSibling.innerHTML = preElement.innerHTML;\n                    processCodeRender(preElement.nextElementSibling, vditor);\n                }\n            }\n            execAfterRender(vditor);\n        };\n        this.timeId = -1;\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-hint\";\n        this.recentLanguage = \"\";\n        hintExtends.push({ key: \":\" });\n    }\n    Hint.prototype.render = function (vditor) {\n        var _this = this;\n        if (!window.getSelection().focusNode) {\n            return;\n        }\n        var currentLineValue;\n        var range = getSelection().getRangeAt(0);\n        currentLineValue = range.startContainer.textContent.substring(0, range.startOffset) || \"\";\n        var key = this.getKey(currentLineValue, vditor.options.hint.extend);\n        if (typeof key === \"undefined\") {\n            this.element.style.display = \"none\";\n            clearTimeout(this.timeId);\n        }\n        else {\n            if (this.splitChar === \":\") {\n                var emojiHint_1 = key === \"\" ? vditor.options.hint.emoji : vditor.lute.GetEmojis();\n                var matchEmojiData_1 = [];\n                Object.keys(emojiHint_1).forEach(function (keyName) {\n                    if (keyName.indexOf(key.toLowerCase()) === 0) {\n                        if (emojiHint_1[keyName].indexOf(\".\") > -1) {\n                            matchEmojiData_1.push({\n                                html: \"<img src=\\\"\" + emojiHint_1[keyName] + \"\\\" title=\\\":\" + keyName + \":\\\"/> :\" + keyName + \":\",\n                                value: \":\" + keyName + \":\",\n                            });\n                        }\n                        else {\n                            matchEmojiData_1.push({\n                                html: \"<span class=\\\"vditor-hint__emoji\\\">\" + emojiHint_1[keyName] + \"</span>\" + keyName,\n                                value: emojiHint_1[keyName],\n                            });\n                        }\n                    }\n                });\n                this.genHTML(matchEmojiData_1, key, vditor);\n            }\n            else {\n                vditor.options.hint.extend.forEach(function (item) {\n                    if (item.key === _this.splitChar) {\n                        clearTimeout(_this.timeId);\n                        _this.timeId = window.setTimeout(function () {\n                            _this.genHTML(item.hint(key), key, vditor);\n                        }, vditor.options.hint.delay);\n                    }\n                });\n            }\n        }\n    };\n    Hint.prototype.genHTML = function (data, key, vditor) {\n        var _this = this;\n        if (data.length === 0) {\n            this.element.style.display = \"none\";\n            return;\n        }\n        var editorElement = vditor[vditor.currentMode].element;\n        var textareaPosition = (0,selection/* getCursorPosition */.Ny)(editorElement);\n        var x = textareaPosition.left +\n            (vditor.options.outline.position === \"left\" ? vditor.outline.element.offsetWidth : 0);\n        var y = textareaPosition.top;\n        var hintsHTML = \"\";\n        data.forEach(function (hintData, i) {\n            if (i > 7) {\n                return;\n            }\n            // process high light\n            var html = hintData.html;\n            if (key !== \"\") {\n                var lastIndex = html.lastIndexOf(\">\") + 1;\n                var replaceHtml = html.substr(lastIndex);\n                var replaceIndex = replaceHtml.toLowerCase().indexOf(key.toLowerCase());\n                if (replaceIndex > -1) {\n                    replaceHtml = replaceHtml.substring(0, replaceIndex) + \"<b>\" +\n                        replaceHtml.substring(replaceIndex, replaceIndex + key.length) + \"</b>\" +\n                        replaceHtml.substring(replaceIndex + key.length);\n                    html = html.substr(0, lastIndex) + replaceHtml;\n                }\n            }\n            hintsHTML += \"<button data-value=\\\"\" + encodeURIComponent(hintData.value) + \" \\\"\\n\" + (i === 0 ? \"class='vditor-hint--current'\" : \"\") + \"> \" + html + \"</button>\";\n        });\n        this.element.innerHTML = hintsHTML;\n        var lineHeight = parseInt(document.defaultView.getComputedStyle(editorElement, null)\n            .getPropertyValue(\"line-height\"), 10);\n        this.element.style.top = y + (lineHeight || 22) + \"px\";\n        this.element.style.left = x + \"px\";\n        this.element.style.display = \"block\";\n        this.element.style.right = \"auto\";\n        this.element.querySelectorAll(\"button\").forEach(function (element) {\n            element.addEventListener(\"click\", function (event) {\n                _this.fillEmoji(element, vditor);\n                event.preventDefault();\n            });\n        });\n        // hint \n        if (this.element.getBoundingClientRect().bottom > window.innerHeight) {\n            this.element.style.top = y - this.element.offsetHeight + \"px\";\n        }\n        if (this.element.getBoundingClientRect().right > window.innerWidth) {\n            this.element.style.left = \"auto\";\n            this.element.style.right = \"0\";\n        }\n    };\n    Hint.prototype.select = function (event, vditor) {\n        if (this.element.querySelectorAll(\"button\").length === 0 ||\n            this.element.style.display === \"none\") {\n            return false;\n        }\n        var currentHintElement = this.element.querySelector(\".vditor-hint--current\");\n        if (event.key === \"ArrowDown\") {\n            event.preventDefault();\n            event.stopPropagation();\n            currentHintElement.removeAttribute(\"class\");\n            if (!currentHintElement.nextElementSibling) {\n                this.element.children[0].className = \"vditor-hint--current\";\n            }\n            else {\n                currentHintElement.nextElementSibling.className = \"vditor-hint--current\";\n            }\n            return true;\n        }\n        else if (event.key === \"ArrowUp\") {\n            event.preventDefault();\n            event.stopPropagation();\n            currentHintElement.removeAttribute(\"class\");\n            if (!currentHintElement.previousElementSibling) {\n                var length_1 = this.element.children.length;\n                this.element.children[length_1 - 1].className = \"vditor-hint--current\";\n            }\n            else {\n                currentHintElement.previousElementSibling.className = \"vditor-hint--current\";\n            }\n            return true;\n        }\n        else if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Enter\" && !event.isComposing) {\n            event.preventDefault();\n            event.stopPropagation();\n            this.fillEmoji(currentHintElement, vditor);\n            return true;\n        }\n        return false;\n    };\n    Hint.prototype.getKey = function (currentLineValue, extend) {\n        var _this = this;\n        this.lastIndex = -1;\n        this.splitChar = \"\";\n        extend.forEach(function (item) {\n            var currentLastIndex = currentLineValue.lastIndexOf(item.key);\n            if (_this.lastIndex < currentLastIndex) {\n                _this.splitChar = item.key;\n                _this.lastIndex = currentLastIndex;\n            }\n        });\n        var key;\n        if (this.lastIndex === -1) {\n            return key;\n        }\n        var lineArray = currentLineValue.split(this.splitChar);\n        var lastItem = lineArray[lineArray.length - 1];\n        var maxLength = 32;\n        if (lineArray.length > 1 && lastItem.trim() === lastItem) {\n            if (lineArray.length === 2 && lineArray[0] === \"\" && lineArray[1].length < maxLength) {\n                key = lineArray[1];\n            }\n            else {\n                var preChar = lineArray[lineArray.length - 2].slice(-1);\n                if ((0,code160to32/* code160to32 */.X)(preChar) === \" \" && lastItem.length < maxLength) {\n                    key = lastItem;\n                }\n            }\n        }\n        return key;\n    };\n    return Hint;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/ir/index.ts\n\n\n\n\n\n\n\n\n\n\n\nvar IR = /** @class */ (function () {\n    function IR(vditor) {\n        this.composingLock = false;\n        var divElement = document.createElement(\"div\");\n        divElement.className = \"vditor-ir\";\n        divElement.innerHTML = \"<pre class=\\\"vditor-reset\\\" placeholder=\\\"\" + vditor.options.placeholder + \"\\\"\\n contenteditable=\\\"true\\\" spellcheck=\\\"false\\\"></pre>\";\n        this.element = divElement.firstElementChild;\n        this.bindEvent(vditor);\n        focusEvent(vditor, this.element);\n        dblclickEvent(vditor, this.element);\n        blurEvent(vditor, this.element);\n        hotkeyEvent(vditor, this.element);\n        selectEvent(vditor, this.element);\n        dropEvent(vditor, this.element);\n        copyEvent(vditor, this.element, this.copy);\n        cutEvent(vditor, this.element, this.copy);\n    }\n    IR.prototype.copy = function (event, vditor) {\n        var range = getSelection().getRangeAt(0);\n        if (range.toString() === \"\") {\n            return;\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        var tempElement = document.createElement(\"div\");\n        tempElement.appendChild(range.cloneContents());\n        event.clipboardData.setData(\"text/plain\", vditor.lute.VditorIRDOM2Md(tempElement.innerHTML).trim());\n        event.clipboardData.setData(\"text/html\", \"\");\n    };\n    IR.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.addEventListener(\"paste\", function (event) {\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    document.execCommand(\"insertHTML\", false, code);\n                },\n            });\n        });\n        this.element.addEventListener(\"compositionstart\", function (event) {\n            _this.composingLock = true;\n        });\n        this.element.addEventListener(\"compositionend\", function (event) {\n            if (!(0,compatibility/* isFirefox */.vU)()) {\n                input(vditor, getSelection().getRangeAt(0).cloneRange());\n            }\n            _this.composingLock = false;\n        });\n        this.element.addEventListener(\"input\", function (event) {\n            if (event.inputType === \"deleteByDrag\" || event.inputType === \"insertFromDrop\") {\n                // https://github.com/Vanessa219/vditor/issues/801 \n                return;\n            }\n            if (_this.preventInput) {\n                _this.preventInput = false;\n                return;\n            }\n            if (_this.composingLock || event.data === \"\" || event.data === \"\" || event.data === \"\") {\n                return;\n            }\n            input(vditor, getSelection().getRangeAt(0).cloneRange(), false, event);\n        });\n        this.element.addEventListener(\"click\", function (event) {\n            if (event.target.tagName === \"INPUT\") {\n                if (event.target.checked) {\n                    event.target.setAttribute(\"checked\", \"checked\");\n                }\n                else {\n                    event.target.removeAttribute(\"checked\");\n                }\n                _this.preventInput = true;\n                process_processAfterRender(vditor);\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            // \n            var previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(event.target, \"vditor-ir__preview\");\n            if (!previewElement) {\n                previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__preview\");\n            }\n            if (previewElement) {\n                if (previewElement.previousElementSibling.firstElementChild) {\n                    range.selectNodeContents(previewElement.previousElementSibling.firstElementChild);\n                }\n                else {\n                    // \n                    range.selectNodeContents(previewElement.previousElementSibling);\n                }\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                scrollCenter(vditor);\n            }\n            // \n            if (event.target.tagName === \"IMG\") {\n                var linkElement = event.target.parentElement.querySelector(\".vditor-ir__marker--link\");\n                if (linkElement) {\n                    range.selectNode(linkElement);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                }\n            }\n            // \n            var aElement = (0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"a\");\n            if (aElement && (!aElement.classList.contains(\"vditor-ir__node--expand\"))) {\n                window.open(aElement.querySelector(\":scope > .vditor-ir__marker--link\").textContent);\n                return;\n            }\n            if (event.target.isEqualNode(_this.element) && _this.element.lastElementChild && range.collapsed) {\n                var lastRect = _this.element.lastElementChild.getBoundingClientRect();\n                if (event.y > lastRect.top + lastRect.height) {\n                    if (_this.element.lastElementChild.tagName === \"P\" &&\n                        _this.element.lastElementChild.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                        range.selectNodeContents(_this.element.lastElementChild);\n                        range.collapse(false);\n                    }\n                    else {\n                        _this.element.insertAdjacentHTML(\"beforeend\", \"<p data-block=\\\"0\\\">\" + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr></p>\");\n                        (0,selection/* setRangeByWbr */.ib)(_this.element, range);\n                    }\n                }\n            }\n            if (range.toString() === \"\") {\n                expandMarker(range, vditor);\n            }\n            else {\n                // https://github.com/Vanessa219/vditor/pull/681  eventTarget  range  range \n                setTimeout(function () {\n                    expandMarker((0,selection/* getEditorRange */.zh)(vditor), vditor);\n                });\n            }\n            clickToc(event, vditor);\n            highlightToolbarIR(vditor);\n        });\n        this.element.addEventListener(\"keyup\", function (event) {\n            if (event.isComposing || (0,compatibility/* isCtrl */.yl)(event)) {\n                return;\n            }\n            if (event.key === \"Enter\") {\n                scrollCenter(vditor);\n            }\n            highlightToolbarIR(vditor);\n            if ((event.key === \"Backspace\" || event.key === \"Delete\") &&\n                vditor.ir.element.innerHTML !== \"\" && vditor.ir.element.childNodes.length === 1 &&\n                vditor.ir.element.firstElementChild && vditor.ir.element.firstElementChild.tagName === \"P\"\n                && vditor.ir.element.firstElementChild.childElementCount === 0\n                && (vditor.ir.element.textContent === \"\" || vditor.ir.element.textContent === \"\\n\")) {\n                //  placeholder\n                vditor.ir.element.innerHTML = \"\";\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            if (event.key === \"Backspace\") {\n                // firefox headings https://github.com/Vanessa219/vditor/issues/211\n                if ((0,compatibility/* isFirefox */.vU)() && range.startContainer.textContent === \"\\n\" && range.startOffset === 1) {\n                    range.startContainer.textContent = \"\";\n                    expandMarker(range, vditor);\n                }\n                //  table br\n                _this.element.querySelectorAll(\".language-math\").forEach(function (item) {\n                    var brElement = item.querySelector(\"br\");\n                    if (brElement) {\n                        brElement.remove();\n                    }\n                });\n            }\n            else if (event.key.indexOf(\"Arrow\") > -1) {\n                if (event.key === \"ArrowLeft\" || event.key === \"ArrowRight\") {\n                    processHint(vditor);\n                }\n                expandMarker(range, vditor);\n            }\n            else if (event.keyCode === 229 && event.code === \"\" && event.key === \"Unidentified\") {\n                // https://github.com/Vanessa219/vditor/issues/508 IR \n                expandMarker(range, vditor);\n            }\n            var previewRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__preview\");\n            if (previewRenderElement) {\n                if (event.key === \"ArrowUp\" || event.key === \"ArrowLeft\") {\n                    if (previewRenderElement.previousElementSibling.firstElementChild) {\n                        range.selectNodeContents(previewRenderElement.previousElementSibling.firstElementChild);\n                    }\n                    else {\n                        // /html entity\n                        range.selectNodeContents(previewRenderElement.previousElementSibling);\n                    }\n                    range.collapse(false);\n                    event.preventDefault();\n                    return true;\n                }\n                if (previewRenderElement.tagName === \"SPAN\" &&\n                    (event.key === \"ArrowDown\" || event.key === \"ArrowRight\")) {\n                    if (previewRenderElement.parentElement.getAttribute(\"data-type\") === \"html-entity\") {\n                        // html entity\n                        previewRenderElement.parentElement.insertAdjacentText(\"afterend\", constants/* Constants.ZWSP */.g.ZWSP);\n                        range.setStart(previewRenderElement.parentElement.nextSibling, 1);\n                    }\n                    else {\n                        range.selectNodeContents(previewRenderElement.parentElement.lastElementChild);\n                    }\n                    range.collapse(false);\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        });\n    };\n    return IR;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/markdown/getHTML.ts\n\nvar getHTML = function (vditor) {\n    if (vditor.currentMode === \"sv\") {\n        return vditor.lute.Md2HTML(getMarkdown(vditor));\n    }\n    else if (vditor.currentMode === \"wysiwyg\") {\n        return vditor.lute.VditorDOM2HTML(vditor.wysiwyg.element.innerHTML);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        return vditor.lute.VditorIRDOM2HTML(vditor.ir.element.innerHTML);\n    }\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/setLute.ts\nvar setLute = __webpack_require__(792);\n// EXTERNAL MODULE: ./src/ts/markdown/outlineRender.ts\nvar outlineRender = __webpack_require__(198);\n;// CONCATENATED MODULE: ./src/ts/outline/index.ts\n\n\n\n\nvar Outline = /** @class */ (function () {\n    function Outline(outlineLabel) {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-outline\";\n        this.element.innerHTML = \"<div class=\\\"vditor-outline__title\\\">\" + outlineLabel + \"</div>\\n<div class=\\\"vditor-outline__content\\\"></div>\";\n    }\n    Outline.prototype.render = function (vditor) {\n        var html = \"\";\n        if (vditor.preview.element.style.display === \"block\") {\n            html = (0,outlineRender/* outlineRender */.k)(vditor.preview.element.lastElementChild, this.element.lastElementChild, vditor);\n        }\n        else {\n            html = (0,outlineRender/* outlineRender */.k)(vditor[vditor.currentMode].element, this.element.lastElementChild, vditor);\n        }\n        return html;\n    };\n    Outline.prototype.toggle = function (vditor, show) {\n        var _a;\n        if (show === void 0) { show = true; }\n        var btnElement = (_a = vditor.toolbar.elements.outline) === null || _a === void 0 ? void 0 : _a.firstElementChild;\n        if (show && window.innerWidth >= constants/* Constants.MOBILE_WIDTH */.g.MOBILE_WIDTH) {\n            this.element.style.display = \"block\";\n            this.render(vditor);\n            btnElement === null || btnElement === void 0 ? void 0 : btnElement.classList.add(\"vditor-menu--current\");\n        }\n        else {\n            this.element.style.display = \"none\";\n            btnElement === null || btnElement === void 0 ? void 0 : btnElement.classList.remove(\"vditor-menu--current\");\n        }\n        if (getSelection().rangeCount > 0) {\n            var range = getSelection().getRangeAt(0);\n            if (vditor[vditor.currentMode].element.contains(range.startContainer)) {\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else {\n                vditor[vditor.currentMode].element.focus();\n            }\n        }\n        setPadding(vditor);\n    };\n    return Outline;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/markdown/mediaRender.ts\nvar mediaRender = __webpack_require__(207);\n;// CONCATENATED MODULE: ./src/ts/preview/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Preview = /** @class */ (function () {\n    function Preview(vditor) {\n        var _this = this;\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-preview\";\n        var previewElement = document.createElement(\"div\");\n        previewElement.className = \"vditor-reset\";\n        if (vditor.options.classes.preview) {\n            previewElement.classList.add(vditor.options.classes.preview);\n        }\n        previewElement.style.maxWidth = vditor.options.preview.maxWidth + \"px\";\n        previewElement.addEventListener(\"copy\", function (event) {\n            if (event.target.tagName === \"TEXTAREA\") {\n                // https://github.com/Vanessa219/vditor/issues/901\n                return;\n            }\n            var tempElement = document.createElement(\"div\");\n            tempElement.className = \"vditor-reset\";\n            tempElement.appendChild(getSelection().getRangeAt(0).cloneContents());\n            _this.copyToX(vditor, tempElement);\n            event.preventDefault();\n        });\n        previewElement.addEventListener(\"click\", function (event) {\n            var spanElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"SPAN\");\n            if (spanElement && (0,hasClosest/* hasClosestByClassName */.fb)(spanElement, \"vditor-toc\")) {\n                var headingElement = previewElement.querySelector(\"#\" + spanElement.getAttribute(\"data-target-id\"));\n                if (headingElement) {\n                    _this.element.scrollTop = headingElement.offsetTop;\n                }\n                return;\n            }\n            if (event.target.tagName === \"IMG\") {\n                (0,preview_image/* previewImage */.E)(event.target, vditor.options.lang, vditor.options.theme);\n            }\n        });\n        var actions = vditor.options.preview.actions;\n        var actionElement = document.createElement(\"div\");\n        actionElement.className = \"vditor-preview__action\";\n        var actionHtml = [];\n        for (var i = 0; i < actions.length; i++) {\n            var action = actions[i];\n            if (typeof action === \"object\") {\n                actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"\" + action.key + \"\\\" class=\\\"\" + action.className + \"\\\"\" + (action.tooltip ? \" aria-label=\\\"\" + action.tooltip + \"\\\"\" : \"\") + \"\\\">\" + action.text + \"</button>\");\n                continue;\n            }\n            switch (action) {\n                case \"desktop\":\n                    actionHtml.push(\"<button type=\\\"button\\\" class=\\\"vditor-preview__action--current\\\" data-type=\\\"desktop\\\">Desktop</button>\");\n                    break;\n                case \"tablet\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"tablet\\\">Tablet</button>\");\n                    break;\n                case \"mobile\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"mobile\\\">Mobile/Wechat</button>\");\n                    break;\n                case \"mp-wechat\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"mp-wechat\\\" class=\\\"vditor-tooltipped vditor-tooltipped__w\\\" aria-label=\\\"\\u590D\\u5236\\u5230\\u516C\\u4F17\\u53F7\\\"><svg><use xlink:href=\\\"#vditor-icon-mp-wechat\\\"></use></svg></button>\");\n                    break;\n                case \"zhihu\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"zhihu\\\" class=\\\"vditor-tooltipped vditor-tooltipped__w\\\" aria-label=\\\"\\u590D\\u5236\\u5230\\u77E5\\u4E4E\\\"><svg><use xlink:href=\\\"#vditor-icon-zhihu\\\"></use></svg></button>\");\n                    break;\n            }\n        }\n        actionElement.innerHTML = actionHtml.join(\"\");\n        if (actions.length === 0) {\n            actionElement.style.display = \"none\";\n        }\n        this.element.appendChild(actionElement);\n        this.element.appendChild(previewElement);\n        actionElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btn = (0,hasClosestByHeadings/* hasClosestByTag */.S)(event.target, \"BUTTON\");\n            if (!btn) {\n                return;\n            }\n            var type = btn.getAttribute(\"data-type\");\n            var actionCustom = actions.find(function (w) { return (w === null || w === void 0 ? void 0 : w.key) === type; });\n            if (actionCustom) {\n                actionCustom.click(type);\n                return;\n            }\n            if (type === \"mp-wechat\" || type === \"zhihu\") {\n                _this.copyToX(vditor, _this.element.lastElementChild.cloneNode(true), type);\n                return;\n            }\n            if (type === \"desktop\") {\n                previewElement.style.width = \"auto\";\n            }\n            else if (type === \"tablet\") {\n                previewElement.style.width = \"780px\";\n            }\n            else {\n                previewElement.style.width = \"360px\";\n            }\n            if (previewElement.scrollWidth > previewElement.parentElement.clientWidth) {\n                previewElement.style.width = \"auto\";\n            }\n            _this.render(vditor);\n            actionElement.querySelectorAll(\"button\").forEach(function (item) {\n                item.classList.remove(\"vditor-preview__action--current\");\n            });\n            btn.classList.add(\"vditor-preview__action--current\");\n        });\n    }\n    Preview.prototype.render = function (vditor, value) {\n        var _this = this;\n        clearTimeout(this.mdTimeoutId);\n        if (this.element.style.display === \"none\") {\n            if (this.element.getAttribute(\"data-type\") === \"renderPerformance\") {\n                vditor.tip.hide();\n            }\n            return;\n        }\n        if (value) {\n            this.element.lastElementChild.innerHTML = value;\n            return;\n        }\n        if (getMarkdown(vditor)\n            .replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, \"\") === \"\") {\n            this.element.lastElementChild.innerHTML = \"\";\n            return;\n        }\n        var renderStartTime = new Date().getTime();\n        var markdownText = getMarkdown(vditor);\n        this.mdTimeoutId = window.setTimeout(function () {\n            if (vditor.options.preview.url) {\n                var xhr_1 = new XMLHttpRequest();\n                xhr_1.open(\"POST\", vditor.options.preview.url);\n                xhr_1.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n                xhr_1.onreadystatechange = function () {\n                    if (xhr_1.readyState === XMLHttpRequest.DONE) {\n                        if (xhr_1.status === 200) {\n                            var responseJSON = JSON.parse(xhr_1.responseText);\n                            if (responseJSON.code !== 0) {\n                                vditor.tip.show(responseJSON.msg);\n                                return;\n                            }\n                            if (vditor.options.preview.transform) {\n                                responseJSON.data = vditor.options.preview.transform(responseJSON.data);\n                            }\n                            _this.element.lastElementChild.innerHTML = responseJSON.data;\n                            _this.afterRender(vditor, renderStartTime);\n                        }\n                        else {\n                            var html = vditor.lute.Md2HTML(markdownText);\n                            if (vditor.options.preview.transform) {\n                                html = vditor.options.preview.transform(html);\n                            }\n                            _this.element.lastElementChild.innerHTML = html;\n                            _this.afterRender(vditor, renderStartTime);\n                        }\n                    }\n                };\n                xhr_1.send(JSON.stringify({ markdownText: markdownText }));\n            }\n            else {\n                var html = vditor.lute.Md2HTML(markdownText);\n                if (vditor.options.preview.transform) {\n                    html = vditor.options.preview.transform(html);\n                }\n                _this.element.lastElementChild.innerHTML = html;\n                _this.afterRender(vditor, renderStartTime);\n            }\n        }, vditor.options.preview.delay);\n    };\n    Preview.prototype.afterRender = function (vditor, startTime) {\n        if (vditor.options.preview.parse) {\n            vditor.options.preview.parse(this.element);\n        }\n        var time = (new Date().getTime() - startTime);\n        if ((new Date().getTime() - startTime) > 2600) {\n            // https://github.com/b3log/vditor/issues/67\n            vditor.tip.show(window.VditorI18n.performanceTip.replace(\"${x}\", time.toString()));\n            vditor.preview.element.setAttribute(\"data-type\", \"renderPerformance\");\n        }\n        else if (vditor.preview.element.getAttribute(\"data-type\") === \"renderPerformance\") {\n            vditor.tip.hide();\n            vditor.preview.element.removeAttribute(\"data-type\");\n        }\n        var cmtFocusElement = vditor.preview.element.querySelector(\".vditor-comment--focus\");\n        if (cmtFocusElement) {\n            cmtFocusElement.classList.remove(\"vditor-comment--focus\");\n        }\n        (0,codeRender/* codeRender */.O)(vditor.preview.element.lastElementChild);\n        (0,highlightRender/* highlightRender */.s)(vditor.options.preview.hljs, vditor.preview.element.lastElementChild, vditor.options.cdn);\n        (0,mermaidRender/* mermaidRender */.i)(vditor.preview.element.lastElementChild, vditor.options.cdn, vditor.options.theme);\n        (0,flowchartRender/* flowchartRender */.P)(vditor.preview.element.lastElementChild, vditor.options.cdn);\n        (0,graphvizRender/* graphvizRender */.v)(vditor.preview.element.lastElementChild, vditor.options.cdn);\n        (0,chartRender/* chartRender */.p)(vditor.preview.element.lastElementChild, vditor.options.cdn, vditor.options.theme);\n        (0,mindmapRender/* mindmapRender */.P)(vditor.preview.element.lastElementChild, vditor.options.cdn, vditor.options.theme);\n        (0,plantumlRender/* plantumlRender */.B)(vditor.preview.element.lastElementChild, vditor.options.cdn);\n        (0,abcRender/* abcRender */.Q)(vditor.preview.element.lastElementChild, vditor.options.cdn);\n        (0,mediaRender/* mediaRender */.Y)(vditor.preview.element.lastElementChild);\n        // toc render\n        var editorElement = vditor.preview.element;\n        var tocHTML = vditor.outline.render(vditor);\n        if (tocHTML === \"\") {\n            tocHTML = \"[ToC]\";\n        }\n        editorElement.querySelectorAll('[data-type=\"toc-block\"]').forEach(function (item) {\n            item.innerHTML = tocHTML;\n            (0,mathRender/* mathRender */.H)(item, {\n                cdn: vditor.options.cdn,\n                math: vditor.options.preview.math,\n            });\n        });\n        (0,mathRender/* mathRender */.H)(vditor.preview.element.lastElementChild, {\n            cdn: vditor.options.cdn,\n            math: vditor.options.preview.math,\n        });\n    };\n    Preview.prototype.copyToX = function (vditor, copyElement, type) {\n        if (type === void 0) { type = \"mp-wechat\"; }\n        // fix math render\n        if (type !== \"zhihu\") {\n            copyElement.querySelectorAll(\".katex-html .base\").forEach(function (item) {\n                item.style.display = \"initial\";\n            });\n        }\n        else {\n            copyElement.querySelectorAll(\".language-math\").forEach(function (item) {\n                item.outerHTML = \"<img class=\\\"Formula-image\\\" data-eeimg=\\\"true\\\" src=\\\"//www.zhihu.com/equation?tex=\\\" alt=\\\"\" + item.getAttribute(\"data-math\") + \"\\\\\\\" style=\\\"display: block; margin: 0 auto; max-width: 100%;\\\">\";\n            });\n        }\n        // \n        copyElement.style.backgroundColor = \"#fff\";\n        // \n        copyElement.querySelectorAll(\"code\").forEach(function (item) {\n            item.style.backgroundImage = \"none\";\n        });\n        this.element.append(copyElement);\n        var range = copyElement.ownerDocument.createRange();\n        range.selectNode(copyElement);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        document.execCommand(\"copy\");\n        this.element.lastElementChild.remove();\n        vditor.tip.show(\"\\u5DF2\\u590D\\u5236\\uFF0C\\u53EF\\u5230\" + (type === \"zhihu\" ? \"\" : \"\") + \"\\u8FDB\\u884C\\u7C98\\u8D34\");\n    };\n    return Preview;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/resize/index.ts\nvar Resize = /** @class */ (function () {\n    function Resize(vditor) {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-resize vditor-resize--\" + vditor.options.resize.position;\n        this.element.innerHTML = \"<div><svg><use xlink:href=\\\"#vditor-icon-resize\\\"></use></svg></div>\";\n        this.bindEvent(vditor);\n    }\n    Resize.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.addEventListener(\"mousedown\", function (event) {\n            var documentSelf = document;\n            var y = event.clientY;\n            var height = vditor.element.offsetHeight;\n            var minHeight = 63 + vditor.element.querySelector(\".vditor-toolbar\").clientHeight;\n            documentSelf.ondragstart = function () { return false; };\n            if (window.captureEvents) {\n                window.captureEvents();\n            }\n            _this.element.classList.add(\"vditor-resize--selected\");\n            documentSelf.onmousemove = function (moveEvent) {\n                if (vditor.options.resize.position === \"top\") {\n                    vditor.element.style.height = Math.max(minHeight, height + (y - moveEvent.clientY)) + \"px\";\n                }\n                else {\n                    vditor.element.style.height = Math.max(minHeight, height + (moveEvent.clientY - y)) + \"px\";\n                }\n                if (vditor.options.typewriterMode) {\n                    vditor.sv.element.style.paddingBottom =\n                        vditor.sv.element.parentElement.offsetHeight / 2 + \"px\";\n                }\n            };\n            documentSelf.onmouseup = function () {\n                if (vditor.options.resize.after) {\n                    vditor.options.resize.after(vditor.element.offsetHeight - height);\n                }\n                if (window.captureEvents) {\n                    window.captureEvents();\n                }\n                documentSelf.onmousemove = null;\n                documentSelf.onmouseup = null;\n                documentSelf.ondragstart = null;\n                documentSelf.onselectstart = null;\n                documentSelf.onselect = null;\n                _this.element.classList.remove(\"vditor-resize--selected\");\n            };\n        });\n    };\n    return Resize;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/sv/index.ts\n\n\n\n\n\nvar Editor = /** @class */ (function () {\n    function Editor(vditor) {\n        this.composingLock = false;\n        this.element = document.createElement(\"pre\");\n        this.element.className = \"vditor-sv vditor-reset\";\n        this.element.setAttribute(\"placeholder\", vditor.options.placeholder);\n        this.element.setAttribute(\"contenteditable\", \"true\");\n        this.element.setAttribute(\"spellcheck\", \"false\");\n        this.bindEvent(vditor);\n        focusEvent(vditor, this.element);\n        blurEvent(vditor, this.element);\n        hotkeyEvent(vditor, this.element);\n        selectEvent(vditor, this.element);\n        dropEvent(vditor, this.element);\n        copyEvent(vditor, this.element, this.copy);\n        cutEvent(vditor, this.element, this.copy);\n    }\n    Editor.prototype.copy = function (event, vditor) {\n        event.stopPropagation();\n        event.preventDefault();\n        event.clipboardData.setData(\"text/plain\", getSelectText(vditor[vditor.currentMode].element));\n    };\n    Editor.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.addEventListener(\"paste\", function (event) {\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    document.execCommand(\"insertHTML\", false, code);\n                },\n            });\n        });\n        this.element.addEventListener(\"scroll\", function () {\n            if (vditor.preview.element.style.display !== \"block\") {\n                return;\n            }\n            var textScrollTop = _this.element.scrollTop;\n            var textHeight = _this.element.clientHeight;\n            var textScrollHeight = _this.element.scrollHeight - parseFloat(_this.element.style.paddingBottom || \"0\");\n            var preview = vditor.preview.element;\n            if ((textScrollTop / textHeight > 0.5)) {\n                preview.scrollTop = (textScrollTop + textHeight) *\n                    preview.scrollHeight / textScrollHeight - textHeight;\n            }\n            else {\n                preview.scrollTop = textScrollTop *\n                    preview.scrollHeight / textScrollHeight;\n            }\n        });\n        this.element.addEventListener(\"compositionstart\", function (event) {\n            _this.composingLock = true;\n        });\n        this.element.addEventListener(\"compositionend\", function (event) {\n            if (!(0,compatibility/* isFirefox */.vU)()) {\n                inputEvent(vditor, event);\n            }\n            _this.composingLock = false;\n        });\n        this.element.addEventListener(\"input\", function (event) {\n            if (event.inputType === \"deleteByDrag\" || event.inputType === \"insertFromDrop\") {\n                // https://github.com/Vanessa219/vditor/issues/801 \n                return;\n            }\n            if (_this.composingLock || event.data === \"\" || event.data === \"\" || event.data === \"\") {\n                return;\n            }\n            if (_this.preventInput) {\n                _this.preventInput = false;\n                return;\n            }\n            inputEvent(vditor, event);\n        });\n        this.element.addEventListener(\"keyup\", function (event) {\n            if (event.isComposing || (0,compatibility/* isCtrl */.yl)(event)) {\n                return;\n            }\n            if ((event.key === \"Backspace\" || event.key === \"Delete\") &&\n                vditor.sv.element.innerHTML !== \"\" && vditor.sv.element.childNodes.length === 1 &&\n                vditor.sv.element.firstElementChild && vditor.sv.element.firstElementChild.tagName === \"DIV\"\n                && vditor.sv.element.firstElementChild.childElementCount === 2\n                && (vditor.sv.element.firstElementChild.textContent === \"\" || vditor.sv.element.textContent === \"\\n\")) {\n                //  placeholder\n                vditor.sv.element.innerHTML = \"\";\n                return;\n            }\n            if (event.key === \"Enter\") {\n                scrollCenter(vditor);\n            }\n        });\n    };\n    return Editor;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/tip/index.ts\nvar Tip = /** @class */ (function () {\n    function Tip() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-tip\";\n    }\n    Tip.prototype.show = function (text, time) {\n        var _this = this;\n        if (time === void 0) { time = 6000; }\n        this.element.className = \"vditor-tip vditor-tip--show\";\n        if (time === 0) {\n            this.element.innerHTML = \"<div class=\\\"vditor-tip__content\\\">\" + text + \"\\n<div class=\\\"vditor-tip__close\\\">X</div></div>\";\n            this.element.querySelector(\".vditor-tip__close\").addEventListener(\"click\", function () {\n                _this.hide();\n            });\n            return;\n        }\n        this.element.innerHTML = \"<div class=\\\"vditor-tip__content\\\">\" + text + \"</div>\";\n        setTimeout(function () {\n            _this.hide();\n        }, time);\n    };\n    Tip.prototype.hide = function () {\n        this.element.className = \"vditor-messageElementtip\";\n        this.element.innerHTML = \"\";\n    };\n    return Tip;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/ui/setPreviewMode.ts\n\n\nvar setPreviewMode = function (mode, vditor) {\n    if (vditor.options.preview.mode === mode) {\n        return;\n    }\n    vditor.options.preview.mode = mode;\n    switch (mode) {\n        case \"both\":\n            vditor.sv.element.style.display = \"block\";\n            vditor.preview.element.style.display = \"block\";\n            vditor.preview.render(vditor);\n            setCurrentToolbar(vditor.toolbar.elements, [\"both\"]);\n            break;\n        case \"editor\":\n            vditor.sv.element.style.display = \"block\";\n            vditor.preview.element.style.display = \"none\";\n            removeCurrentToolbar(vditor.toolbar.elements, [\"both\"]);\n            break;\n        default:\n            break;\n    }\n    if (vditor.devtools) {\n        vditor.devtools.renderEchart(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Both.ts\nvar Both_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Both = /** @class */ (function (_super) {\n    Both_extends(Both, _super);\n    function Both(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        if (vditor.options.preview.mode === \"both\") {\n            _this.element.children[0].classList.add(\"vditor-menu--current\");\n        }\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = _this.element.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            event.preventDefault();\n            if (vditor.currentMode !== \"sv\") {\n                return;\n            }\n            if (vditor.options.preview.mode === \"both\") {\n                setPreviewMode(\"editor\", vditor);\n            }\n            else {\n                setPreviewMode(\"both\", vditor);\n            }\n        });\n        return _this;\n    }\n    return Both;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Br.ts\nvar Br = /** @class */ (function () {\n    function Br() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-toolbar__br\";\n    }\n    return Br;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/ui/setCodeTheme.ts\nvar setCodeTheme = __webpack_require__(968);\n;// CONCATENATED MODULE: ./src/ts/toolbar/CodeTheme.ts\nvar CodeTheme_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar CodeTheme = /** @class */ (function (_super) {\n    CodeTheme_extends(CodeTheme, _super);\n    function CodeTheme(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var actionBtn = _this.element.children[0];\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\" + (menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        var innerHTML = \"\";\n        constants/* Constants.CODE_THEME.forEach */.g.CODE_THEME.forEach(function (theme) {\n            innerHTML += \"<button>\" + theme + \"</button>\";\n        });\n        panelElement.innerHTML =\n            \"<div style=\\\"overflow: auto;max-height:\" + window.innerHeight / 2 + \"px\\\">\" + innerHTML + \"</div>\";\n        panelElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            if (event.target.tagName === \"BUTTON\") {\n                hidePanel(vditor, [\"subToolbar\"]);\n                vditor.options.preview.hljs.style = event.target.textContent;\n                (0,setCodeTheme/* setCodeTheme */.Y)(event.target.textContent, vditor.options.cdn);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        });\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        return _this;\n    }\n    return CodeTheme;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/ContentTheme.ts\nvar ContentTheme_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar ContentTheme = /** @class */ (function (_super) {\n    ContentTheme_extends(ContentTheme, _super);\n    function ContentTheme(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var actionBtn = _this.element.children[0];\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\" + (menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        var innerHTML = \"\";\n        Object.keys(vditor.options.preview.theme.list).forEach(function (key) {\n            innerHTML += \"<button data-type=\\\"\" + key + \"\\\">\" + vditor.options.preview.theme.list[key] + \"</button>\";\n        });\n        panelElement.innerHTML =\n            \"<div style=\\\"overflow: auto;max-height:\" + window.innerHeight / 2 + \"px\\\">\" + innerHTML + \"</div>\";\n        panelElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            if (event.target.tagName === \"BUTTON\") {\n                hidePanel(vditor, [\"subToolbar\"]);\n                vditor.options.preview.theme.current = event.target.getAttribute(\"data-type\");\n                (0,setContentTheme/* setContentTheme */.Z)(vditor.options.preview.theme.current, vditor.options.preview.theme.path);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        });\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        return _this;\n    }\n    return ContentTheme;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Counter.ts\nvar Counter = /** @class */ (function () {\n    function Counter(vditor) {\n        this.element = document.createElement(\"span\");\n        this.element.className = \"vditor-counter vditor-tooltipped vditor-tooltipped__nw\";\n        this.render(vditor, \"\");\n    }\n    Counter.prototype.render = function (vditor, mdText) {\n        var length = mdText.endsWith(\"\\n\") ? mdText.length - 1 : mdText.length;\n        if (vditor.options.counter.type === \"text\" && vditor[vditor.currentMode]) {\n            var tempElement = vditor[vditor.currentMode].element.cloneNode(true);\n            tempElement.querySelectorAll(\".vditor-wysiwyg__preview\").forEach(function (item) {\n                item.remove();\n            });\n            length = tempElement.textContent.length;\n        }\n        if (typeof vditor.options.counter.max === \"number\") {\n            if (length > vditor.options.counter.max) {\n                this.element.className = \"vditor-counter vditor-counter--error\";\n            }\n            else {\n                this.element.className = \"vditor-counter\";\n            }\n            this.element.innerHTML = length + \"/\" + vditor.options.counter.max;\n        }\n        else {\n            this.element.innerHTML = \"\" + length;\n        }\n        this.element.setAttribute(\"aria-label\", vditor.options.counter.type);\n        if (vditor.options.counter.after) {\n            vditor.options.counter.after(length, {\n                enable: vditor.options.counter.enable,\n                max: vditor.options.counter.max,\n                type: vditor.options.counter.type,\n            });\n        }\n    };\n    return Counter;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Custom.ts\nvar Custom_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Custom = /** @class */ (function (_super) {\n    Custom_extends(Custom, _super);\n    function Custom(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].innerHTML = menuItem.icon;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (event.currentTarget.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            menuItem.click(event, vditor);\n        });\n        return _this;\n    }\n    return Custom;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Devtools.ts\nvar Devtools_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Devtools = /** @class */ (function (_super) {\n    Devtools_extends(Devtools, _super);\n    function Devtools(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.firstElementChild.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = _this.element.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            event.preventDefault();\n            if (btnElement.classList.contains(\"vditor-menu--current\")) {\n                btnElement.classList.remove(\"vditor-menu--current\");\n                vditor.devtools.element.style.display = \"none\";\n                setPadding(vditor);\n            }\n            else {\n                btnElement.classList.add(\"vditor-menu--current\");\n                vditor.devtools.element.style.display = \"block\";\n                setPadding(vditor);\n                vditor.devtools.renderEchart(vditor);\n            }\n        });\n        return _this;\n    }\n    return Devtools;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Divider.ts\nvar Divider = /** @class */ (function () {\n    function Divider() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-toolbar__divider\";\n    }\n    return Divider;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Emoji.ts\nvar Emoji_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar Emoji = /** @class */ (function (_super) {\n    Emoji_extends(Emoji, _super);\n    function Emoji(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-panel vditor-panel--arrow\";\n        var commonEmojiHTML = \"\";\n        Object.keys(vditor.options.hint.emoji).forEach(function (key) {\n            var emojiValue = vditor.options.hint.emoji[key];\n            if (emojiValue.indexOf(\".\") > -1) {\n                commonEmojiHTML += \"<button data-value=\\\":\" + key + \": \\\" data-key=\\\":\" + key + \":\\\"><img\\ndata-value=\\\":\" + key + \": \\\" data-key=\\\":\" + key + \":\\\" class=\\\"vditor-emojis__icon\\\" src=\\\"\" + emojiValue + \"\\\"/></button>\";\n            }\n            else {\n                commonEmojiHTML += \"<button data-value=\\\"\" + emojiValue + \" \\\"\\n data-key=\\\"\" + key + \"\\\"><span class=\\\"vditor-emojis__icon\\\">\" + emojiValue + \"</span></button>\";\n            }\n        });\n        var tailHTML = \"<div class=\\\"vditor-emojis__tail\\\">\\n    <span class=\\\"vditor-emojis__tip\\\"></span><span>\" + (vditor.options.hint.emojiTail || \"\") + \"</span>\\n</div>\";\n        panelElement.innerHTML = \"<div class=\\\"vditor-emojis\\\" style=\\\"max-height: \" + (vditor.options.height === \"auto\" ? \"auto\" : vditor.options.height - 80) + \"px\\\">\" + commonEmojiHTML + \"</div>\" + tailHTML;\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, _this.element.children[0], menuItem.level);\n        _this._bindEvent(vditor, panelElement);\n        return _this;\n    }\n    Emoji.prototype._bindEvent = function (vditor, panelElement) {\n        panelElement.querySelectorAll(\".vditor-emojis button\").forEach(function (element) {\n            element.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n                event.preventDefault();\n                var value = element.getAttribute(\"data-value\");\n                var range = (0,selection/* getEditorRange */.zh)(vditor);\n                var html = value;\n                if (vditor.currentMode === \"wysiwyg\") {\n                    html = vditor.lute.SpinVditorDOM(value);\n                }\n                else if (vditor.currentMode === \"ir\") {\n                    html = vditor.lute.SpinVditorIRDOM(value);\n                }\n                if (value.indexOf(\":\") > -1 && vditor.currentMode !== \"sv\") {\n                    var tempElement = document.createElement(\"div\");\n                    tempElement.innerHTML = html;\n                    html = tempElement.firstElementChild.firstElementChild.outerHTML + \" \";\n                    (0,selection/* insertHTML */.oC)(html, vditor);\n                }\n                else {\n                    range.extractContents();\n                    range.insertNode(document.createTextNode(value));\n                }\n                range.collapse(false);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                panelElement.style.display = \"none\";\n                execAfterRender(vditor);\n            });\n            element.addEventListener(\"mouseover\", function (event) {\n                if (event.target.tagName === \"BUTTON\") {\n                    panelElement.querySelector(\".vditor-emojis__tip\").innerHTML =\n                        event.target.getAttribute(\"data-key\");\n                }\n            });\n        });\n    };\n    return Emoji;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/export/index.ts\n\n\nvar download = function (vditor, content, filename) {\n    var aElement = document.createElement(\"a\");\n    if (\"download\" in aElement) {\n        aElement.download = filename;\n        aElement.style.display = \"none\";\n        aElement.href = URL.createObjectURL(new Blob([content]));\n        document.body.appendChild(aElement);\n        aElement.click();\n        aElement.remove();\n    }\n    else {\n        vditor.tip.show(window.VditorI18n.downloadTip, 0);\n    }\n};\nvar exportMarkdown = function (vditor) {\n    var content = getMarkdown(vditor);\n    download(vditor, content, content.substr(0, 10) + \".md\");\n};\nvar exportPDF = function (vditor) {\n    vditor.tip.show(window.VditorI18n.generate, 3800);\n    var iframe = document.querySelector(\"iframe\");\n    iframe.contentDocument.open();\n    iframe.contentDocument.write(\"<link rel=\\\"stylesheet\\\" href=\\\"\" + vditor.options.cdn + \"/dist/index.css\\\"/>\\n<script src=\\\"\" + vditor.options.cdn + \"/dist/method.min.js\\\"></script>\\n<div id=\\\"preview\\\"></div>\\n<script>\\nwindow.addEventListener(\\\"message\\\", (e) => {\\n  if(!e.data) {\\n    return;\\n  }\\n  Vditor.preview(document.getElementById('preview'), e.data, {\\n    markdown: {\\n      theme: \\\"\" + vditor.options.preview.theme + \"\\\"\\n    },\\n    hljs: {\\n      style: \\\"\" + vditor.options.preview.hljs.style + \"\\\"\\n    }\\n  });\\n  setTimeout(() => {\\n        window.print();\\n    }, 3600);\\n}, false);\\n</script>\");\n    iframe.contentDocument.close();\n    setTimeout(function () {\n        iframe.contentWindow.postMessage(getMarkdown(vditor), \"*\");\n    }, 200);\n};\nvar exportHTML = function (vditor) {\n    var content = getHTML(vditor);\n    var html = \"<html><head><link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"\" + vditor.options.cdn + \"/dist/index.css\\\"/>\\n<script src=\\\"\" + vditor.options.cdn + \"/dist/js/i18n/\" + vditor.options.lang + \".js\\\"></script>\\n<script src=\\\"\" + vditor.options.cdn + \"/dist/method.min.js\\\"></script></head>\\n<body><div class=\\\"vditor-reset\\\" id=\\\"preview\\\">\" + content + \"</div>\\n<script>\\n    const previewElement = document.getElementById('preview')\\n    Vditor.setContentTheme('\" + vditor.options.preview.theme.current + \"', '\" + vditor.options.preview.theme.path + \"');\\n    Vditor.codeRender(previewElement);\\n    Vditor.highlightRender(\" + JSON.stringify(vditor.options.preview.hljs) + \", previewElement, '\" + vditor.options.cdn + \"');\\n    Vditor.mathRender(previewElement, {\\n        cdn: '\" + vditor.options.cdn + \"',\\n        math: \" + JSON.stringify(vditor.options.preview.math) + \",\\n    });\\n    Vditor.mermaidRender(previewElement, '\" + vditor.options.cdn + \"', '\" + vditor.options.theme + \"');\\n    Vditor.flowchartRender(previewElement, '\" + vditor.options.cdn + \"');\\n    Vditor.graphvizRender(previewElement, '\" + vditor.options.cdn + \"');\\n    Vditor.chartRender(previewElement, '\" + vditor.options.cdn + \"', '\" + vditor.options.theme + \"');\\n    Vditor.mindmapRender(previewElement, '\" + vditor.options.cdn + \"', '\" + vditor.options.theme + \"');\\n    Vditor.abcRender(previewElement, '\" + vditor.options.cdn + \"');\\n    Vditor.mediaRender(previewElement);\\n    Vditor.speechRender(previewElement);\\n</script>\\n<script src=\\\"\" + vditor.options.cdn + \"/dist/js/icons/\" + vditor.options.icon + \".js\\\"></script></body></html>\";\n    download(vditor, html, content.substr(0, 10) + \".html\");\n};\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Export.ts\nvar Export_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Export = /** @class */ (function (_super) {\n    Export_extends(Export, _super);\n    function Export(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var actionBtn = _this.element.children[0];\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\" + (menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        panelElement.innerHTML = \"<button data-type=\\\"markdown\\\">Markdown</button>\\n<button data-type=\\\"pdf\\\">PDF</button>\\n<button data-type=\\\"html\\\">HTML</button>\";\n        panelElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = event.target;\n            if (btnElement.tagName === \"BUTTON\") {\n                switch (btnElement.getAttribute(\"data-type\")) {\n                    case \"markdown\":\n                        exportMarkdown(vditor);\n                        break;\n                    case \"pdf\":\n                        exportPDF(vditor);\n                        break;\n                    case \"html\":\n                        exportHTML(vditor);\n                        break;\n                    default:\n                        break;\n                }\n                hidePanel(vditor, [\"subToolbar\"]);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        });\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        return _this;\n    }\n    return Export;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Fullscreen.ts\nvar Fullscreen_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Fullscreen = /** @class */ (function (_super) {\n    Fullscreen_extends(Fullscreen, _super);\n    function Fullscreen(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this._bindEvent(vditor, menuItem);\n        return _this;\n    }\n    Fullscreen.prototype._bindEvent = function (vditor, menuItem) {\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (vditor.element.className.includes(\"vditor--fullscreen\")) {\n                if (!menuItem.level) {\n                    this.innerHTML = menuItem.icon;\n                }\n                vditor.element.style.zIndex = \"\";\n                document.body.style.overflow = \"\";\n                vditor.element.classList.remove(\"vditor--fullscreen\");\n                Object.keys(vditor.toolbar.elements).forEach(function (key) {\n                    var svgElement = vditor.toolbar.elements[key].firstChild;\n                    if (svgElement) {\n                        svgElement.className = svgElement.className.replace(\"__s\", \"__n\");\n                    }\n                });\n                if (vditor.counter) {\n                    vditor.counter.element.className = vditor.counter.element.className.replace(\"__s\", \"__n\");\n                }\n            }\n            else {\n                if (!menuItem.level) {\n                    this.innerHTML = '<svg><use xlink:href=\"#vditor-icon-contract\"></use></svg>';\n                }\n                vditor.element.style.zIndex = vditor.options.fullscreen.index.toString();\n                document.body.style.overflow = \"hidden\";\n                vditor.element.classList.add(\"vditor--fullscreen\");\n                Object.keys(vditor.toolbar.elements).forEach(function (key) {\n                    var svgElement = vditor.toolbar.elements[key].firstChild;\n                    if (svgElement) {\n                        svgElement.className = svgElement.className.replace(\"__n\", \"__s\");\n                    }\n                });\n                if (vditor.counter) {\n                    vditor.counter.element.className = vditor.counter.element.className.replace(\"__n\", \"__s\");\n                }\n            }\n            if (vditor.devtools) {\n                vditor.devtools.renderEchart(vditor);\n            }\n            if (menuItem.click) {\n                menuItem.click(event, vditor);\n            }\n            setPadding(vditor);\n            setTypewriterPosition(vditor);\n        });\n    };\n    return Fullscreen;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Headings.ts\nvar Headings_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\nvar Headings = /** @class */ (function (_super) {\n    Headings_extends(Headings, _super);\n    function Headings(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint vditor-panel--arrow\";\n        panelElement.innerHTML = \"<button data-tag=\\\"h1\\\" data-value=\\\"# \\\">\" + window.VditorI18n.heading1 + \" \" + (0,compatibility/* updateHotkeyTip */.ns)(\"&lt;1>\") + \"</button>\\n<button data-tag=\\\"h2\\\" data-value=\\\"## \\\">\" + window.VditorI18n.heading2 + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"2\") + \"></button>\\n<button data-tag=\\\"h3\\\" data-value=\\\"### \\\">\" + window.VditorI18n.heading3 + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"3\") + \"></button>\\n<button data-tag=\\\"h4\\\" data-value=\\\"#### \\\">\" + window.VditorI18n.heading4 + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"4\") + \"></button>\\n<button data-tag=\\\"h5\\\" data-value=\\\"##### \\\">\" + window.VditorI18n.heading5 + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"5\") + \"></button>\\n<button data-tag=\\\"h6\\\" data-value=\\\"###### \\\">\" + window.VditorI18n.heading6 + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"6\") + \"></button>\";\n        _this.element.appendChild(panelElement);\n        _this._bindEvent(vditor, panelElement);\n        return _this;\n    }\n    Headings.prototype._bindEvent = function (vditor, panelElement) {\n        var actionBtn = this.element.children[0];\n        actionBtn.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (actionBtn.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            actionBtn.blur();\n            if (actionBtn.classList.contains(\"vditor-menu--current\")) {\n                if (vditor.currentMode === \"wysiwyg\") {\n                    removeHeading(vditor);\n                    afterRenderEvent(vditor);\n                }\n                else if (vditor.currentMode === \"ir\") {\n                    process_processHeading(vditor, \"\");\n                }\n                actionBtn.classList.remove(\"vditor-menu--current\");\n            }\n            else {\n                hidePanel(vditor, [\"subToolbar\"]);\n                panelElement.style.display = \"block\";\n            }\n        });\n        for (var i = 0; i < 6; i++) {\n            panelElement.children.item(i).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n                event.preventDefault();\n                if (vditor.currentMode === \"wysiwyg\") {\n                    setHeading(vditor, event.target.getAttribute(\"data-tag\"));\n                    afterRenderEvent(vditor);\n                    actionBtn.classList.add(\"vditor-menu--current\");\n                }\n                else if (vditor.currentMode === \"ir\") {\n                    process_processHeading(vditor, event.target.getAttribute(\"data-value\"));\n                    actionBtn.classList.add(\"vditor-menu--current\");\n                }\n                else {\n                    processHeading(vditor, event.target.getAttribute(\"data-value\"));\n                }\n                panelElement.style.display = \"none\";\n            });\n        }\n    };\n    return Headings;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Help.ts\nvar Help_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar Help = /** @class */ (function (_super) {\n    Help_extends(Help, _super);\n    function Help(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            vditor.tip.show(\"<div style=\\\"margin-bottom:14px;font-size: 14px;line-height: 22px;min-width:300px;max-width: 360px;display: flex;\\\">\\n<div style=\\\"margin-top: 14px;flex: 1\\\">\\n    <div>Markdown \\u4F7F\\u7528\\u6307\\u5357</div>\\n    <ul style=\\\"list-style: none\\\">\\n        <li><a href=\\\"https://ld246.com/article/1583308420519\\\" target=\\\"_blank\\\">\\u8BED\\u6CD5\\u901F\\u67E5\\u624B\\u518C</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1583129520165\\\" target=\\\"_blank\\\">\\u57FA\\u7840\\u8BED\\u6CD5</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1583305480675\\\" target=\\\"_blank\\\">\\u6269\\u5C55\\u8BED\\u6CD5</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1582778815353\\\" target=\\\"_blank\\\">\\u952E\\u76D8\\u5FEB\\u6377\\u952E</a></li>\\n    </ul>\\n</div>\\n<div style=\\\"margin-top: 14px;flex: 1\\\">\\n    <div>Vditor \\u652F\\u6301</div>\\n    <ul style=\\\"list-style: none\\\">\\n        <li><a href=\\\"https://github.com/Vanessa219/vditor/issues\\\" target=\\\"_blank\\\">Issues</a></li>\\n        <li><a href=\\\"https://ld246.com/tag/vditor\\\" target=\\\"_blank\\\">\\u5B98\\u65B9\\u8BA8\\u8BBA\\u533A</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1549638745630\\\" target=\\\"_blank\\\">\\u5F00\\u53D1\\u624B\\u518C</a></li>\\n        <li><a href=\\\"https://ld246.com/guide/markdown\\\" target=\\\"_blank\\\">\\u6F14\\u793A\\u5730\\u5740</a></li>\\n    </ul>\\n</div></div>\", 0);\n        });\n        return _this;\n    }\n    return Help;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Indent.ts\nvar Indent_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar Indent = /** @class */ (function (_super) {\n    Indent_extends(Indent, _super);\n    function Indent(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n            if (liElement) {\n                listIndent(vditor, liElement, range);\n            }\n        });\n        return _this;\n    }\n    return Indent;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Info.ts\nvar Info_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Info = /** @class */ (function (_super) {\n    Info_extends(Info, _super);\n    function Info(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            vditor.tip.show(\"<div style=\\\"max-width: 520px; font-size: 14px;line-height: 22px;margin-bottom: 14px;\\\">\\n<p style=\\\"text-align: center;margin: 14px 0\\\">\\n    <em>\\u4E0B\\u4E00\\u4EE3\\u7684 Markdown \\u7F16\\u8F91\\u5668\\uFF0C\\u4E3A\\u672A\\u6765\\u800C\\u6784\\u5EFA</em>\\n</p>\\n<div style=\\\"display: flex;margin-bottom: 14px;flex-wrap: wrap;align-items: center\\\">\\n    <img src=\\\"https://cdn.jsdelivr.net/npm/vditor/src/assets/images/logo.png\\\" style=\\\"margin: 0 auto;height: 68px\\\"/>\\n    <div>&nbsp;&nbsp;</div>\\n    <div style=\\\"flex: 1;min-width: 250px\\\">\\n        Vditor \\u662F\\u4E00\\u6B3E\\u6D4F\\u89C8\\u5668\\u7AEF\\u7684 Markdown \\u7F16\\u8F91\\u5668\\uFF0C\\u652F\\u6301\\u6240\\u89C1\\u5373\\u6240\\u5F97\\u3001\\u5373\\u65F6\\u6E32\\u67D3\\uFF08\\u7C7B\\u4F3C Typora\\uFF09\\u548C\\u5206\\u5C4F\\u9884\\u89C8\\u6A21\\u5F0F\\u3002\\n        \\u5B83\\u4F7F\\u7528 TypeScript \\u5B9E\\u73B0\\uFF0C\\u652F\\u6301\\u539F\\u751F JavaScript\\u3001Vue\\u3001React\\u3001Angular\\uFF0C\\u63D0\\u4F9B<a target=\\\"_blank\\\" href=\\\"https://b3log.org/siyuan\\\">\\u684C\\u9762\\u7248</a>\\u3002\\n    </div>\\n</div>\\n<div style=\\\"display: flex;flex-wrap: wrap;\\\">\\n    <ul style=\\\"list-style: none;flex: 1;min-width:148px\\\">\\n        <li>\\n        \\u9879\\u76EE\\u5730\\u5740\\uFF1A<a href=\\\"https://b3log.org/vditor\\\" target=\\\"_blank\\\">b3log.org/vditor</a>\\n        </li>\\n        <li>\\n        \\u5F00\\u6E90\\u534F\\u8BAE\\uFF1AMIT\\n        </li>\\n    </ul>\\n    <ul style=\\\"list-style: none;margin-right: 18px\\\">\\n        <li>\\n        \\u7EC4\\u4EF6\\u7248\\u672C\\uFF1AVditor v\" + constants/* VDITOR_VERSION */.H + \" / Lute v\" + Lute.Version + \"\\n        </li>\\n        <li>\\n        \\u8D5E\\u52A9\\u6350\\u8D60\\uFF1A<a href=\\\"https://ld246.com/sponsor\\\" target=\\\"_blank\\\">https://ld246.com/sponsor</a>\\n        </li>\\n    </ul>\\n</div>\\n</div>\", 0);\n        });\n        return _this;\n    }\n    return Info;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/InsertAfter.ts\nvar InsertAfter_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar InsertAfter = /** @class */ (function (_super) {\n    InsertAfter_extends(InsertAfter, _super);\n    function InsertAfter(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            insertEmptyBlock(vditor, \"afterend\");\n        });\n        return _this;\n    }\n    return InsertAfter;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/InsertBefore.ts\nvar InsertBefore_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar InsertBefore = /** @class */ (function (_super) {\n    InsertBefore_extends(InsertBefore, _super);\n    function InsertBefore(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            insertEmptyBlock(vditor, \"beforebegin\");\n        });\n        return _this;\n    }\n    return InsertBefore;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Outdent.ts\nvar Outdent_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar Outdent = /** @class */ (function (_super) {\n    Outdent_extends(Outdent, _super);\n    function Outdent(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n            if (liElement) {\n                listOutdent(vditor, liElement, range, liElement.parentElement);\n            }\n        });\n        return _this;\n    }\n    return Outdent;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Outline.ts\nvar Outline_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Outline_Outline = /** @class */ (function (_super) {\n    Outline_extends(Outline, _super);\n    function Outline(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        if (vditor.options.outline) {\n            _this.element.firstElementChild.classList.add(\"vditor-menu--current\");\n        }\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            var btnElement = vditor.toolbar.elements.outline.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            vditor.options.outline.enable = !_this.element.firstElementChild.classList.contains(\"vditor-menu--current\");\n            vditor.outline.toggle(vditor, vditor.options.outline.enable);\n        });\n        return _this;\n    }\n    return Outline;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Preview.ts\nvar Preview_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar Preview_Preview = /** @class */ (function (_super) {\n    Preview_extends(Preview, _super);\n    function Preview(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this._bindEvent(vditor);\n        return _this;\n    }\n    Preview.prototype._bindEvent = function (vditor) {\n        var _this = this;\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            var btnElement = _this.element.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            var toolbars = constants/* Constants.EDIT_TOOLBARS.concat */.g.EDIT_TOOLBARS.concat([\"both\", \"edit-mode\", \"devtools\"]);\n            if (btnElement.classList.contains(\"vditor-menu--current\")) {\n                btnElement.classList.remove(\"vditor-menu--current\");\n                if (vditor.currentMode === \"sv\") {\n                    vditor.sv.element.style.display = \"block\";\n                    if (vditor.options.preview.mode === \"both\") {\n                        vditor.preview.element.style.display = \"block\";\n                    }\n                    else {\n                        vditor.preview.element.style.display = \"none\";\n                    }\n                }\n                else {\n                    vditor[vditor.currentMode].element.parentElement.style.display = \"block\";\n                    vditor.preview.element.style.display = \"none\";\n                }\n                enableToolbar(vditor.toolbar.elements, toolbars);\n                vditor.outline.render(vditor);\n            }\n            else {\n                disableToolbar(vditor.toolbar.elements, toolbars);\n                vditor.preview.element.style.display = \"block\";\n                if (vditor.currentMode === \"sv\") {\n                    vditor.sv.element.style.display = \"none\";\n                }\n                else {\n                    vditor[vditor.currentMode].element.parentElement.style.display = \"none\";\n                }\n                vditor.preview.render(vditor);\n                btnElement.classList.add(\"vditor-menu--current\");\n                hidePanel(vditor, [\"subToolbar\", \"hint\", \"popover\"]);\n                setTimeout(function () {\n                    vditor.outline.render(vditor);\n                }, vditor.options.preview.delay + 10);\n            }\n            setPadding(vditor);\n        });\n    };\n    return Preview;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/util/RecordMedia.ts\nvar RecordMedia = /** @class */ (function () {\n    function RecordMedia(e) {\n        this.SAMPLE_RATE = 5000; // 44100 suggested by demos;\n        this.isRecording = false;\n        this.readyFlag = false;\n        this.leftChannel = [];\n        this.rightChannel = [];\n        this.recordingLength = 0;\n        var context;\n        // creates the audio context\n        if (typeof AudioContext !== \"undefined\") {\n            context = new AudioContext();\n        }\n        else if (webkitAudioContext) {\n            context = new webkitAudioContext();\n        }\n        else {\n            return;\n        }\n        this.DEFAULT_SAMPLE_RATE = context.sampleRate;\n        // creates a gain node\n        var volume = context.createGain();\n        // creates an audio node from the microphone incoming stream\n        var audioInput = context.createMediaStreamSource(e);\n        // connect the stream to the gain node\n        audioInput.connect(volume);\n        /* From the spec: The size of the buffer controls how frequently the audioprocess event is\n         dispatched and how many sample-frames need to be processed each call.\n         Lower values for buffer size will result in a lower (better) latency.\n         Higher values will be necessary to avoid audio breakup and glitches */\n        this.recorder = context.createScriptProcessor(2048, 2, 1);\n        // The onaudioprocess event needs to be defined externally, so make sure it is not set:\n        this.recorder.onaudioprocess = null;\n        // we connect the recorder\n        volume.connect(this.recorder);\n        this.recorder.connect(context.destination);\n        this.readyFlag = true;\n    }\n    // Publicly accessible methods:\n    RecordMedia.prototype.cloneChannelData = function (leftChannelData, rightChannelData) {\n        this.leftChannel.push(new Float32Array(leftChannelData));\n        this.rightChannel.push(new Float32Array(rightChannelData));\n        this.recordingLength += 2048;\n    };\n    RecordMedia.prototype.startRecordingNewWavFile = function () {\n        if (this.readyFlag) {\n            this.isRecording = true;\n            this.leftChannel.length = this.rightChannel.length = 0;\n            this.recordingLength = 0;\n        }\n    };\n    RecordMedia.prototype.stopRecording = function () {\n        this.isRecording = false;\n    };\n    RecordMedia.prototype.buildWavFileBlob = function () {\n        // we flat the left and right channels down\n        var leftBuffer = this.mergeBuffers(this.leftChannel);\n        var rightBuffer = this.mergeBuffers(this.rightChannel);\n        // Interleave the left and right channels together:\n        var interleaved = new Float32Array(leftBuffer.length);\n        for (var i = 0; i < leftBuffer.length; ++i) {\n            interleaved[i] = 0.5 * (leftBuffer[i] + rightBuffer[i]);\n        }\n        // Downsample the audio data if necessary:\n        if (this.DEFAULT_SAMPLE_RATE > this.SAMPLE_RATE) {\n            interleaved = this.downSampleBuffer(interleaved, this.SAMPLE_RATE);\n        }\n        var totalByteCount = (44 + interleaved.length * 2);\n        var buffer = new ArrayBuffer(totalByteCount);\n        var view = new DataView(buffer);\n        // Build the RIFF chunk descriptor:\n        this.writeUTFBytes(view, 0, \"RIFF\");\n        view.setUint32(4, totalByteCount, true);\n        this.writeUTFBytes(view, 8, \"WAVE\");\n        // Build the FMT sub-chunk:\n        this.writeUTFBytes(view, 12, \"fmt \"); // subchunk1 ID is format\n        view.setUint32(16, 16, true); // The sub-chunk size is 16.\n        view.setUint16(20, 1, true); // The audio format is 1.\n        view.setUint16(22, 1, true); // Number of interleaved channels.\n        view.setUint32(24, this.SAMPLE_RATE, true); // Sample rate.\n        view.setUint32(28, this.SAMPLE_RATE * 2, true); // Byte rate.\n        view.setUint16(32, 2, true); // Block align\n        view.setUint16(34, 16, true); // Bits per sample.\n        // Build the data sub-chunk:\n        var subChunk2ByteCount = interleaved.length * 2;\n        this.writeUTFBytes(view, 36, \"data\");\n        view.setUint32(40, subChunk2ByteCount, true);\n        // Write the PCM samples to the view:\n        var lng = interleaved.length;\n        var index = 44;\n        var volume = 1;\n        for (var j = 0; j < lng; j++) {\n            view.setInt16(index, interleaved[j] * (0x7FFF * volume), true);\n            index += 2;\n        }\n        return new Blob([view], { type: \"audio/wav\" });\n    };\n    RecordMedia.prototype.downSampleBuffer = function (buffer, rate) {\n        if (rate === this.DEFAULT_SAMPLE_RATE) {\n            return buffer;\n        }\n        if (rate > this.DEFAULT_SAMPLE_RATE) {\n            // throw \"downsampling rate show be smaller than original sample rate\";\n            return buffer;\n        }\n        var sampleRateRatio = this.DEFAULT_SAMPLE_RATE / rate;\n        var newLength = Math.round(buffer.length / sampleRateRatio);\n        var result = new Float32Array(newLength);\n        var offsetResult = 0;\n        var offsetBuffer = 0;\n        while (offsetResult < result.length) {\n            var nextOffsetBuffer = Math.round((offsetResult + 1) * sampleRateRatio);\n            var accum = 0;\n            var count = 0;\n            for (var i = offsetBuffer; i < nextOffsetBuffer && i < buffer.length; i++) {\n                accum += buffer[i];\n                count++;\n            }\n            result[offsetResult] = accum / count;\n            offsetResult++;\n            offsetBuffer = nextOffsetBuffer;\n        }\n        return result;\n    };\n    RecordMedia.prototype.mergeBuffers = function (desiredChannelBuffer) {\n        var result = new Float32Array(this.recordingLength);\n        var offset = 0;\n        var lng = desiredChannelBuffer.length;\n        for (var i = 0; i < lng; ++i) {\n            var buffer = desiredChannelBuffer[i];\n            result.set(buffer, offset);\n            offset += buffer.length;\n        }\n        return result;\n    };\n    RecordMedia.prototype.writeUTFBytes = function (view, offset, value) {\n        var lng = value.length;\n        for (var i = 0; i < lng; i++) {\n            view.setUint8(offset + i, value.charCodeAt(i));\n        }\n    };\n    return RecordMedia;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Record.ts\nvar Record_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar Record = /** @class */ (function (_super) {\n    Record_extends(Record, _super);\n    function Record(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this._bindEvent(vditor);\n        return _this;\n    }\n    Record.prototype._bindEvent = function (vditor) {\n        var _this = this;\n        var mediaRecorder;\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            var editorElement = vditor[vditor.currentMode].element;\n            if (!mediaRecorder) {\n                navigator.mediaDevices.getUserMedia({ audio: true }).then(function (mediaStream) {\n                    mediaRecorder = new RecordMedia(mediaStream);\n                    mediaRecorder.recorder.onaudioprocess = function (e) {\n                        // Do nothing if not recording:\n                        if (!mediaRecorder.isRecording) {\n                            return;\n                        }\n                        // Copy the data from the input buffers;\n                        var left = e.inputBuffer.getChannelData(0);\n                        var right = e.inputBuffer.getChannelData(1);\n                        mediaRecorder.cloneChannelData(left, right);\n                    };\n                    mediaRecorder.startRecordingNewWavFile();\n                    vditor.tip.show(window.VditorI18n.recording);\n                    editorElement.setAttribute(\"contenteditable\", \"false\");\n                    _this.element.children[0].classList.add(\"vditor-menu--current\");\n                }).catch(function () {\n                    vditor.tip.show(window.VditorI18n[\"record-tip\"]);\n                });\n                return;\n            }\n            if (mediaRecorder.isRecording) {\n                mediaRecorder.stopRecording();\n                vditor.tip.hide();\n                var file = new File([mediaRecorder.buildWavFileBlob()], \"record\" + (new Date()).getTime() + \".wav\", { type: \"video/webm\" });\n                uploadFiles(vditor, [file]);\n                _this.element.children[0].classList.remove(\"vditor-menu--current\");\n            }\n            else {\n                vditor.tip.show(window.VditorI18n.recording);\n                editorElement.setAttribute(\"contenteditable\", \"false\");\n                mediaRecorder.startRecordingNewWavFile();\n                _this.element.children[0].classList.add(\"vditor-menu--current\");\n            }\n        });\n    };\n    return Record;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Redo.ts\nvar Redo_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Redo = /** @class */ (function (_super) {\n    Redo_extends(Redo, _super);\n    function Redo(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        disableToolbar({ redo: _this.element }, [\"redo\"]);\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            vditor.undo.redo(vditor);\n        });\n        return _this;\n    }\n    return Redo;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Undo.ts\nvar Undo_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Undo = /** @class */ (function (_super) {\n    Undo_extends(Undo, _super);\n    function Undo(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        disableToolbar({ undo: _this.element }, [\"undo\"]);\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            vditor.undo.undo(vditor);\n        });\n        return _this;\n    }\n    return Undo;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Upload.ts\nvar Upload_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Upload_Upload = /** @class */ (function (_super) {\n    Upload_extends(Upload, _super);\n    function Upload(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var inputHTML = '<input type=\"file\"';\n        if (vditor.options.upload.multiple) {\n            inputHTML += ' multiple=\"multiple\"';\n        }\n        if (vditor.options.upload.accept) {\n            inputHTML += \" accept=\\\"\" + vditor.options.upload.accept + \"\\\"\";\n        }\n        _this.element.children[0].innerHTML = \"\" + (menuItem.icon || '<svg><use xlink:href=\"#vditor-icon-upload\"></use></svg>') + inputHTML + \">\";\n        _this._bindEvent(vditor);\n        return _this;\n    }\n    Upload.prototype._bindEvent = function (vditor) {\n        var _this = this;\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                event.stopPropagation();\n                event.preventDefault();\n                return;\n            }\n        });\n        this.element.querySelector(\"input\").addEventListener(\"change\", function (event) {\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                event.stopPropagation();\n                event.preventDefault();\n                return;\n            }\n            if (event.target.files.length === 0) {\n                return;\n            }\n            uploadFiles(vditor, event.target.files, event.target);\n        });\n    };\n    return Upload;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(vditor) {\n        var _this = this;\n        var options = vditor.options;\n        this.elements = {};\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-toolbar\";\n        options.toolbar.forEach(function (menuItem, i) {\n            var itemElement = _this.genItem(vditor, menuItem, i);\n            _this.element.appendChild(itemElement);\n            if (menuItem.toolbar) {\n                var panelElement_1 = document.createElement(\"div\");\n                panelElement_1.className = \"vditor-hint vditor-panel--arrow\";\n                panelElement_1.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n                    panelElement_1.style.display = \"none\";\n                });\n                menuItem.toolbar.forEach(function (subMenuItem, subI) {\n                    subMenuItem.level = 2;\n                    panelElement_1.appendChild(_this.genItem(vditor, subMenuItem, i + subI));\n                });\n                itemElement.appendChild(panelElement_1);\n                toggleSubMenu(vditor, panelElement_1, itemElement.children[0], 2);\n            }\n        });\n        if (vditor.options.toolbarConfig.hide) {\n            this.element.classList.add(\"vditor-toolbar--hide\");\n        }\n        if (vditor.options.toolbarConfig.pin) {\n            this.element.classList.add(\"vditor-toolbar--pin\");\n        }\n        if (vditor.options.counter.enable) {\n            vditor.counter = new Counter(vditor);\n            this.element.appendChild(vditor.counter.element);\n        }\n    }\n    Toolbar.prototype.genItem = function (vditor, menuItem, index) {\n        var menuItemObj;\n        switch (menuItem.name) {\n            case \"bold\":\n            case \"italic\":\n            case \"more\":\n            case \"strike\":\n            case \"line\":\n            case \"quote\":\n            case \"list\":\n            case \"ordered-list\":\n            case \"check\":\n            case \"code\":\n            case \"inline-code\":\n            case \"link\":\n            case \"table\":\n                menuItemObj = new MenuItem(vditor, menuItem);\n                break;\n            case \"emoji\":\n                menuItemObj = new Emoji(vditor, menuItem);\n                break;\n            case \"headings\":\n                menuItemObj = new Headings(vditor, menuItem);\n                break;\n            case \"|\":\n                menuItemObj = new Divider();\n                break;\n            case \"br\":\n                menuItemObj = new Br();\n                break;\n            case \"undo\":\n                menuItemObj = new Undo(vditor, menuItem);\n                break;\n            case \"redo\":\n                menuItemObj = new Redo(vditor, menuItem);\n                break;\n            case \"help\":\n                menuItemObj = new Help(vditor, menuItem);\n                break;\n            case \"both\":\n                menuItemObj = new Both(vditor, menuItem);\n                break;\n            case \"preview\":\n                menuItemObj = new Preview_Preview(vditor, menuItem);\n                break;\n            case \"fullscreen\":\n                menuItemObj = new Fullscreen(vditor, menuItem);\n                break;\n            case \"upload\":\n                menuItemObj = new Upload_Upload(vditor, menuItem);\n                break;\n            case \"record\":\n                menuItemObj = new Record(vditor, menuItem);\n                break;\n            case \"info\":\n                menuItemObj = new Info(vditor, menuItem);\n                break;\n            case \"edit-mode\":\n                menuItemObj = new EditMode(vditor, menuItem);\n                break;\n            case \"devtools\":\n                menuItemObj = new Devtools(vditor, menuItem);\n                break;\n            case \"outdent\":\n                menuItemObj = new Outdent(vditor, menuItem);\n                break;\n            case \"indent\":\n                menuItemObj = new Indent(vditor, menuItem);\n                break;\n            case \"outline\":\n                menuItemObj = new Outline_Outline(vditor, menuItem);\n                break;\n            case \"insert-after\":\n                menuItemObj = new InsertAfter(vditor, menuItem);\n                break;\n            case \"insert-before\":\n                menuItemObj = new InsertBefore(vditor, menuItem);\n                break;\n            case \"code-theme\":\n                menuItemObj = new CodeTheme(vditor, menuItem);\n                break;\n            case \"content-theme\":\n                menuItemObj = new ContentTheme(vditor, menuItem);\n                break;\n            case \"export\":\n                menuItemObj = new Export(vditor, menuItem);\n                break;\n            default:\n                menuItemObj = new Custom(vditor, menuItem);\n                break;\n        }\n        if (!menuItemObj) {\n            return;\n        }\n        var key = menuItem.name;\n        if (key === \"br\" || key === \"|\") {\n            key = key + index;\n        }\n        this.elements[key] = menuItemObj.element;\n        return menuItemObj.element;\n    };\n    return Toolbar;\n}());\n\n\n// EXTERNAL MODULE: ./node_modules/diff-match-patch/index.js\nvar diff_match_patch = __webpack_require__(694);\n;// CONCATENATED MODULE: ./src/ts/undo/index.ts\n\n\n\n\n\n\n\n\nvar undo_Undo = /** @class */ (function () {\n    function Undo() {\n        this.stackSize = 50;\n        this.resetStack();\n        // @ts-ignore\n        this.dmp = new diff_match_patch();\n    }\n    Undo.prototype.clearStack = function (vditor) {\n        this.resetStack();\n        this.resetIcon(vditor);\n    };\n    Undo.prototype.resetIcon = function (vditor) {\n        if (!vditor.toolbar) {\n            return;\n        }\n        if (this[vditor.currentMode].undoStack.length > 1) {\n            enableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        if (this[vditor.currentMode].redoStack.length !== 0) {\n            enableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n    };\n    Undo.prototype.undo = function (vditor) {\n        if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        if (this[vditor.currentMode].undoStack.length < 2) {\n            return;\n        }\n        var state = this[vditor.currentMode].undoStack.pop();\n        if (!state) {\n            return;\n        }\n        this[vditor.currentMode].redoStack.push(state);\n        this.renderDiff(state, vditor);\n        this[vditor.currentMode].hasUndo = true;\n        // undo  hint\n        hidePanel(vditor, [\"hint\"]);\n    };\n    Undo.prototype.redo = function (vditor) {\n        if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        var state = this[vditor.currentMode].redoStack.pop();\n        if (!state) {\n            return;\n        }\n        this[vditor.currentMode].undoStack.push(state);\n        this.renderDiff(state, vditor, true);\n    };\n    Undo.prototype.recordFirstPosition = function (vditor, event) {\n        if (getSelection().rangeCount === 0) {\n            return;\n        }\n        if (this[vditor.currentMode].undoStack.length !== 1 || this[vditor.currentMode].undoStack[0].length === 0 ||\n            this[vditor.currentMode].redoStack.length > 0) {\n            return;\n        }\n        if ((0,compatibility/* isFirefox */.vU)() && event.key === \"Backspace\") {\n            // Firefox \n            return;\n        }\n        if ((0,compatibility/* isSafari */.G6)()) {\n            // Safari keydown  input \n            return;\n        }\n        var text = this.addCaret(vditor);\n        if (text.replace(\"<wbr>\", \"\").replace(\" vditor-ir__node--expand\", \"\")\n            !== this[vditor.currentMode].undoStack[0][0].diffs[0][1].replace(\"<wbr>\", \"\")) {\n            //  undo  ctrl  lastText\n            return;\n        }\n        this[vditor.currentMode].undoStack[0][0].diffs[0][1] = text;\n        this[vditor.currentMode].lastText = text;\n        //  setSelectionFocus(cloneRange);  windows chrome \n    };\n    Undo.prototype.addToUndoStack = function (vditor) {\n        // afterRenderEvent.ts  debounce\n        var text = this.addCaret(vditor, true);\n        var diff = this.dmp.diff_main(text, this[vditor.currentMode].lastText, true);\n        var patchList = this.dmp.patch_make(text, this[vditor.currentMode].lastText, diff);\n        if (patchList.length === 0 && this[vditor.currentMode].undoStack.length > 0) {\n            return;\n        }\n        this[vditor.currentMode].lastText = text;\n        this[vditor.currentMode].undoStack.push(patchList);\n        if (this[vditor.currentMode].undoStack.length > this.stackSize) {\n            this[vditor.currentMode].undoStack.shift();\n        }\n        if (this[vditor.currentMode].hasUndo) {\n            this[vditor.currentMode].redoStack = [];\n            this[vditor.currentMode].hasUndo = false;\n            disableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n        if (this[vditor.currentMode].undoStack.length > 1) {\n            enableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n    };\n    Undo.prototype.renderDiff = function (state, vditor, isRedo) {\n        if (isRedo === void 0) { isRedo = false; }\n        var text;\n        if (isRedo) {\n            var redoPatchList = this.dmp.patch_deepCopy(state).reverse();\n            redoPatchList.forEach(function (patch) {\n                patch.diffs.forEach(function (diff) {\n                    diff[0] = -diff[0];\n                });\n            });\n            text = this.dmp.patch_apply(redoPatchList, this[vditor.currentMode].lastText)[0];\n        }\n        else {\n            text = this.dmp.patch_apply(state, this[vditor.currentMode].lastText)[0];\n        }\n        this[vditor.currentMode].lastText = text;\n        vditor[vditor.currentMode].element.innerHTML = text;\n        if (vditor.currentMode !== \"sv\") {\n            vditor[vditor.currentMode].element.querySelectorAll(\".vditor-\" + vditor.currentMode + \"__preview[data-render='2']\")\n                .forEach(function (blockElement) {\n                processCodeRender(blockElement, vditor);\n            });\n        }\n        if (!vditor[vditor.currentMode].element.querySelector(\"wbr\")) {\n            // Safari \n            var range = getSelection().getRangeAt(0);\n            range.setEndBefore(vditor[vditor.currentMode].element);\n            range.collapse(false);\n        }\n        else {\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, vditor[vditor.currentMode].element.ownerDocument.createRange());\n            scrollCenter(vditor);\n        }\n        execAfterRender(vditor, {\n            enableAddUndoStack: false,\n            enableHint: false,\n            enableInput: true,\n        });\n        highlightToolbar(vditor);\n        vditor[vditor.currentMode].element.querySelectorAll(\".vditor-\" + vditor.currentMode + \"__preview[data-render='2']\")\n            .forEach(function (item) {\n            processCodeRender(item, vditor);\n        });\n        if (this[vditor.currentMode].undoStack.length > 1) {\n            enableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        if (this[vditor.currentMode].redoStack.length !== 0) {\n            enableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n    };\n    Undo.prototype.resetStack = function () {\n        this.ir = {\n            hasUndo: false,\n            lastText: \"\",\n            redoStack: [],\n            undoStack: [],\n        };\n        this.sv = {\n            hasUndo: false,\n            lastText: \"\",\n            redoStack: [],\n            undoStack: [],\n        };\n        this.wysiwyg = {\n            hasUndo: false,\n            lastText: \"\",\n            redoStack: [],\n            undoStack: [],\n        };\n    };\n    Undo.prototype.addCaret = function (vditor, setFocus) {\n        if (setFocus === void 0) { setFocus = false; }\n        var cloneRange;\n        if (getSelection().rangeCount !== 0 && !vditor[vditor.currentMode].element.querySelector(\"wbr\")) {\n            var range = getSelection().getRangeAt(0);\n            if (vditor[vditor.currentMode].element.contains(range.startContainer)) {\n                cloneRange = range.cloneRange();\n                var wbrElement = document.createElement(\"span\");\n                wbrElement.className = \"vditor-wbr\";\n                range.insertNode(wbrElement);\n            }\n        }\n        // echart  https://github.com/siyuan-note/siyuan/issues/537\n        var cloneElement = vditor.ir.element.cloneNode(true);\n        cloneElement.querySelectorAll(\".vditor-\" + vditor.currentMode + \"__preview[data-render='1']\")\n            .forEach(function (item) {\n            if (item.firstElementChild.classList.contains(\"language-echarts\") ||\n                item.firstElementChild.classList.contains(\"language-plantuml\") ||\n                item.firstElementChild.classList.contains(\"language-mindmap\")) {\n                item.firstElementChild.removeAttribute(\"_echarts_instance_\");\n                item.firstElementChild.removeAttribute(\"data-processed\");\n                item.firstElementChild.innerHTML = item.previousElementSibling.firstElementChild.innerHTML;\n                item.setAttribute(\"data-render\", \"2\");\n            }\n            if (item.firstElementChild.classList.contains(\"language-math\")) {\n                item.setAttribute(\"data-render\", \"2\");\n                item.firstElementChild.textContent = item.firstElementChild.getAttribute(\"data-math\");\n                item.firstElementChild.removeAttribute(\"data-math\");\n            }\n        });\n        var text = vditor[vditor.currentMode].element.innerHTML;\n        vditor[vditor.currentMode].element.querySelectorAll(\".vditor-wbr\").forEach(function (item) {\n            item.remove();\n            //  item.outerHTML = \"\"  https://github.com/Vanessa219/vditor/pull/686;\n        });\n        if (setFocus && cloneRange) {\n            (0,selection/* setSelectionFocus */.Hc)(cloneRange);\n        }\n        return text.replace('<span class=\"vditor-wbr\"></span>', \"<wbr>\");\n    };\n    return Undo;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/util/merge.ts\nvar merge = __webpack_require__(224);\n;// CONCATENATED MODULE: ./src/ts/util/Options.ts\n\n\nvar Options = /** @class */ (function () {\n    function Options(options) {\n        this.defaultOptions = {\n            after: undefined,\n            cache: {\n                enable: true,\n            },\n            cdn: constants/* Constants.CDN */.g.CDN,\n            classes: {\n                preview: \"\",\n            },\n            comment: {\n                enable: false,\n            },\n            counter: {\n                enable: false,\n                type: \"markdown\",\n            },\n            debugger: false,\n            fullscreen: {\n                index: 90,\n            },\n            height: \"auto\",\n            hint: {\n                delay: 200,\n                emoji: {\n                    \"+1\": \"\",\n                    \"-1\": \"\",\n                    \"confused\": \"\",\n                    \"eyes\": \"\",\n                    \"heart\": \"\",\n                    \"rocket\": \"\",\n                    \"smile\": \"\",\n                    \"tada\": \"\",\n                },\n                emojiPath: constants/* Constants.CDN */.g.CDN + \"/dist/images/emoji\",\n                extend: [],\n                parse: true,\n            },\n            icon: \"ant\",\n            lang: \"zh_CN\",\n            mode: \"ir\",\n            outline: {\n                enable: false,\n                position: \"left\",\n            },\n            placeholder: \"\",\n            preview: {\n                actions: [\"desktop\", \"tablet\", \"mobile\", \"mp-wechat\", \"zhihu\"],\n                delay: 1000,\n                hljs: constants/* Constants.HLJS_OPTIONS */.g.HLJS_OPTIONS,\n                markdown: constants/* Constants.MARKDOWN_OPTIONS */.g.MARKDOWN_OPTIONS,\n                math: constants/* Constants.MATH_OPTIONS */.g.MATH_OPTIONS,\n                maxWidth: 800,\n                mode: \"both\",\n                theme: constants/* Constants.THEME_OPTIONS */.g.THEME_OPTIONS,\n            },\n            resize: {\n                enable: false,\n                position: \"bottom\",\n            },\n            theme: \"classic\",\n            toolbar: [\n                \"emoji\",\n                \"headings\",\n                \"bold\",\n                \"italic\",\n                \"strike\",\n                \"link\",\n                \"|\",\n                \"list\",\n                \"ordered-list\",\n                \"check\",\n                \"outdent\",\n                \"indent\",\n                \"|\",\n                \"quote\",\n                \"line\",\n                \"code\",\n                \"inline-code\",\n                \"insert-before\",\n                \"insert-after\",\n                \"|\",\n                \"upload\",\n                \"record\",\n                \"table\",\n                \"|\",\n                \"undo\",\n                \"redo\",\n                \"|\",\n                \"fullscreen\",\n                \"edit-mode\",\n                {\n                    name: \"more\",\n                    toolbar: [\n                        \"both\",\n                        \"code-theme\",\n                        \"content-theme\",\n                        \"export\",\n                        \"outline\",\n                        \"preview\",\n                        \"devtools\",\n                        \"info\",\n                        \"help\",\n                    ],\n                },\n            ],\n            toolbarConfig: {\n                hide: false,\n                pin: false,\n            },\n            typewriterMode: false,\n            undoDelay: 800,\n            upload: {\n                extraData: {},\n                fieldName: \"file[]\",\n                filename: function (name) { return name.replace(/\\W/g, \"\"); },\n                linkToImgUrl: \"\",\n                max: 10 * 1024 * 1024,\n                multiple: true,\n                url: \"\",\n                withCredentials: false,\n            },\n            value: \"\",\n            width: \"auto\",\n        };\n        this.options = options;\n    }\n    Options.prototype.merge = function () {\n        var _a, _b, _c;\n        if (this.options) {\n            if (this.options.toolbar) {\n                this.options.toolbar = this.mergeToolbar(this.options.toolbar);\n            }\n            else {\n                this.options.toolbar = this.mergeToolbar(this.defaultOptions.toolbar);\n            }\n            if ((_b = (_a = this.options.preview) === null || _a === void 0 ? void 0 : _a.theme) === null || _b === void 0 ? void 0 : _b.list) {\n                this.defaultOptions.preview.theme.list = this.options.preview.theme.list;\n            }\n            if ((_c = this.options.hint) === null || _c === void 0 ? void 0 : _c.emoji) {\n                this.defaultOptions.hint.emoji = this.options.hint.emoji;\n            }\n            if (this.options.comment) {\n                this.defaultOptions.comment = this.options.comment;\n            }\n        }\n        var mergedOptions = (0,merge/* merge */.T)(this.defaultOptions, this.options);\n        if (mergedOptions.cache.enable && !mergedOptions.cache.id) {\n            throw new Error(\"need options.cache.id, see https://ld246.com/article/1549638745630#options\");\n        }\n        return mergedOptions;\n    };\n    Options.prototype.mergeToolbar = function (toolbar) {\n        var _this = this;\n        var toolbarItem = [\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-export\"></use></svg>',\n                name: \"export\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"E\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-emoji\"></use></svg>',\n                name: \"emoji\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"H\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-headings\"></use></svg>',\n                name: \"headings\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"B\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-bold\"></use></svg>',\n                name: \"bold\",\n                prefix: \"**\",\n                suffix: \"**\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"I\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-italic\"></use></svg>',\n                name: \"italic\",\n                prefix: \"*\",\n                suffix: \"*\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"D\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-strike\"></use></svg>',\n                name: \"strike\",\n                prefix: \"~~\",\n                suffix: \"~~\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"K\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-link\"></use></svg>',\n                name: \"link\",\n                prefix: \"[\",\n                suffix: \"](https://)\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                hotkey: \"L\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-list\"></use></svg>',\n                name: \"list\",\n                prefix: \"* \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"O\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-ordered-list\"></use></svg>',\n                name: \"ordered-list\",\n                prefix: \"1. \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"J\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-check\"></use></svg>',\n                name: \"check\",\n                prefix: \"* [ ] \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"I\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-outdent\"></use></svg>',\n                name: \"outdent\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"O\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-indent\"></use></svg>',\n                name: \"indent\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                hotkey: \";\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-quote\"></use></svg>',\n                name: \"quote\",\n                prefix: \"> \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"H\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-line\"></use></svg>',\n                name: \"line\",\n                prefix: \"---\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"U\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-code\"></use></svg>',\n                name: \"code\",\n                prefix: \"```\",\n                suffix: \"\\n```\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"G\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-inline-code\"></use></svg>',\n                name: \"inline-code\",\n                prefix: \"`\",\n                suffix: \"`\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"B\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-before\"></use></svg>',\n                name: \"insert-before\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"E\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-after\"></use></svg>',\n                name: \"insert-after\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-upload\"></use></svg>',\n                name: \"upload\",\n                tipPosition: \"n\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-record\"></use></svg>',\n                name: \"record\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"M\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-table\"></use></svg>',\n                name: \"table\",\n                prefix: \"| col1\",\n                suffix: \" | col2 | col3 |\\n| --- | --- | --- |\\n|  |  |  |\\n|  |  |  |\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                hotkey: \"Z\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-undo\"></use></svg>',\n                name: \"undo\",\n                tipPosition: \"nw\",\n            },\n            {\n                hotkey: \"Y\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-redo\"></use></svg>',\n                name: \"redo\",\n                tipPosition: \"nw\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-more\"></use></svg>',\n                name: \"more\",\n                tipPosition: \"e\",\n            },\n            {\n                hotkey: \"'\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-fullscreen\"></use></svg>',\n                name: \"fullscreen\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-edit\"></use></svg>',\n                name: \"edit-mode\",\n                tipPosition: \"nw\",\n            },\n            {\n                hotkey: \"P\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-both\"></use></svg>',\n                name: \"both\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-preview\"></use></svg>',\n                name: \"preview\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-align-center\"></use></svg>',\n                name: \"outline\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-theme\"></use></svg>',\n                name: \"content-theme\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-code-theme\"></use></svg>',\n                name: \"code-theme\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-bug\"></use></svg>',\n                name: \"devtools\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-info\"></use></svg>',\n                name: \"info\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-help\"></use></svg>',\n                name: \"help\",\n                tipPosition: \"nw\",\n            },\n            {\n                name: \"br\",\n            },\n        ];\n        var toolbarResult = [];\n        toolbar.forEach(function (menuItem) {\n            var currentMenuItem = menuItem;\n            toolbarItem.forEach(function (defaultMenuItem) {\n                if (typeof menuItem === \"string\" &&\n                    defaultMenuItem.name === menuItem) {\n                    currentMenuItem = defaultMenuItem;\n                }\n                if (typeof menuItem === \"object\" &&\n                    defaultMenuItem.name === menuItem.name) {\n                    currentMenuItem = Object.assign({}, defaultMenuItem, menuItem);\n                }\n            });\n            if (menuItem.toolbar) {\n                currentMenuItem.toolbar = _this.mergeToolbar(menuItem.toolbar);\n            }\n            toolbarResult.push(currentMenuItem);\n        });\n        return toolbarResult;\n    };\n    return Options;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar WYSIWYG = /** @class */ (function () {\n    function WYSIWYG(vditor) {\n        var _this = this;\n        this.composingLock = false;\n        this.commentIds = [];\n        var divElement = document.createElement(\"div\");\n        divElement.className = \"vditor-wysiwyg\";\n        divElement.innerHTML = \"<pre class=\\\"vditor-reset\\\" placeholder=\\\"\" + vditor.options.placeholder + \"\\\"\\n contenteditable=\\\"true\\\" spellcheck=\\\"false\\\"></pre>\\n<div class=\\\"vditor-panel vditor-panel--none\\\"></div>\\n<div class=\\\"vditor-panel vditor-panel--none\\\">\\n    <button type=\\\"button\\\" aria-label=\\\"\" + window.VditorI18n.comment + \"\\\" class=\\\"vditor-icon vditor-tooltipped vditor-tooltipped__n\\\">\\n        <svg><use xlink:href=\\\"#vditor-icon-comment\\\"></use></svg>\\n    </button>\\n</div>\";\n        this.element = divElement.firstElementChild;\n        this.popover = divElement.firstElementChild.nextElementSibling;\n        this.selectPopover = divElement.lastElementChild;\n        this.bindEvent(vditor);\n        focusEvent(vditor, this.element);\n        dblclickEvent(vditor, this.element);\n        blurEvent(vditor, this.element);\n        hotkeyEvent(vditor, this.element);\n        selectEvent(vditor, this.element);\n        dropEvent(vditor, this.element);\n        copyEvent(vditor, this.element, this.copy);\n        cutEvent(vditor, this.element, this.copy);\n        if (vditor.options.comment.enable) {\n            this.selectPopover.querySelector(\"button\").onclick = function () {\n                var id = Lute.NewNodeID();\n                var range = getSelection().getRangeAt(0);\n                var rangeClone = range.cloneRange();\n                var contents = range.extractContents();\n                var blockStartElement;\n                var blockEndElement;\n                var removeStart = false;\n                var removeEnd = false;\n                contents.childNodes.forEach(function (item, index) {\n                    var wrap = false;\n                    if (item.nodeType === 3) {\n                        wrap = true;\n                    }\n                    else if (!item.classList.contains(\"vditor-comment\")) {\n                        wrap = true;\n                    }\n                    else if (item.classList.contains(\"vditor-comment\")) {\n                        item.setAttribute(\"data-cmtids\", item.getAttribute(\"data-cmtids\") + \" \" + id);\n                    }\n                    if (wrap) {\n                        if (item.nodeType !== 3 && item.getAttribute(\"data-block\") === \"0\"\n                            && index === 0 && rangeClone.startOffset > 0) {\n                            item.innerHTML =\n                                \"<span class=\\\"vditor-comment\\\" data-cmtids=\\\"\" + id + \"\\\">\" + item.innerHTML + \"</span>\";\n                            blockStartElement = item;\n                        }\n                        else if (item.nodeType !== 3 && item.getAttribute(\"data-block\") === \"0\"\n                            && index === contents.childNodes.length - 1\n                            && rangeClone.endOffset < rangeClone.endContainer.textContent.length) {\n                            item.innerHTML =\n                                \"<span class=\\\"vditor-comment\\\" data-cmtids=\\\"\" + id + \"\\\">\" + item.innerHTML + \"</span>\";\n                            blockEndElement = item;\n                        }\n                        else if (item.nodeType !== 3 && item.getAttribute(\"data-block\") === \"0\") {\n                            if (index === 0) {\n                                removeStart = true;\n                            }\n                            else if (index === contents.childNodes.length - 1) {\n                                removeEnd = true;\n                            }\n                            item.innerHTML =\n                                \"<span class=\\\"vditor-comment\\\" data-cmtids=\\\"\" + id + \"\\\">\" + item.innerHTML + \"</span>\";\n                        }\n                        else {\n                            var commentElement = document.createElement(\"span\");\n                            commentElement.classList.add(\"vditor-comment\");\n                            commentElement.setAttribute(\"data-cmtids\", id);\n                            item.parentNode.insertBefore(commentElement, item);\n                            commentElement.appendChild(item);\n                        }\n                    }\n                });\n                var startElement = (0,hasClosest/* hasClosestBlock */.F9)(rangeClone.startContainer);\n                if (startElement) {\n                    if (blockStartElement) {\n                        startElement.insertAdjacentHTML(\"beforeend\", blockStartElement.innerHTML);\n                        blockStartElement.remove();\n                    }\n                    else if (startElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && removeStart) {\n                        startElement.remove();\n                    }\n                }\n                var endElement = (0,hasClosest/* hasClosestBlock */.F9)(rangeClone.endContainer);\n                if (endElement) {\n                    if (blockEndElement) {\n                        endElement.insertAdjacentHTML(\"afterbegin\", blockEndElement.innerHTML);\n                        blockEndElement.remove();\n                    }\n                    else if (endElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && removeEnd) {\n                        endElement.remove();\n                    }\n                }\n                range.insertNode(contents);\n                vditor.options.comment.add(id, range.toString(), _this.getComments(vditor, true));\n                afterRenderEvent(vditor, {\n                    enableAddUndoStack: true,\n                    enableHint: false,\n                    enableInput: false,\n                });\n                _this.hideComment();\n            };\n        }\n    }\n    WYSIWYG.prototype.getComments = function (vditor, getData) {\n        var _this = this;\n        if (getData === void 0) { getData = false; }\n        if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n            this.commentIds = [];\n            this.element.querySelectorAll(\".vditor-comment\").forEach(function (item) {\n                _this.commentIds =\n                    _this.commentIds.concat(item.getAttribute(\"data-cmtids\").split(\" \"));\n            });\n            this.commentIds = Array.from(new Set(this.commentIds));\n            var comments_1 = [];\n            if (getData) {\n                this.commentIds.forEach(function (id) {\n                    comments_1.push({\n                        id: id,\n                        top: _this.element.querySelector(\".vditor-comment[data-cmtids=\\\"\" + id + \"\\\"]\").offsetTop,\n                    });\n                });\n                return comments_1;\n            }\n        }\n        else {\n            return [];\n        }\n    };\n    WYSIWYG.prototype.triggerRemoveComment = function (vditor) {\n        var difference = function (a, b) {\n            var s = new Set(b);\n            return a.filter(function (x) { return !s.has(x); });\n        };\n        if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable && vditor.wysiwyg.commentIds.length > 0) {\n            var oldIds = JSON.parse(JSON.stringify(this.commentIds));\n            this.getComments(vditor);\n            var removedIds = difference(oldIds, this.commentIds);\n            if (removedIds.length > 0) {\n                vditor.options.comment.remove(removedIds);\n            }\n        }\n    };\n    WYSIWYG.prototype.showComment = function () {\n        var position = (0,selection/* getCursorPosition */.Ny)(this.element);\n        this.selectPopover.setAttribute(\"style\", \"left:\" + position.left + \"px;display:block;top:\" + Math.max(-8, position.top - 21) + \"px\");\n    };\n    WYSIWYG.prototype.hideComment = function () {\n        this.selectPopover.setAttribute(\"style\", \"display:none\");\n    };\n    WYSIWYG.prototype.copy = function (event, vditor) {\n        var range = getSelection().getRangeAt(0);\n        if (range.toString() === \"\") {\n            return;\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        var codeElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"CODE\");\n        var codeEndElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.endContainer, \"CODE\");\n        if (codeElement && codeEndElement && codeEndElement.isSameNode(codeElement)) {\n            var codeText = \"\";\n            if (codeElement.parentElement.tagName === \"PRE\") {\n                codeText = range.toString();\n            }\n            else {\n                codeText = \"`\" + range.toString() + \"`\";\n            }\n            event.clipboardData.setData(\"text/plain\", codeText);\n            event.clipboardData.setData(\"text/html\", \"\");\n            return;\n        }\n        var aElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"A\");\n        var aEndElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.endContainer, \"A\");\n        if (aElement && aEndElement && aEndElement.isSameNode(aElement)) {\n            var aTitle = aElement.getAttribute(\"title\") || \"\";\n            if (aTitle) {\n                aTitle = \" \\\"\" + aTitle + \"\\\"\";\n            }\n            event.clipboardData.setData(\"text/plain\", \"[\" + range.toString() + \"](\" + aElement.getAttribute(\"href\") + aTitle + \")\");\n            event.clipboardData.setData(\"text/html\", \"\");\n            return;\n        }\n        var tempElement = document.createElement(\"div\");\n        tempElement.appendChild(range.cloneContents());\n        event.clipboardData.setData(\"text/plain\", vditor.lute.VditorDOM2Md(tempElement.innerHTML).trim());\n        event.clipboardData.setData(\"text/html\", \"\");\n    };\n    WYSIWYG.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        window.addEventListener(\"scroll\", function () {\n            hidePanel(vditor, [\"hint\"]);\n            if (_this.popover.style.display !== \"block\" || _this.selectPopover.style.display !== \"block\") {\n                return;\n            }\n            var top = parseInt(_this.popover.getAttribute(\"data-top\"), 10);\n            if (vditor.options.height !== \"auto\") {\n                if (vditor.options.toolbarConfig.pin && vditor.toolbar.element.getBoundingClientRect().top === 0) {\n                    var popoverTop = Math.max(window.scrollY - vditor.element.offsetTop - 8, Math.min(top - vditor.wysiwyg.element.scrollTop, _this.element.clientHeight - 21)) + \"px\";\n                    if (_this.popover.style.display === \"block\") {\n                        _this.popover.style.top = popoverTop;\n                    }\n                    if (_this.selectPopover.style.display === \"block\") {\n                        _this.selectPopover.style.top = popoverTop;\n                    }\n                }\n                return;\n            }\n            else if (!vditor.options.toolbarConfig.pin) {\n                return;\n            }\n            var popoverTop1 = Math.max(top, (window.scrollY - vditor.element.offsetTop - 8)) + \"px\";\n            if (_this.popover.style.display === \"block\") {\n                _this.popover.style.top = popoverTop1;\n            }\n            if (_this.selectPopover.style.display === \"block\") {\n                _this.selectPopover.style.top = popoverTop1;\n            }\n        });\n        this.element.addEventListener(\"scroll\", function () {\n            hidePanel(vditor, [\"hint\"]);\n            if (vditor.options.comment && vditor.options.comment.enable && vditor.options.comment.scroll) {\n                vditor.options.comment.scroll(vditor.wysiwyg.element.scrollTop);\n            }\n            if (_this.popover.style.display !== \"block\") {\n                return;\n            }\n            var top = parseInt(_this.popover.getAttribute(\"data-top\"), 10) - vditor.wysiwyg.element.scrollTop;\n            var max = -8;\n            if (vditor.options.toolbarConfig.pin && vditor.toolbar.element.getBoundingClientRect().top === 0) {\n                max = window.scrollY - vditor.element.offsetTop + max;\n            }\n            var topPx = Math.max(max, Math.min(top, _this.element.clientHeight - 21)) + \"px\";\n            _this.popover.style.top = topPx;\n            _this.selectPopover.style.top = topPx;\n        });\n        this.element.addEventListener(\"paste\", function (event) {\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    var range = (0,selection/* getEditorRange */.zh)(vditor);\n                    var node = document.createElement(\"template\");\n                    node.innerHTML = code;\n                    range.insertNode(node.content.cloneNode(true));\n                    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-block\", \"0\");\n                    if (blockElement) {\n                        blockElement.outerHTML = vditor.lute.SpinVditorDOM(blockElement.outerHTML);\n                    }\n                    else {\n                        vditor.wysiwyg.element.innerHTML = vditor.lute.SpinVditorDOM(vditor.wysiwyg.element.innerHTML);\n                    }\n                    (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n                },\n            });\n        });\n        // \n        this.element.addEventListener(\"compositionstart\", function () {\n            _this.composingLock = true;\n        });\n        this.element.addEventListener(\"compositionend\", function (event) {\n            var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(getSelection().getRangeAt(0).startContainer);\n            if (headingElement && headingElement.textContent === \"\") {\n                // heading  https://github.com/Vanessa219/vditor/issues/150\n                renderToc(vditor);\n                return;\n            }\n            if (!(0,compatibility/* isFirefox */.vU)()) {\n                input_input(vditor, getSelection().getRangeAt(0).cloneRange(), event);\n            }\n            _this.composingLock = false;\n        });\n        this.element.addEventListener(\"input\", function (event) {\n            if (event.inputType === \"deleteByDrag\" || event.inputType === \"insertFromDrop\") {\n                // https://github.com/Vanessa219/vditor/issues/801 \n                return;\n            }\n            if (_this.preventInput) {\n                _this.preventInput = false;\n                return;\n            }\n            if (_this.composingLock || event.data === \"\" || event.data === \"\" || event.data === \"\") {\n                return;\n            }\n            var range = getSelection().getRangeAt(0);\n            var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n            if (!blockElement) {\n                // \n                modifyPre(vditor, range);\n                blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n            }\n            if (!blockElement) {\n                return;\n            }\n            // \n            var startOffset = (0,selection/* getSelectPosition */.im)(blockElement, vditor.wysiwyg.element, range).start;\n            // \n            var startSpace = true;\n            for (var i = startOffset - 1; i > blockElement.textContent.substr(0, startOffset).lastIndexOf(\"\\n\"); i--) {\n                if (blockElement.textContent.charAt(i) !== \" \" &&\n                    //  tab  https://github.com/Vanessa219/vditor/issues/162 1\n                    blockElement.textContent.charAt(i) !== \"\\t\") {\n                    startSpace = false;\n                    break;\n                }\n            }\n            if (startOffset === 0) {\n                startSpace = false;\n            }\n            // \n            var endSpace = true;\n            for (var i = startOffset - 1; i < blockElement.textContent.length; i++) {\n                if (blockElement.textContent.charAt(i) !== \" \" && blockElement.textContent.charAt(i) !== \"\\n\") {\n                    endSpace = false;\n                    break;\n                }\n            }\n            var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(getSelection().getRangeAt(0).startContainer);\n            if (headingElement && headingElement.textContent === \"\") {\n                // heading  https://github.com/Vanessa219/vditor/issues/150\n                renderToc(vditor);\n                headingElement.remove();\n            }\n            if ((startSpace && blockElement.getAttribute(\"data-type\") !== \"code-block\")\n                || endSpace || isHeadingMD(blockElement.innerHTML) ||\n                (isHrMD(blockElement.innerHTML) && blockElement.previousElementSibling)) {\n                return;\n            }\n            input_input(vditor, range, event);\n        });\n        this.element.addEventListener(\"click\", function (event) {\n            if (event.target.tagName === \"INPUT\") {\n                var checkElement = event.target;\n                if (checkElement.checked) {\n                    checkElement.setAttribute(\"checked\", \"checked\");\n                }\n                else {\n                    checkElement.removeAttribute(\"checked\");\n                }\n                _this.preventInput = true;\n                afterRenderEvent(vditor);\n                return;\n            }\n            if (event.target.tagName === \"IMG\" &&\n                // plantuml \n                !event.target.parentElement.classList.contains(\"vditor-wysiwyg__preview\")) {\n                if (event.target.getAttribute(\"data-type\") === \"link-ref\") {\n                    genLinkRefPopover(vditor, event.target);\n                }\n                else {\n                    genImagePopover(event, vditor);\n                }\n                return;\n            }\n            // \n            if (event.target.tagName === \"A\") {\n                window.open(event.target.getAttribute(\"href\"));\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            if (event.target.isEqualNode(_this.element) && _this.element.lastElementChild && range.collapsed) {\n                var lastRect = _this.element.lastElementChild.getBoundingClientRect();\n                if (event.y > lastRect.top + lastRect.height) {\n                    if (_this.element.lastElementChild.tagName === \"P\" &&\n                        _this.element.lastElementChild.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                        range.selectNodeContents(_this.element.lastElementChild);\n                        range.collapse(false);\n                    }\n                    else {\n                        _this.element.insertAdjacentHTML(\"beforeend\", \"<p data-block=\\\"0\\\">\" + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr></p>\");\n                        (0,selection/* setRangeByWbr */.ib)(_this.element, range);\n                    }\n                }\n            }\n            highlightToolbarWYSIWYG(vditor);\n            // \n            var previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(event.target, \"vditor-wysiwyg__preview\");\n            if (!previewElement) {\n                previewElement =\n                    (0,hasClosest/* hasClosestByClassName */.fb)((0,selection/* getEditorRange */.zh)(vditor).startContainer, \"vditor-wysiwyg__preview\");\n            }\n            if (previewElement) {\n                showCode(previewElement, vditor);\n            }\n            clickToc(event, vditor);\n        });\n        this.element.addEventListener(\"keyup\", function (event) {\n            if (event.isComposing || (0,compatibility/* isCtrl */.yl)(event)) {\n                return;\n            }\n            //  md cell table /block render / blockquoteh6 \n            // \n            if (event.key === \"Enter\") {\n                scrollCenter(vditor);\n            }\n            if ((event.key === \"Backspace\" || event.key === \"Delete\") &&\n                vditor.wysiwyg.element.innerHTML !== \"\" && vditor.wysiwyg.element.childNodes.length === 1 &&\n                vditor.wysiwyg.element.firstElementChild && vditor.wysiwyg.element.firstElementChild.tagName === \"P\"\n                && vditor.wysiwyg.element.firstElementChild.childElementCount === 0\n                && (vditor.wysiwyg.element.textContent === \"\" || vditor.wysiwyg.element.textContent === \"\\n\")) {\n                //  placeholder\n                vditor.wysiwyg.element.innerHTML = \"\";\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            if (event.key === \"Backspace\") {\n                // firefox headings https://github.com/Vanessa219/vditor/issues/211\n                if ((0,compatibility/* isFirefox */.vU)() && range.startContainer.textContent === \"\\n\" && range.startOffset === 1) {\n                    range.startContainer.textContent = \"\";\n                }\n            }\n            // \n            modifyPre(vditor, range);\n            highlightToolbarWYSIWYG(vditor);\n            if (event.key !== \"ArrowDown\" && event.key !== \"ArrowRight\" && event.key !== \"Backspace\"\n                && event.key !== \"ArrowLeft\" && event.key !== \"ArrowUp\") {\n                return;\n            }\n            if (event.key === \"ArrowLeft\" || event.key === \"ArrowRight\") {\n                vditor.hint.render(vditor);\n            }\n            // \n            var previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-wysiwyg__preview\");\n            if (!previewElement && range.startContainer.nodeType !== 3 && range.startOffset > 0) {\n                // table \n                var blockRenderElement = range.startContainer;\n                if (blockRenderElement.classList.contains(\"vditor-wysiwyg__block\")) {\n                    previewElement = blockRenderElement.lastElementChild;\n                }\n            }\n            if (!previewElement) {\n                return;\n            }\n            var previousElement = previewElement.previousElementSibling;\n            if (previousElement.style.display === \"none\") {\n                if (event.key === \"ArrowDown\" || event.key === \"ArrowRight\") {\n                    showCode(previewElement, vditor);\n                }\n                else {\n                    showCode(previewElement, vditor, false);\n                }\n                return;\n            }\n            var codeElement = previewElement.previousElementSibling;\n            if (codeElement.tagName === \"PRE\") {\n                codeElement = codeElement.firstElementChild;\n            }\n            if (event.key === \"ArrowDown\" || event.key === \"ArrowRight\") {\n                var blockRenderElement = previewElement.parentElement;\n                var nextNode = getRenderElementNextNode(blockRenderElement);\n                if (nextNode && nextNode.nodeType !== 3) {\n                    // \n                    var nextRenderElement = nextNode.querySelector(\".vditor-wysiwyg__preview\");\n                    if (nextRenderElement) {\n                        showCode(nextRenderElement, vditor);\n                        return;\n                    }\n                }\n                // \n                if (nextNode.nodeType === 3) {\n                    // inline\n                    while (nextNode.textContent.length === 0 && nextNode.nextSibling) {\n                        // https://github.com/Vanessa219/vditor/issues/100 2\n                        nextNode = nextNode.nextSibling;\n                    }\n                    range.setStart(nextNode, 1);\n                }\n                else {\n                    // block\n                    range.setStart(nextNode.firstChild, 0);\n                }\n            }\n            else {\n                range.selectNodeContents(codeElement);\n                range.collapse(false);\n            }\n        });\n    };\n    return WYSIWYG;\n}());\n\n\n;// CONCATENATED MODULE: ./src/index.ts\nvar src_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Vditor = /** @class */ (function (_super) {\n    src_extends(Vditor, _super);\n    /**\n     * @param id  Vditor  ID\n     * @param options Vditor \n     */\n    function Vditor(id, options) {\n        var _this = _super.call(this) || this;\n        _this.version = constants/* VDITOR_VERSION */.H;\n        if (typeof id === \"string\") {\n            if (!options) {\n                options = {\n                    cache: {\n                        id: \"vditor\" + id,\n                    },\n                };\n            }\n            else if (!options.cache) {\n                options.cache = { id: \"vditor\" + id };\n            }\n            else if (!options.cache.id) {\n                options.cache.id = \"vditor\" + id;\n            }\n            id = document.getElementById(id);\n        }\n        var getOptions = new Options(options);\n        var mergedOptions = getOptions.merge();\n        // \n        if (!mergedOptions.i18n) {\n            if (![\"en_US\", \"ja_JP\", \"ko_KR\", \"ru_RU\", \"zh_CN\", \"zh_TW\"].includes(mergedOptions.lang)) {\n                throw new Error(\"options.lang error, see https://ld246.com/article/1549638745630#options\");\n            }\n            else {\n                (0,addScript/* addScript */.G)(mergedOptions.cdn + \"/dist/js/i18n/\" + mergedOptions.lang + \".js\", \"vditorI18nScript\").then(function () {\n                    _this.init(id, mergedOptions);\n                });\n            }\n        }\n        else {\n            window.VditorI18n = mergedOptions.i18n;\n            _this.init(id, mergedOptions);\n        }\n        return _this;\n    }\n    /**  */\n    Vditor.prototype.setTheme = function (theme, contentTheme, codeTheme, contentThemePath) {\n        this.vditor.options.theme = theme;\n        setTheme(this.vditor);\n        if (contentTheme) {\n            this.vditor.options.preview.theme.current = contentTheme;\n            (0,setContentTheme/* setContentTheme */.Z)(contentTheme, contentThemePath || this.vditor.options.preview.theme.path);\n        }\n        if (codeTheme) {\n            this.vditor.options.preview.hljs.style = codeTheme;\n            (0,setCodeTheme/* setCodeTheme */.Y)(codeTheme, this.vditor.options.cdn);\n        }\n    };\n    /**  Markdown  */\n    Vditor.prototype.getValue = function () {\n        return getMarkdown(this.vditor);\n    };\n    /**  */\n    Vditor.prototype.getCurrentMode = function () {\n        return this.vditor.currentMode;\n    };\n    /**  */\n    Vditor.prototype.focus = function () {\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.element.focus();\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            this.vditor.wysiwyg.element.focus();\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            this.vditor.ir.element.focus();\n        }\n    };\n    /**  */\n    Vditor.prototype.blur = function () {\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.element.blur();\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            this.vditor.wysiwyg.element.blur();\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            this.vditor.ir.element.blur();\n        }\n    };\n    /**  */\n    Vditor.prototype.disabled = function () {\n        hidePanel(this.vditor, [\"subToolbar\", \"hint\", \"popover\"]);\n        disableToolbar(this.vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS.concat */.g.EDIT_TOOLBARS.concat([\"undo\", \"redo\", \"fullscreen\", \"edit-mode\"]));\n        this.vditor[this.vditor.currentMode].element.setAttribute(\"contenteditable\", \"false\");\n    };\n    /**  */\n    Vditor.prototype.enable = function () {\n        enableToolbar(this.vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS.concat */.g.EDIT_TOOLBARS.concat([\"undo\", \"redo\", \"fullscreen\", \"edit-mode\"]));\n        this.vditor.undo.resetIcon(this.vditor);\n        this.vditor[this.vditor.currentMode].element.setAttribute(\"contenteditable\", \"true\");\n    };\n    /**  */\n    Vditor.prototype.getSelection = function () {\n        if (this.vditor.currentMode === \"wysiwyg\") {\n            return getSelectText(this.vditor.wysiwyg.element);\n        }\n        else if (this.vditor.currentMode === \"sv\") {\n            return getSelectText(this.vditor.sv.element);\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            return getSelectText(this.vditor.ir.element);\n        }\n    };\n    /**  */\n    Vditor.prototype.renderPreview = function (value) {\n        this.vditor.preview.render(this.vditor, value);\n    };\n    /**  */\n    Vditor.prototype.getCursorPosition = function () {\n        return (0,selection/* getCursorPosition */.Ny)(this.vditor[this.vditor.currentMode].element);\n    };\n    /**  */\n    Vditor.prototype.isUploading = function () {\n        return this.vditor.upload.isUploading;\n    };\n    /**  */\n    Vditor.prototype.clearCache = function () {\n        localStorage.removeItem(this.vditor.options.cache.id);\n    };\n    /**  */\n    Vditor.prototype.disabledCache = function () {\n        this.vditor.options.cache.enable = false;\n    };\n    /**  */\n    Vditor.prototype.enableCache = function () {\n        if (!this.vditor.options.cache.id) {\n            throw new Error(\"need options.cache.id, see https://ld246.com/article/1549638745630#options\");\n        }\n        this.vditor.options.cache.enable = true;\n    };\n    /** HTML  md */\n    Vditor.prototype.html2md = function (value) {\n        return this.vditor.lute.HTML2Md(value);\n    };\n    /** markdown  JSON  */\n    Vditor.prototype.exportJSON = function (value) {\n        return this.vditor.lute.RenderJSON(value);\n    };\n    /**  HTML */\n    Vditor.prototype.getHTML = function () {\n        return getHTML(this.vditor);\n    };\n    /** time  0  */\n    Vditor.prototype.tip = function (text, time) {\n        this.vditor.tip.show(text, time);\n    };\n    /**  */\n    Vditor.prototype.setPreviewMode = function (mode) {\n        setPreviewMode(mode, this.vditor);\n    };\n    /**  */\n    Vditor.prototype.deleteValue = function () {\n        if (window.getSelection().isCollapsed) {\n            return;\n        }\n        document.execCommand(\"delete\", false);\n    };\n    /**  */\n    Vditor.prototype.updateValue = function (value) {\n        document.execCommand(\"insertHTML\", false, value);\n    };\n    /**  Markdown  */\n    Vditor.prototype.insertValue = function (value, render) {\n        if (render === void 0) { render = true; }\n        var range = (0,selection/* getEditorRange */.zh)(this.vditor);\n        range.collapse(true);\n        var tmpElement = document.createElement(\"template\");\n        tmpElement.innerHTML = value;\n        range.insertNode(tmpElement.content.cloneNode(true));\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.preventInput = true;\n            if (render) {\n                inputEvent(this.vditor);\n            }\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            this.vditor.wysiwyg.preventInput = true;\n            if (render) {\n                input_input(this.vditor, getSelection().getRangeAt(0));\n            }\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            this.vditor.ir.preventInput = true;\n            if (render) {\n                input(this.vditor, getSelection().getRangeAt(0), true);\n            }\n        }\n    };\n    /**  */\n    Vditor.prototype.setValue = function (markdown, clearStack) {\n        var _this = this;\n        if (clearStack === void 0) { clearStack = false; }\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.element.innerHTML = this.vditor.lute.SpinVditorSVDOM(markdown);\n            processAfterRender(this.vditor, {\n                enableAddUndoStack: true,\n                enableHint: false,\n                enableInput: false,\n            });\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            renderDomByMd(this.vditor, markdown, {\n                enableAddUndoStack: true,\n                enableHint: false,\n                enableInput: false,\n            });\n        }\n        else {\n            this.vditor.ir.element.innerHTML = this.vditor.lute.Md2VditorIRDOM(markdown);\n            this.vditor.ir.element\n                .querySelectorAll(\".vditor-ir__preview[data-render='2']\")\n                .forEach(function (item) {\n                processCodeRender(item, _this.vditor);\n            });\n            process_processAfterRender(this.vditor, {\n                enableAddUndoStack: true,\n                enableHint: false,\n                enableInput: false,\n            });\n        }\n        this.vditor.outline.render(this.vditor);\n        if (!markdown) {\n            hidePanel(this.vditor, [\"emoji\", \"headings\", \"submenu\", \"hint\"]);\n            if (this.vditor.wysiwyg.popover) {\n                this.vditor.wysiwyg.popover.style.display = \"none\";\n            }\n            this.clearCache();\n        }\n        if (clearStack) {\n            this.clearStack();\n        }\n    };\n    /**  undo & redo  */\n    Vditor.prototype.clearStack = function () {\n        this.vditor.undo.clearStack(this.vditor);\n        this.vditor.undo.addToUndoStack(this.vditor);\n    };\n    /**  */\n    Vditor.prototype.destroy = function () {\n        this.vditor.element.innerHTML = this.vditor.originalInnerHTML;\n        this.vditor.element.classList.remove(\"vditor\");\n        this.vditor.element.removeAttribute(\"style\");\n        document.getElementById(\"vditorIconScript\").remove();\n        this.clearCache();\n    };\n    /**  ID */\n    Vditor.prototype.getCommentIds = function () {\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return [];\n        }\n        return this.vditor.wysiwyg.getComments(this.vditor, true);\n    };\n    /**  */\n    Vditor.prototype.hlCommentIds = function (ids) {\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return;\n        }\n        var hlItem = function (item) {\n            item.classList.remove(\"vditor-comment--hover\");\n            ids.forEach(function (id) {\n                if (item.getAttribute(\"data-cmtids\").indexOf(id) > -1) {\n                    item.classList.add(\"vditor-comment--hover\");\n                }\n            });\n        };\n        this.vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-comment\")\n            .forEach(function (item) {\n            hlItem(item);\n        });\n        if (this.vditor.preview.element.style.display !== \"none\") {\n            this.vditor.preview.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                hlItem(item);\n            });\n        }\n    };\n    /**  */\n    Vditor.prototype.unHlCommentIds = function (ids) {\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return;\n        }\n        var unHlItem = function (item) {\n            ids.forEach(function (id) {\n                if (item.getAttribute(\"data-cmtids\").indexOf(id) > -1) {\n                    item.classList.remove(\"vditor-comment--hover\");\n                }\n            });\n        };\n        this.vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-comment\")\n            .forEach(function (item) {\n            unHlItem(item);\n        });\n        if (this.vditor.preview.element.style.display !== \"none\") {\n            this.vditor.preview.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                unHlItem(item);\n            });\n        }\n    };\n    /**  */\n    Vditor.prototype.removeCommentIds = function (removeIds) {\n        var _this = this;\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return;\n        }\n        var removeItem = function (item, removeId) {\n            var ids = item.getAttribute(\"data-cmtids\").split(\" \");\n            ids.find(function (id, index) {\n                if (id === removeId) {\n                    ids.splice(index, 1);\n                    return true;\n                }\n            });\n            if (ids.length === 0) {\n                item.outerHTML = item.innerHTML;\n                (0,selection/* getEditorRange */.zh)(_this.vditor).collapse(true);\n            }\n            else {\n                item.setAttribute(\"data-cmtids\", ids.join(\" \"));\n            }\n        };\n        removeIds.forEach(function (removeId) {\n            _this.vditor.wysiwyg.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                removeItem(item, removeId);\n            });\n            if (_this.vditor.preview.element.style.display !== \"none\") {\n                _this.vditor.preview.element\n                    .querySelectorAll(\".vditor-comment\")\n                    .forEach(function (item) {\n                    removeItem(item, removeId);\n                });\n            }\n        });\n        afterRenderEvent(this.vditor, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n    };\n    Vditor.prototype.init = function (id, mergedOptions) {\n        var _this = this;\n        this.vditor = {\n            currentMode: mergedOptions.mode,\n            element: id,\n            hint: new Hint(mergedOptions.hint.extend),\n            lute: undefined,\n            options: mergedOptions,\n            originalInnerHTML: id.innerHTML,\n            outline: new Outline(window.VditorI18n.outline),\n            tip: new Tip(),\n        };\n        this.vditor.sv = new Editor(this.vditor);\n        this.vditor.undo = new undo_Undo();\n        this.vditor.wysiwyg = new WYSIWYG(this.vditor);\n        this.vditor.ir = new IR(this.vditor);\n        this.vditor.toolbar = new Toolbar(this.vditor);\n        if (mergedOptions.resize.enable) {\n            this.vditor.resize = new Resize(this.vditor);\n        }\n        if (this.vditor.toolbar.elements.devtools) {\n            this.vditor.devtools = new DevTools();\n        }\n        if (mergedOptions.upload.url || mergedOptions.upload.handler) {\n            this.vditor.upload = new Upload();\n        }\n        (0,addScript/* addScript */.G)(mergedOptions._lutePath ||\n            mergedOptions.cdn + \"/dist/js/lute/lute.min.js\", \"vditorLuteScript\").then(function () {\n            _this.vditor.lute = (0,setLute/* setLute */.X)({\n                autoSpace: _this.vditor.options.preview.markdown.autoSpace,\n                codeBlockPreview: _this.vditor.options.preview.markdown\n                    .codeBlockPreview,\n                emojiSite: _this.vditor.options.hint.emojiPath,\n                emojis: _this.vditor.options.hint.emoji,\n                fixTermTypo: _this.vditor.options.preview.markdown.fixTermTypo,\n                footnotes: _this.vditor.options.preview.markdown.footnotes,\n                headingAnchor: false,\n                inlineMathDigit: _this.vditor.options.preview.math.inlineDigit,\n                linkBase: _this.vditor.options.preview.markdown.linkBase,\n                linkPrefix: _this.vditor.options.preview.markdown.linkPrefix,\n                listStyle: _this.vditor.options.preview.markdown.listStyle,\n                mark: _this.vditor.options.preview.markdown.mark,\n                mathBlockPreview: _this.vditor.options.preview.markdown\n                    .mathBlockPreview,\n                paragraphBeginningSpace: _this.vditor.options.preview.markdown\n                    .paragraphBeginningSpace,\n                sanitize: _this.vditor.options.preview.markdown.sanitize,\n                toc: _this.vditor.options.preview.markdown.toc,\n            });\n            _this.vditor.preview = new Preview(_this.vditor);\n            initUI(_this.vditor);\n            if (mergedOptions.after) {\n                mergedOptions.after();\n            }\n            if (mergedOptions.icon) {\n                //  2  2 \n                (0,addScript/* addScriptSync */.J)(mergedOptions.cdn + \"/dist/js/icons/\" + mergedOptions.icon + \".js\", \"vditorIconScript\");\n            }\n        });\n    };\n    return Vditor;\n}(method[\"default\"]));\n/* harmony default export */ const src = (Vditor);\n\n})();\n\n__webpack_exports__ = __webpack_exports__[\"default\"];\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});"],"sourceRoot":""}